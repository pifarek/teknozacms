/*! For license information please see build.js.LICENSE.txt */
!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=5)}([function(t,e,n){var i;!function(e,n){"use strict";"object"==typeof t.exports?t.exports=e.document?n(e,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return n(t)}:n(e)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,u=o.concat,c=o.push,f=o.indexOf,d={},h=d.toString,p=d.hasOwnProperty,m=p.toString,g=m.call(Object),v={},y=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},b=function(t){return null!=t&&t===t.window},x={type:!0,src:!0,noModule:!0};function w(t,e,n){var i,r=(e=e||s).createElement("script");if(r.text=t,n)for(i in x)n[i]&&(r[i]=n[i]);e.head.appendChild(r).parentNode.removeChild(r)}function _(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?d[h.call(t)]||"object":typeof t}var C=function(t,e){return new C.fn.init(t,e)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function S(t){var e=!!t&&"length"in t&&t.length,n=_(t);return!y(t)&&!b(t)&&("array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t)}C.fn=C.prototype={jquery:"3.3.1",constructor:C,length:0,toArray:function(){return l.call(this)},get:function(t){return null==t?l.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=C.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return C.each(this,t)},map:function(t){return this.pushStack(C.map(this,(function(e,n){return t.call(e,n,e)})))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(t<0?e:0);return this.pushStack(n>=0&&n<e?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},C.extend=C.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof s&&(u=s,s=arguments[a]||{},a++),"object"==typeof s||y(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)n=s[e],s!==(i=t[e])&&(u&&i&&(C.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&C.isPlainObject(n)?n:{},s[e]=C.extend(u,o,i)):void 0!==i&&(s[e]=i));return s},C.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,n;return!(!t||"[object Object]"!==h.call(t))&&(!(e=a(t))||"function"==typeof(n=p.call(e,"constructor")&&e.constructor)&&m.call(n)===g)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){w(t)},each:function(t,e){var n,i=0;if(S(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},trim:function(t){return null==t?"":(t+"").replace(k,"")},makeArray:function(t,e){var n=e||[];return null!=t&&(S(Object(t))?C.merge(n,"string"==typeof t?[t]:t):c.call(n,t)),n},inArray:function(t,e,n){return null==e?-1:f.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;i<n;i++)t[r++]=e[i];return t.length=r,t},grep:function(t,e,n){for(var i=[],r=0,o=t.length,s=!n;r<o;r++)!e(t[r],r)!==s&&i.push(t[r]);return i},map:function(t,e,n){var i,r,o=0,s=[];if(S(t))for(i=t.length;o<i;o++)null!=(r=e(t[o],o,n))&&s.push(r);else for(o in t)null!=(r=e(t[o],o,n))&&s.push(r);return u.apply([],s)},guid:1,support:v}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=o[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(t,e){d["[object "+e+"]"]=e.toLowerCase()}));var T=function(t){var e,n,i,r,o,s,a,l,u,c,f,d,h,p,m,g,v,y,b,x="sizzle"+1*new Date,w=t.document,_=0,C=0,k=st(),S=st(),T=st(),E=function(t,e){return t===e&&(f=!0),0},D={}.hasOwnProperty,N=[],A=N.pop,P=N.push,O=N.push,I=N.slice,M=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},B="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",L="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+R+"*("+L+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+L+"))|)"+R+"*\\]",H=":("+L+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",z=new RegExp(R+"+","g"),j=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),W=new RegExp("^"+R+"*,"+R+"*"),$=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),q=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),U=new RegExp(H),V=new RegExp("^"+L+"$"),Y={ID:new RegExp("^#("+L+")"),CLASS:new RegExp("^\\.("+L+")"),TAG:new RegExp("^("+L+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+B+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,G=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),tt=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,nt=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},it=function(){d()},rt=yt((function(t){return!0===t.disabled&&("form"in t||"label"in t)}),{dir:"parentNode",next:"legend"});try{O.apply(N=I.call(w.childNodes),w.childNodes),N[w.childNodes.length].nodeType}catch(t){O={apply:N.length?function(t,e){P.apply(t,I.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function ot(t,e,i,r){var o,a,u,c,f,p,v,y=e&&e.ownerDocument,_=e?e.nodeType:9;if(i=i||[],"string"!=typeof t||!t||1!==_&&9!==_&&11!==_)return i;if(!r&&((e?e.ownerDocument||e:w)!==h&&d(e),e=e||h,m)){if(11!==_&&(f=J.exec(t)))if(o=f[1]){if(9===_){if(!(u=e.getElementById(o)))return i;if(u.id===o)return i.push(u),i}else if(y&&(u=y.getElementById(o))&&b(e,u)&&u.id===o)return i.push(u),i}else{if(f[2])return O.apply(i,e.getElementsByTagName(t)),i;if((o=f[3])&&n.getElementsByClassName&&e.getElementsByClassName)return O.apply(i,e.getElementsByClassName(o)),i}if(n.qsa&&!T[t+" "]&&(!g||!g.test(t))){if(1!==_)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,nt):e.setAttribute("id",c=x),a=(p=s(t)).length;a--;)p[a]="#"+c+" "+vt(p[a]);v=p.join(","),y=Q.test(t)&&mt(e.parentNode)||e}if(v)try{return O.apply(i,y.querySelectorAll(v)),i}catch(t){}finally{c===x&&e.removeAttribute("id")}}}return l(t.replace(j,"$1"),e,i,r)}function st(){var t=[];return function e(n,r){return t.push(n+" ")>i.cacheLength&&delete e[t.shift()],e[n+" "]=r}}function at(t){return t[x]=!0,t}function lt(t){var e=h.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var n=t.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=e}function ct(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function ft(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ht(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&rt(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pt(t){return at((function(e){return e=+e,at((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in n=ot.support={},o=ot.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=ot.setDocument=function(t){var e,r,s=t?t.ownerDocument||t:w;return s!==h&&9===s.nodeType&&s.documentElement?(p=(h=s).documentElement,m=!o(h),w!==h&&(r=h.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",it,!1):r.attachEvent&&r.attachEvent("onunload",it)),n.attributes=lt((function(t){return t.className="i",!t.getAttribute("className")})),n.getElementsByTagName=lt((function(t){return t.appendChild(h.createComment("")),!t.getElementsByTagName("*").length})),n.getElementsByClassName=K.test(h.getElementsByClassName),n.getById=lt((function(t){return p.appendChild(t).id=x,!h.getElementsByName||!h.getElementsByName(x).length})),n.getById?(i.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){return t.getAttribute("id")===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n=e.getElementById(t);return n?[n]:[]}}):(i.filter.ID=function(t){var e=t.replace(Z,tt);return function(t){var n=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}},i.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var n,i,r,o=e.getElementById(t);if(o){if((n=o.getAttributeNode("id"))&&n.value===t)return[o];for(r=e.getElementsByName(t),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===t)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):n.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(n.qsa=K.test(h.querySelectorAll))&&(lt((function(t){p.appendChild(t).innerHTML="<a id='"+x+"'></a><select id='"+x+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+R+"*(?:value|"+B+")"),t.querySelectorAll("[id~="+x+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+x+"+*").length||g.push(".#.+[+~]")})),lt((function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=h.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),p.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")}))),(n.matchesSelector=K.test(y=p.matches||p.webkitMatchesSelector||p.mozMatchesSelector||p.oMatchesSelector||p.msMatchesSelector))&&lt((function(t){n.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",H)})),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(p.compareDocumentPosition),b=e||K.test(p.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return f=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!n.sortDetached&&e.compareDocumentPosition(t)===i?t===h||t.ownerDocument===w&&b(w,t)?-1:e===h||e.ownerDocument===w&&b(w,e)?1:c?M(c,t)-M(c,e):0:4&i?-1:1)}:function(t,e){if(t===e)return f=!0,0;var n,i=0,r=t.parentNode,o=e.parentNode,s=[t],a=[e];if(!r||!o)return t===h?-1:e===h?1:r?-1:o?1:c?M(c,t)-M(c,e):0;if(r===o)return ct(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ct(s[i],a[i]):s[i]===w?-1:a[i]===w?1:0},h):h},ot.matches=function(t,e){return ot(t,null,null,e)},ot.matchesSelector=function(t,e){if((t.ownerDocument||t)!==h&&d(t),e=e.replace(q,"='$1']"),n.matchesSelector&&m&&!T[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var i=y.call(t,e);if(i||n.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(t){}return ot(e,h,null,[t]).length>0},ot.contains=function(t,e){return(t.ownerDocument||t)!==h&&d(t),b(t,e)},ot.attr=function(t,e){(t.ownerDocument||t)!==h&&d(t);var r=i.attrHandle[e.toLowerCase()],o=r&&D.call(i.attrHandle,e.toLowerCase())?r(t,e,!m):void 0;return void 0!==o?o:n.attributes||!m?t.getAttribute(e):(o=t.getAttributeNode(e))&&o.specified?o.value:null},ot.escape=function(t){return(t+"").replace(et,nt)},ot.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},ot.uniqueSort=function(t){var e,i=[],r=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&t.slice(0),t.sort(E),f){for(;e=t[o++];)e===t[o]&&(r=i.push(o));for(;r--;)t.splice(i[r],1)}return c=null,t},r=ot.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(i=ot.selectors={cacheLength:50,createPseudo:at,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(Z,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(Z,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||ot.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&ot.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return Y.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&U.test(n)&&(e=s(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(Z,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=k[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&k(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=ot.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r.replace(z," ")+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,f,d,h,p,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(g){if(o){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(b=(h=(u=(c=(f=(d=g)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]||[])[0]===_&&u[1])&&u[2],d=h&&g.childNodes[h];d=++h&&d&&d[m]||(b=h=0)||p.pop();)if(1===d.nodeType&&++b&&d===e){c[t]=[_,h,b];break}}else if(y&&(b=h=(u=(c=(f=(d=e)[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]||[])[0]===_&&u[1]),!1===b)for(;(d=++h&&d&&d[m]||(b=h=0)||p.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++b||(y&&((c=(f=d[x]||(d[x]={}))[d.uniqueID]||(f[d.uniqueID]={}))[t]=[_,b]),d!==e)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(t,e){var n,r=i.pseudos[t]||i.setFilters[t.toLowerCase()]||ot.error("unsupported pseudo: "+t);return r[x]?r(e):r.length>1?(n=[t,t,"",e],i.setFilters.hasOwnProperty(t.toLowerCase())?at((function(t,n){for(var i,o=r(t,e),s=o.length;s--;)t[i=M(t,o[s])]=!(n[i]=o[s])})):function(t){return r(t,0,n)}):r}},pseudos:{not:at((function(t){var e=[],n=[],i=a(t.replace(j,"$1"));return i[x]?at((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}})),has:at((function(t){return function(e){return ot(t,e).length>0}})),contains:at((function(t){return t=t.replace(Z,tt),function(e){return(e.textContent||e.innerText||r(e)).indexOf(t)>-1}})),lang:at((function(t){return V.test(t||"")||ot.error("unsupported lang: "+t),t=t.replace(Z,tt).toLowerCase(),function(e){var n;do{if(n=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===p},focus:function(t){return t===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:ht(!1),disabled:ht(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!i.pseudos.empty(t)},header:function(t){return G.test(t.nodeName)},input:function(t){return X.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:pt((function(){return[0]})),last:pt((function(t,e){return[e-1]})),eq:pt((function(t,e,n){return[n<0?n+e:n]})),even:pt((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:pt((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:pt((function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t})),gt:pt((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[e]=ft(e);for(e in{submit:!0,reset:!0})i.pseudos[e]=dt(e);function gt(){}function vt(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(t,e,n){var i=e.dir,r=e.next,o=r||i,s=n&&"parentNode"===o,a=C++;return e.first?function(e,n,r){for(;e=e[i];)if(1===e.nodeType||s)return t(e,n,r);return!1}:function(e,n,l){var u,c,f,d=[_,a];if(l){for(;e=e[i];)if((1===e.nodeType||s)&&t(e,n,l))return!0}else for(;e=e[i];)if(1===e.nodeType||s)if(c=(f=e[x]||(e[x]={}))[e.uniqueID]||(f[e.uniqueID]={}),r&&r===e.nodeName.toLowerCase())e=e[i]||e;else{if((u=c[o])&&u[0]===_&&u[1]===a)return d[2]=u[2];if(c[o]=d,d[2]=t(e,n,l))return!0}return!1}}function bt(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function xt(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function wt(t,e,n,i,r,o){return i&&!i[x]&&(i=wt(i)),r&&!r[x]&&(r=wt(r,o)),at((function(o,s,a,l){var u,c,f,d=[],h=[],p=s.length,m=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)ot(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),g=!t||!o&&e?m:xt(m,d,t,a,l),v=n?r||(o?t:p||i)?[]:s:g;if(n&&n(g,v,a,l),i)for(u=xt(v,h),i(u,[],a,l),c=u.length;c--;)(f=u[c])&&(v[h[c]]=!(g[h[c]]=f));if(o){if(r||t){if(r){for(u=[],c=v.length;c--;)(f=v[c])&&u.push(g[c]=f);r(null,v=[],u,l)}for(c=v.length;c--;)(f=v[c])&&(u=r?M(o,f):d[c])>-1&&(o[u]=!(s[u]=f))}}else v=xt(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):O.apply(s,v)}))}function _t(t){for(var e,n,r,o=t.length,s=i.relative[t[0].type],a=s||i.relative[" "],l=s?1:0,c=yt((function(t){return t===e}),a,!0),f=yt((function(t){return M(e,t)>-1}),a,!0),d=[function(t,n,i){var r=!s&&(i||n!==u)||((e=n).nodeType?c(t,n,i):f(t,n,i));return e=null,r}];l<o;l++)if(n=i.relative[t[l].type])d=[yt(bt(d),n)];else{if((n=i.filter[t[l].type].apply(null,t[l].matches))[x]){for(r=++l;r<o&&!i.relative[t[r].type];r++);return wt(l>1&&bt(d),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(j,"$1"),n,l<r&&_t(t.slice(l,r)),r<o&&_t(t=t.slice(r)),r<o&&vt(t))}d.push(n)}return bt(d)}return gt.prototype=i.filters=i.pseudos,i.setFilters=new gt,s=ot.tokenize=function(t,e){var n,r,o,s,a,l,u,c=S[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=$.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(j," ")}),a=a.slice(n.length)),i.filter)!(r=Y[s].exec(a))||u[s]&&!(r=u[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return e?a.length:a?ot.error(t):S(t,l).slice(0)},a=ot.compile=function(t,e){var n,r=[],o=[],a=T[t+" "];if(!a){for(e||(e=s(t)),n=e.length;n--;)(a=_t(e[n]))[x]?r.push(a):o.push(a);(a=T(t,function(t,e){var n=e.length>0,r=t.length>0,o=function(o,s,a,l,c){var f,p,g,v=0,y="0",b=o&&[],x=[],w=u,C=o||r&&i.find.TAG("*",c),k=_+=null==w?1:Math.random()||.1,S=C.length;for(c&&(u=s===h||s||c);y!==S&&null!=(f=C[y]);y++){if(r&&f){for(p=0,s||f.ownerDocument===h||(d(f),a=!m);g=t[p++];)if(g(f,s||h,a)){l.push(f);break}c&&(_=k)}n&&((f=!g&&f)&&v--,o&&b.push(f))}if(v+=y,n&&y!==v){for(p=0;g=e[p++];)g(b,x,s,a);if(o){if(v>0)for(;y--;)b[y]||x[y]||(x[y]=A.call(l));x=xt(x)}O.apply(l,x),c&&!o&&x.length>0&&v+e.length>1&&ot.uniqueSort(l)}return c&&(_=k,u=w),b};return n?at(o):o}(o,r))).selector=t}return a},l=ot.select=function(t,e,n,r){var o,l,u,c,f,d="function"==typeof t&&t,h=!r&&s(t=d.selector||t);if(n=n||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&m&&i.relative[l[1].type]){if(!(e=(i.find.ID(u.matches[0].replace(Z,tt),e)||[])[0]))return n;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(o=Y.needsContext.test(t)?0:l.length;o--&&(u=l[o],!i.relative[c=u.type]);)if((f=i.find[c])&&(r=f(u.matches[0].replace(Z,tt),Q.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(o,1),!(t=r.length&&vt(l)))return O.apply(n,r),n;break}}return(d||a(t,h))(r,e,!m,n,!e||Q.test(t)&&mt(e.parentNode)||e),n},n.sortStable=x.split("").sort(E).join("")===x,n.detectDuplicates=!!f,d(),n.sortDetached=lt((function(t){return 1&t.compareDocumentPosition(h.createElement("fieldset"))})),lt((function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")}))||ut("type|href|height|width",(function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)})),n.attributes&&lt((function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")}))||ut("value",(function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue})),lt((function(t){return null==t.getAttribute("disabled")}))||ut(B,(function(t,e,n){var i;if(!n)return!0===t[e]?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null})),ot}(n);C.find=T,C.expr=T.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=T.uniqueSort,C.text=T.getText,C.isXMLDoc=T.isXML,C.contains=T.contains,C.escapeSelector=T.escape;var E=function(t,e,n){for(var i=[],r=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(r&&C(t).is(n))break;i.push(t)}return i},D=function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n},N=C.expr.match.needsContext;function A(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function O(t,e,n){return y(e)?C.grep(t,(function(t,i){return!!e.call(t,i,t)!==n})):e.nodeType?C.grep(t,(function(t){return t===e!==n})):"string"!=typeof e?C.grep(t,(function(t){return f.call(e,t)>-1!==n})):C.filter(e,t,n)}C.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,(function(t){return 1===t.nodeType})))},C.fn.extend({find:function(t){var e,n,i=this.length,r=this;if("string"!=typeof t)return this.pushStack(C(t).filter((function(){for(e=0;e<i;e++)if(C.contains(r[e],this))return!0})));for(n=this.pushStack([]),e=0;e<i;e++)C.find(t,r[e],n);return i>1?C.uniqueSort(n):n},filter:function(t){return this.pushStack(O(this,t||[],!1))},not:function(t){return this.pushStack(O(this,t||[],!0))},is:function(t){return!!O(this,"string"==typeof t&&N.test(t)?C(t):t||[],!1).length}});var I,M=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(t,e,n){var i,r;if(!t)return this;if(n=n||I,"string"==typeof t){if(!(i="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:M.exec(t))||!i[1]&&e)return!e||e.jquery?(e||n).find(t):this.constructor(e).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:s,!0)),P.test(i[1])&&C.isPlainObject(e))for(i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this)}).prototype=C.fn,I=C(s);var B=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter((function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0}))},closest:function(t,e){var n,i=0,r=this.length,o=[],s="string"!=typeof t&&C(t);if(!N.test(t))for(;i<r;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&C.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?C.uniqueSort(o):o)},index:function(t){return t?"string"==typeof t?f.call(C(t),this[0]):f.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return E(t,"parentNode")},parentsUntil:function(t,e,n){return E(t,"parentNode",n)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return E(t,"nextSibling")},prevAll:function(t){return E(t,"previousSibling")},nextUntil:function(t,e,n){return E(t,"nextSibling",n)},prevUntil:function(t,e,n){return E(t,"previousSibling",n)},siblings:function(t){return D((t.parentNode||{}).firstChild,t)},children:function(t){return D(t.firstChild)},contents:function(t){return A(t,"iframe")?t.contentDocument:(A(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},(function(t,e){C.fn[t]=function(n,i){var r=C.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=C.filter(i,r)),this.length>1&&(R[t]||C.uniqueSort(r),B.test(t)&&r.reverse()),this.pushStack(r)}}));var F=/[^\x20\t\r\n\f]+/g;function H(t){return t}function z(t){throw t}function j(t,e,n,i){var r;try{t&&y(r=t.promise)?r.call(t).done(e).fail(n):t&&y(r=t.then)?r.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return C.each(t.match(F)||[],(function(t,n){e[n]=!0})),e}(t):C.extend({},t);var e,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||t.once,i=e=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&t.stopOnFalse&&(a=o.length,n=!1);t.memory||(n=!1),e=!1,r&&(o=n?[]:"")},u={add:function(){return o&&(n&&!e&&(a=o.length-1,s.push(n)),function e(n){C.each(n,(function(n,i){y(i)?t.unique&&u.has(i)||o.push(i):i&&i.length&&"string"!==_(i)&&e(i)}))}(arguments),n&&!e&&l()),this},remove:function(){return C.each(arguments,(function(t,e){for(var n;(n=C.inArray(e,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(t){return t?C.inArray(t,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||e||(o=n=""),this},locked:function(){return!!r},fireWith:function(t,n){return r||(n=[t,(n=n||[]).slice?n.slice():n],s.push(n),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!i}};return u},C.extend({Deferred:function(t){var e=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(t){return r.then(null,t)},pipe:function(){var t=arguments;return C.Deferred((function(n){C.each(e,(function(e,i){var r=y(t[i[4]])&&t[i[4]];o[i[1]]((function(){var t=r&&r.apply(this,arguments);t&&y(t.promise)?t.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[t]:arguments)}))})),t=null})).promise()},then:function(t,i,r){var o=0;function s(t,e,i,r){return function(){var a=this,l=arguments,u=function(){var n,u;if(!(t<o)){if((n=i.apply(a,l))===e.promise())throw new TypeError("Thenable self-resolution");u=n&&("object"==typeof n||"function"==typeof n)&&n.then,y(u)?r?u.call(n,s(o,e,H,r),s(o,e,z,r)):(o++,u.call(n,s(o,e,H,r),s(o,e,z,r),s(o,e,H,e.notifyWith))):(i!==H&&(a=void 0,l=[n]),(r||e.resolveWith)(a,l))}},c=r?u:function(){try{u()}catch(n){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(n,c.stackTrace),t+1>=o&&(i!==z&&(a=void 0,l=[n]),e.rejectWith(a,l))}};t?c():(C.Deferred.getStackHook&&(c.stackTrace=C.Deferred.getStackHook()),n.setTimeout(c))}}return C.Deferred((function(n){e[0][3].add(s(0,n,y(r)?r:H,n.notifyWith)),e[1][3].add(s(0,n,y(t)?t:H)),e[2][3].add(s(0,n,y(i)?i:z))})).promise()},promise:function(t){return null!=t?C.extend(t,r):r}},o={};return C.each(e,(function(t,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add((function(){i=a}),e[3-t][2].disable,e[3-t][3].disable,e[0][2].lock,e[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),r.promise(o),t&&t.call(o,o),o},when:function(t){var e=arguments.length,n=e,i=Array(n),r=l.call(arguments),o=C.Deferred(),s=function(t){return function(n){i[t]=this,r[t]=arguments.length>1?l.call(arguments):n,--e||o.resolveWith(i,r)}};if(e<=1&&(j(t,o.done(s(n)).resolve,o.reject,!e),"pending"===o.state()||y(r[n]&&r[n].then)))return o.then();for(;n--;)j(r[n],s(n),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(t,e){n.console&&n.console.warn&&t&&W.test(t.name)&&n.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){n.setTimeout((function(){throw t}))};var $=C.Deferred();function q(){s.removeEventListener("DOMContentLoaded",q),n.removeEventListener("load",q),C.ready()}C.fn.ready=function(t){return $.then(t).catch((function(t){C.readyException(t)})),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0,!0!==t&&--C.readyWait>0||$.resolveWith(s,[C]))}}),C.ready.then=$.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(C.ready):(s.addEventListener("DOMContentLoaded",q),n.addEventListener("load",q));var U=function(t,e,n,i,r,o,s){var a=0,l=t.length,u=null==n;if("object"===_(n))for(a in r=!0,n)U(t,e,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,y(i)||(s=!0),u&&(s?(e.call(t,i),e=null):(u=e,e=function(t,e,n){return u.call(C(t),n)})),e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:u?e.call(t):l?e(t[0],n):o},V=/^-ms-/,Y=/-([a-z])/g;function X(t,e){return e.toUpperCase()}function G(t){return t.replace(V,"ms-").replace(Y,X)}var K=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function J(){this.expando=C.expando+J.uid++}J.uid=1,J.prototype={cache:function(t){var e=t[this.expando];return e||(e={},K(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,r=this.cache(t);if("string"==typeof e)r[G(e)]=n;else for(i in e)r[G(i)]=e[i];return r},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][G(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(G):(e=G(e))in i?[e]:e.match(F)||[]).length;for(;n--;)delete i[e[n]]}(void 0===e||C.isEmptyObject(i))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!C.isEmptyObject(e)}};var Q=new J,Z=new J,tt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,et=/[A-Z]/g;function nt(t,e,n){var i;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(et,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:tt.test(t)?JSON.parse(t):t)}(n)}catch(t){}Z.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return Z.hasData(t)||Q.hasData(t)},data:function(t,e,n){return Z.access(t,e,n)},removeData:function(t,e){Z.remove(t,e)},_data:function(t,e,n){return Q.access(t,e,n)},_removeData:function(t,e){Q.remove(t,e)}}),C.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=Z.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=G(i.slice(5)),nt(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof t?this.each((function(){Z.set(this,t)})):U(this,(function(e){var n;if(o&&void 0===e)return void 0!==(n=Z.get(o,t))?n:void 0!==(n=nt(o,t))?n:void 0;this.each((function(){Z.set(this,t,e)}))}),null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each((function(){Z.remove(this,t)}))}}),C.extend({queue:function(t,e,n){var i;if(t)return e=(e||"fx")+"queue",i=Q.get(t,e),n&&(!i||Array.isArray(n)?i=Q.access(t,e,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=C.queue(t,e),i=n.length,r=n.shift(),o=C._queueHooks(t,e);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,(function(){C.dequeue(t,e)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return Q.get(t,n)||Q.access(t,n,{empty:C.Callbacks("once memory").add((function(){Q.remove(t,[e+"queue",n])}))})}}),C.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?C.queue(this[0],t):void 0===e?this:this.each((function(){var n=C.queue(this,t,e);C._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&C.dequeue(this,t)}))},dequeue:function(t){return this.each((function(){C.dequeue(this,t)}))},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=C.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)(n=Q.get(o[s],t+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var it=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,rt=new RegExp("^(?:([+-])=|)("+it+")([a-z%]*)$","i"),ot=["Top","Right","Bottom","Left"],st=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&C.contains(t.ownerDocument,t)&&"none"===C.css(t,"display")},at=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];for(o in r=n.apply(t,i||[]),e)t.style[o]=s[o];return r};function lt(t,e,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return C.css(t,e,"")},l=a(),u=n&&n[3]||(C.cssNumber[e]?"":"px"),c=(C.cssNumber[e]||"px"!==u&&+l)&&rt.exec(C.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;s--;)C.style(t,e,c+u),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),c/=o;c*=2,C.style(t,e,c+u),n=n||[]}return n&&(c=+c||+l||0,r=n[1]?c+(n[1]+1)*n[2]:+n[2],i&&(i.unit=u,i.start=c,i.end=r)),r}var ut={};function ct(t){var e,n=t.ownerDocument,i=t.nodeName,r=ut[i];return r||(e=n.body.appendChild(n.createElement(i)),r=C.css(e,"display"),e.parentNode.removeChild(e),"none"===r&&(r="block"),ut[i]=r,r)}function ft(t,e){for(var n,i,r=[],o=0,s=t.length;o<s;o++)(i=t[o]).style&&(n=i.style.display,e?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&st(i)&&(r[o]=ct(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(t[o].style.display=r[o]);return t}C.fn.extend({show:function(){return ft(this,!0)},hide:function(){return ft(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each((function(){st(this)?C(this).show():C(this).hide()}))}});var dt=/^(?:checkbox|radio)$/i,ht=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,pt=/^$|^module$|\/(?:java|ecma)script/i,mt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function gt(t,e){var n;return n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&A(t,e)?C.merge([t],n):n}function vt(t,e){for(var n=0,i=t.length;n<i;n++)Q.set(t[n],"globalEval",!e||Q.get(e[n],"globalEval"))}mt.optgroup=mt.option,mt.tbody=mt.tfoot=mt.colgroup=mt.caption=mt.thead,mt.th=mt.td;var yt,bt,xt=/<|&#?\w+;/;function wt(t,e,n,i,r){for(var o,s,a,l,u,c,f=e.createDocumentFragment(),d=[],h=0,p=t.length;h<p;h++)if((o=t[h])||0===o)if("object"===_(o))C.merge(d,o.nodeType?[o]:o);else if(xt.test(o)){for(s=s||f.appendChild(e.createElement("div")),a=(ht.exec(o)||["",""])[1].toLowerCase(),l=mt[a]||mt._default,s.innerHTML=l[1]+C.htmlPrefilter(o)+l[2],c=l[0];c--;)s=s.lastChild;C.merge(d,s.childNodes),(s=f.firstChild).textContent=""}else d.push(e.createTextNode(o));for(f.textContent="",h=0;o=d[h++];)if(i&&C.inArray(o,i)>-1)r&&r.push(o);else if(u=C.contains(o.ownerDocument,o),s=gt(f.appendChild(o),"script"),u&&vt(s),n)for(c=0;o=s[c++];)pt.test(o.type||"")&&n.push(o);return f}yt=s.createDocumentFragment().appendChild(s.createElement("div")),(bt=s.createElement("input")).setAttribute("type","radio"),bt.setAttribute("checked","checked"),bt.setAttribute("name","t"),yt.appendChild(bt),v.checkClone=yt.cloneNode(!0).cloneNode(!0).lastChild.checked,yt.innerHTML="<textarea>x</textarea>",v.noCloneChecked=!!yt.cloneNode(!0).lastChild.defaultValue;var _t=s.documentElement,Ct=/^key/,kt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,St=/^([^.]*)(?:\.(.+)|)/;function Tt(){return!0}function Et(){return!1}function Dt(){try{return s.activeElement}catch(t){}}function Nt(t,e,n,i,r,o){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Nt(t,a,n,i,e[a],o);return t}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Et;else if(!r)return t;return 1===o&&(s=r,(r=function(t){return C().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),t.each((function(){C.event.add(this,e,r,i,n)}))}C.event={global:{},add:function(t,e,n,i,r){var o,s,a,l,u,c,f,d,h,p,m,g=Q.get(t);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&C.find.matchesSelector(_t,r),n.guid||(n.guid=C.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(F)||[""]).length;u--;)h=m=(a=St.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),h&&(f=C.event.special[h]||{},h=(r?f.delegateType:f.bindType)||h,f=C.event.special[h]||{},c=C.extend({type:h,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&C.expr.match.needsContext.test(r),namespace:p.join(".")},o),(d=l[h])||((d=l[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,i,p,s)||t.addEventListener&&t.addEventListener(h,s)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),r?d.splice(d.delegateCount++,0,c):d.push(c),C.event.global[h]=!0)},remove:function(t,e,n,i,r){var o,s,a,l,u,c,f,d,h,p,m,g=Q.hasData(t)&&Q.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(F)||[""]).length;u--;)if(h=m=(a=St.exec(e[u])||[])[1],p=(a[2]||"").split(".").sort(),h){for(f=C.event.special[h]||{},d=l[h=(i?f.delegateType:f.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!r&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(t,c));s&&!d.length&&(f.teardown&&!1!==f.teardown.call(t,p,g.handle)||C.removeEvent(t,h,g.handle),delete l[h])}else for(h in l)C.event.remove(t,h+e[u],n,i,!0);C.isEmptyObject(l)&&Q.remove(t,"handle events")}},dispatch:function(t){var e,n,i,r,o,s,a=C.event.fix(t),l=new Array(arguments.length),u=(Q.get(this,"events")||{})[a.type]||[],c=C.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(s=C.event.handlers.call(this,a,u),e=0;(r=s[e++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((C.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,r,o,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=e[n]).selector+" "]&&(s[r]=i.needsContext?C(r,this).index(u)>-1:C.find(r,this,null,[u]).length),s[r]&&o.push(i);o.length&&a.push({elem:u,handlers:o})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:y(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Dt()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Dt()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&A(this,"input"))return this.click(),!1},_default:function(t){return A(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?Tt:Et,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:Et,isPropagationStopped:Et,isImmediatePropagationStopped:Et,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=Tt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=Tt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=Tt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&Ct.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&kt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(t,e){C.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return r&&(r===i||C.contains(i,r))||(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}})),C.fn.extend({on:function(t,e,n,i){return Nt(this,t,e,n,i)},one:function(t,e,n,i){return Nt(this,t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=Et),this.each((function(){C.event.remove(this,t,n,e)}))}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Pt=/<script|<style|<link/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,It=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Mt(t,e){return A(t,"table")&&A(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function Bt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Rt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Lt(t,e){var n,i,r,o,s,a,l,u;if(1===e.nodeType){if(Q.hasData(t)&&(o=Q.access(t),s=Q.set(e,o),u=o.events))for(r in delete s.handle,s.events={},u)for(n=0,i=u[r].length;n<i;n++)C.event.add(e,r,u[r][n]);Z.hasData(t)&&(a=Z.access(t),l=C.extend({},a),Z.set(e,l))}}function Ft(t,e){var n=e.nodeName.toLowerCase();"input"===n&&dt.test(t.type)?e.checked=t.checked:"input"!==n&&"textarea"!==n||(e.defaultValue=t.defaultValue)}function Ht(t,e,n,i){e=u.apply([],e);var r,o,s,a,l,c,f=0,d=t.length,h=d-1,p=e[0],m=y(p);if(m||d>1&&"string"==typeof p&&!v.checkClone&&Ot.test(p))return t.each((function(r){var o=t.eq(r);m&&(e[0]=p.call(this,r,o.html())),Ht(o,e,n,i)}));if(d&&(o=(r=wt(e,t[0].ownerDocument,!1,t,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=C.map(gt(r,"script"),Bt)).length;f<d;f++)l=r,f!==h&&(l=C.clone(l,!0,!0),a&&C.merge(s,gt(l,"script"))),n.call(t[f],l,f);if(a)for(c=s[s.length-1].ownerDocument,C.map(s,Rt),f=0;f<a;f++)l=s[f],pt.test(l.type||"")&&!Q.access(l,"globalEval")&&C.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&C._evalUrl(l.src):w(l.textContent.replace(It,""),c,l))}return t}function zt(t,e,n){for(var i,r=e?C.filter(e,t):t,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||C.cleanData(gt(i)),i.parentNode&&(n&&C.contains(i.ownerDocument,i)&&vt(gt(i,"script")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t.replace(At,"<$1></$2>")},clone:function(t,e,n){var i,r,o,s,a=t.cloneNode(!0),l=C.contains(t.ownerDocument,t);if(!(v.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(s=gt(a),i=0,r=(o=gt(t)).length;i<r;i++)Ft(o[i],s[i]);if(e)if(n)for(o=o||gt(t),s=s||gt(a),i=0,r=o.length;i<r;i++)Lt(o[i],s[i]);else Lt(t,a);return(s=gt(a,"script")).length>0&&vt(s,!l&&gt(t,"script")),a},cleanData:function(t){for(var e,n,i,r=C.event.special,o=0;void 0!==(n=t[o]);o++)if(K(n)){if(e=n[Q.expando]){if(e.events)for(i in e.events)r[i]?C.event.remove(n,i):C.removeEvent(n,i,e.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),C.fn.extend({detach:function(t){return zt(this,t,!0)},remove:function(t){return zt(this,t)},text:function(t){return U(this,(function(t){return void 0===t?C.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)}))}),null,t,arguments.length)},append:function(){return Ht(this,arguments,(function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Mt(this,t).appendChild(t)}))},prepend:function(){return Ht(this,arguments,(function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=Mt(this,t);e.insertBefore(t,e.firstChild)}}))},before:function(){return Ht(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this)}))},after:function(){return Ht(this,arguments,(function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)}))},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(gt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map((function(){return C.clone(this,t,e)}))},html:function(t){return U(this,(function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!mt[(ht.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(gt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)}),null,t,arguments.length)},replaceWith:function(){var t=[];return Ht(this,arguments,(function(e){var n=this.parentNode;C.inArray(this,t)<0&&(C.cleanData(gt(this)),n&&n.replaceChild(e,this))}),t)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(t,e){C.fn[t]=function(t){for(var n,i=[],r=C(t),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),C(r[s])[e](n),c.apply(i,n.get());return this.pushStack(i)}}));var jt=new RegExp("^("+it+")(?!px)[a-z%]+$","i"),Wt=function(t){var e=t.ownerDocument.defaultView;return e&&e.opener||(e=n),e.getComputedStyle(t)},$t=new RegExp(ot.join("|"),"i");function qt(t,e,n){var i,r,o,s,a=t.style;return(n=n||Wt(t))&&(""!==(s=n.getPropertyValue(e)||n[e])||C.contains(t.ownerDocument,t)||(s=C.style(t,e)),!v.pixelBoxStyles()&&jt.test(s)&&$t.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ut(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function t(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(u).appendChild(c);var t=n.getComputedStyle(c);i="1%"!==t.top,l=12===e(t.marginLeft),c.style.right="60%",a=36===e(t.right),r=36===e(t.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",_t.removeChild(u),c=null}}function e(t){return Math.round(parseFloat(t))}var i,r,o,a,l,u=s.createElement("div"),c=s.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",v.clearCloneStyle="content-box"===c.style.backgroundClip,C.extend(v,{boxSizingReliable:function(){return t(),r},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),i},reliableMarginLeft:function(){return t(),l},scrollboxSize:function(){return t(),o}}))}();var Vt=/^(none|table(?!-c[ea]).+)/,Yt=/^--/,Xt={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Kt=["Webkit","Moz","ms"],Jt=s.createElement("div").style;function Qt(t){var e=C.cssProps[t];return e||(e=C.cssProps[t]=function(t){if(t in Jt)return t;for(var e=t[0].toUpperCase()+t.slice(1),n=Kt.length;n--;)if((t=Kt[n]+e)in Jt)return t}(t)||t),e}function Zt(t,e,n){var i=rt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function te(t,e,n,i,r,o){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=C.css(t,n+ot[s],!0,r)),i?("content"===n&&(l-=C.css(t,"padding"+ot[s],!0,r)),"margin"!==n&&(l-=C.css(t,"border"+ot[s]+"Width",!0,r))):(l+=C.css(t,"padding"+ot[s],!0,r),"padding"!==n?l+=C.css(t,"border"+ot[s]+"Width",!0,r):a+=C.css(t,"border"+ot[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-o-l-a-.5))),l}function ee(t,e,n){var i=Wt(t),r=qt(t,e,i),o="border-box"===C.css(t,"boxSizing",!1,i),s=o;if(jt.test(r)){if(!n)return r;r="auto"}return s=s&&(v.boxSizingReliable()||r===t.style[e]),("auto"===r||!parseFloat(r)&&"inline"===C.css(t,"display",!1,i))&&(r=t["offset"+e[0].toUpperCase()+e.slice(1)],s=!0),(r=parseFloat(r)||0)+te(t,e,n||(o?"border":"content"),s,i,r)+"px"}function ne(t,e,n,i,r){return new ne.prototype.init(t,e,n,i,r)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=qt(t,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=G(e),l=Yt.test(e),u=t.style;if(l||(e=Qt(a)),s=C.cssHooks[e]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:u[e];"string"===(o=typeof n)&&(r=rt.exec(n))&&r[1]&&(n=lt(t,e,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(C.cssNumber[a]?"":"px")),v.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var r,o,s,a=G(e);return Yt.test(e)||(e=Qt(a)),(s=C.cssHooks[e]||C.cssHooks[a])&&"get"in s&&(r=s.get(t,!0,n)),void 0===r&&(r=qt(t,e,i)),"normal"===r&&e in Gt&&(r=Gt[e]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),C.each(["height","width"],(function(t,e){C.cssHooks[e]={get:function(t,n,i){if(n)return!Vt.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ee(t,e,i):at(t,Xt,(function(){return ee(t,e,i)}))},set:function(t,n,i){var r,o=Wt(t),s="border-box"===C.css(t,"boxSizing",!1,o),a=i&&te(t,e,i,s,o);return s&&v.scrollboxSize()===o.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(o[e])-te(t,e,"border",!1,o)-.5)),a&&(r=rt.exec(n))&&"px"!==(r[3]||"px")&&(t.style[e]=n,n=C.css(t,e)),Zt(0,n,a)}}})),C.cssHooks.marginLeft=Ut(v.reliableMarginLeft,(function(t,e){if(e)return(parseFloat(qt(t,"marginLeft"))||t.getBoundingClientRect().left-at(t,{marginLeft:0},(function(){return t.getBoundingClientRect().left})))+"px"})),C.each({margin:"",padding:"",border:"Width"},(function(t,e){C.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[t+ot[i]+e]=o[i]||o[i-2]||o[0];return r}},"margin"!==t&&(C.cssHooks[t+e].set=Zt)})),C.fn.extend({css:function(t,e){return U(this,(function(t,e,n){var i,r,o={},s=0;if(Array.isArray(e)){for(i=Wt(t),r=e.length;s<r;s++)o[e[s]]=C.css(t,e[s],!1,i);return o}return void 0!==n?C.style(t,e,n):C.css(t,e)}),t,e,arguments.length>1)}}),C.Tween=ne,ne.prototype={constructor:ne,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(C.cssNumber[n]?"":"px")},cur:function(){var t=ne.propHooks[this.prop];return t&&t.get?t.get(this):ne.propHooks._default.get(this)},run:function(t){var e,n=ne.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):ne.propHooks._default.set(this),this}},ne.prototype.init.prototype=ne.prototype,ne.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=C.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[C.cssProps[t.prop]]&&!C.cssHooks[t.prop]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}},ne.propHooks.scrollTop=ne.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=ne.prototype.init,C.fx.step={};var ie,re,oe=/^(?:toggle|show|hide)$/,se=/queueHooks$/;function ae(){re&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ae):n.setTimeout(ae,C.fx.interval),C.fx.tick())}function le(){return n.setTimeout((function(){ie=void 0})),ie=Date.now()}function ue(t,e){var n,i=0,r={height:t};for(e=e?1:0;i<4;i+=2-e)r["margin"+(n=ot[i])]=r["padding"+n]=t;return e&&(r.opacity=r.width=t),r}function ce(t,e,n){for(var i,r=(fe.tweeners[e]||[]).concat(fe.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,e,t))return i}function fe(t,e,n){var i,r,o=0,s=fe.prefilters.length,a=C.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var e=ie||le(),n=Math.max(0,u.startTime+u.duration-e),i=1-(n/u.duration||0),o=0,s=u.tweens.length;o<s;o++)u.tweens[o].run(i);return a.notifyWith(t,[u,i,n]),i<1&&s?n:(s||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},n),originalProperties:e,originalOptions:n,startTime:ie||le(),duration:n.duration,tweens:[],createTween:function(e,n){var i=C.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(i),i},stop:function(e){var n=0,i=e?u.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)u.tweens[n].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var n,i,r,o,s;for(n in t)if(r=e[i=G(n)],o=t[n],Array.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),(s=C.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete t[i],o)n in t||(t[n]=o[n],e[n]=r);else e[i]=r}(c,u.opts.specialEasing);o<s;o++)if(i=fe.prefilters[o].call(u,t,c,u.opts))return y(i.stop)&&(C._queueHooks(u.elem,u.opts.queue).stop=i.stop.bind(i)),i;return C.map(c,ce,u),y(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),C.fx.timer(C.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}C.Animation=C.extend(fe,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return lt(n.elem,t,rt.exec(e),n),n}]},tweener:function(t,e){y(t)?(e=t,t=["*"]):t=t.match(F);for(var n,i=0,r=t.length;i<r;i++)n=t[i],fe.tweeners[n]=fe.tweeners[n]||[],fe.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,r,o,s,a,l,u,c,f="width"in e||"height"in e,d=this,h={},p=t.style,m=t.nodeType&&st(t),g=Q.get(t,"fxshow");for(i in n.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,d.always((function(){d.always((function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()}))}))),e)if(r=e[i],oe.test(r)){if(delete e[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}h[i]=g&&g[i]||C.style(t,i)}if((l=!C.isEmptyObject(e))||!C.isEmptyObject(h))for(i in f&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=g&&g.display)&&(u=Q.get(t,"display")),"none"===(c=C.css(t,"display"))&&(u?c=u:(ft([t],!0),u=t.style.display||u,c=C.css(t,"display"),ft([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===C.css(t,"float")&&(l||(d.done((function(){p.display=u})),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block")),n.overflow&&(p.overflow="hidden",d.always((function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}))),l=!1,h)l||(g?"hidden"in g&&(m=g.hidden):g=Q.access(t,"fxshow",{display:u}),o&&(g.hidden=!m),m&&ft([t],!0),d.done((function(){for(i in m||ft([t]),Q.remove(t,"fxshow"),h)C.style(t,i,h[i])}))),l=ce(m?g[i]:0,i,d),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?fe.prefilters.unshift(t):fe.prefilters.push(t)}}),C.speed=function(t,e,n){var i=t&&"object"==typeof t?C.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,n,i){return this.filter(st).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=C.isEmptyObject(t),o=C.speed(e,n,i),s=function(){var e=fe(this,C.extend({},t),o);(r||Q.get(this,"finish"))&&e.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each((function(){var e=!0,r=null!=t&&t+"queueHooks",o=C.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&se.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));!e&&n||C.dequeue(this,t)}))},finish:function(t){return!1!==t&&(t=t||"fx"),this.each((function(){var e,n=Q.get(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=C.timers,s=i?i.length:0;for(n.finish=!0,C.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;e<s;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish}))}}),C.each(["toggle","show","hide"],(function(t,e){var n=C.fn[e];C.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(ue(e,!0),t,i,r)}})),C.each({slideDown:ue("show"),slideUp:ue("hide"),slideToggle:ue("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(t,e){C.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}})),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(ie=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),ie=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){re||(re=!0,ae())},C.fx.stop=function(){re=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(t,e){return t=C.fx&&C.fx.speeds[t]||t,e=e||"fx",this.queue(e,(function(e,i){var r=n.setTimeout(e,t);i.stop=function(){n.clearTimeout(r)}}))},function(){var t=s.createElement("input"),e=s.createElement("select").appendChild(s.createElement("option"));t.type="checkbox",v.checkOn=""!==t.value,v.optSelected=e.selected,(t=s.createElement("input")).value="t",t.type="radio",v.radioValue="t"===t.value}();var de,he=C.expr.attrHandle;C.fn.extend({attr:function(t,e){return U(this,C.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each((function(){C.removeAttr(this,t)}))}}),C.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===t.getAttribute?C.prop(t,e,n):(1===o&&C.isXMLDoc(t)||(r=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?de:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):r&&"get"in r&&null!==(i=r.get(t,e))?i:null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){if(!v.radioValue&&"radio"===e&&A(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}},removeAttr:function(t,e){var n,i=0,r=e&&e.match(F);if(r&&1===t.nodeType)for(;n=r[i++];)t.removeAttribute(n)}}),de={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),(function(t,e){var n=he[e]||C.find.attr;he[e]=function(t,e,i){var r,o,s=e.toLowerCase();return i||(o=he[s],he[s]=r,r=null!=n(t,e,i)?s:null,he[s]=o),r}}));var pe=/^(?:input|select|textarea|button)$/i,me=/^(?:a|area)$/i;function ge(t){return(t.match(F)||[]).join(" ")}function ve(t){return t.getAttribute&&t.getAttribute("class")||""}function ye(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(F)||[]}C.fn.extend({prop:function(t,e){return U(this,C.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each((function(){delete this[C.propFix[t]||t]}))}}),C.extend({prop:function(t,e,n){var i,r,o=t.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&C.isXMLDoc(t)||(e=C.propFix[e]||e,r=C.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):pe.test(t.nodeName)||me.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),v.optSelected||(C.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){C.propFix[this.toLowerCase()]=this})),C.fn.extend({addClass:function(t){var e,n,i,r,o,s,a,l=0;if(y(t))return this.each((function(e){C(this).addClass(t.call(this,e,ve(this)))}));if((e=ye(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},removeClass:function(t){var e,n,i,r,o,s,a,l=0;if(y(t))return this.each((function(e){C(this).removeClass(t.call(this,e,ve(this)))}));if(!arguments.length)return this.attr("class","");if((e=ye(t)).length)for(;n=this[l++];)if(r=ve(n),i=1===n.nodeType&&" "+ge(r)+" "){for(s=0;o=e[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=ge(i))&&n.setAttribute("class",a)}return this},toggleClass:function(t,e){var n=typeof t,i="string"===n||Array.isArray(t);return"boolean"==typeof e&&i?e?this.addClass(t):this.removeClass(t):y(t)?this.each((function(n){C(this).toggleClass(t.call(this,n,ve(this),e),e)})):this.each((function(){var e,r,o,s;if(i)for(r=0,o=C(this),s=ye(t);e=s[r++];)o.hasClass(e)?o.removeClass(e):o.addClass(e);else void 0!==t&&"boolean"!==n||((e=ve(this))&&Q.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":Q.get(this,"__className__")||""))}))},hasClass:function(t){var e,n,i=0;for(e=" "+t+" ";n=this[i++];)if(1===n.nodeType&&(" "+ge(ve(n))+" ").indexOf(e)>-1)return!0;return!1}});var be=/\r/g;C.fn.extend({val:function(t){var e,n,i,r=this[0];return arguments.length?(i=y(t),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?t.call(this,n,C(this).val()):t)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=C.map(r,(function(t){return null==t?"":t+""}))),(e=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))}))):r?(e=C.valHooks[r.type]||C.valHooks[r.nodeName.toLowerCase()])&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(be,""):null==n?"":n:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:ge(C.text(t))}},select:{get:function(t){var e,n,i,r=t.options,o=t.selectedIndex,s="select-one"===t.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(e=C(n).val(),s)return e;a.push(e)}return a},set:function(t,e){for(var n,i,r=t.options,o=C.makeArray(e),s=r.length;s--;)((i=r[s]).selected=C.inArray(C.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),C.each(["radio","checkbox"],(function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=C.inArray(C(t).val(),e)>-1}},v.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})})),v.focusin="onfocusin"in n;var xe=/^(?:focusinfocus|focusoutblur)$/,we=function(t){t.stopPropagation()};C.extend(C.event,{trigger:function(t,e,i,r){var o,a,l,u,c,f,d,h,m=[i||s],g=p.call(t,"type")?t.type:t,v=p.call(t,"namespace")?t.namespace.split("."):[];if(a=h=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!xe.test(g+C.event.triggered)&&(g.indexOf(".")>-1&&(v=g.split("."),g=v.shift(),v.sort()),c=g.indexOf(":")<0&&"on"+g,(t=t[C.expando]?t:new C.Event(g,"object"==typeof t&&t)).isTrigger=r?2:3,t.namespace=v.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),e=null==e?[t]:C.makeArray(e,[t]),d=C.event.special[g]||{},r||!d.trigger||!1!==d.trigger.apply(i,e))){if(!r&&!d.noBubble&&!b(i)){for(u=d.delegateType||g,xe.test(u+g)||(a=a.parentNode);a;a=a.parentNode)m.push(a),l=a;l===(i.ownerDocument||s)&&m.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=m[o++])&&!t.isPropagationStopped();)h=a,t.type=o>1?u:d.bindType||g,(f=(Q.get(a,"events")||{})[t.type]&&Q.get(a,"handle"))&&f.apply(a,e),(f=c&&a[c])&&f.apply&&K(a)&&(t.result=f.apply(a,e),!1===t.result&&t.preventDefault());return t.type=g,r||t.isDefaultPrevented()||d._default&&!1!==d._default.apply(m.pop(),e)||!K(i)||c&&y(i[g])&&!b(i)&&((l=i[c])&&(i[c]=null),C.event.triggered=g,t.isPropagationStopped()&&h.addEventListener(g,we),i[g](),t.isPropagationStopped()&&h.removeEventListener(g,we),C.event.triggered=void 0,l&&(i[c]=l)),t.result}},simulate:function(t,e,n){var i=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(i,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each((function(){C.event.trigger(t,e,this)}))},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),v.focusin||C.each({focus:"focusin",blur:"focusout"},(function(t,e){var n=function(t){C.event.simulate(e,t.target,C.event.fix(t))};C.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=Q.access(i,e);r||i.addEventListener(t,n,!0),Q.access(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Q.access(i,e)-1;r?Q.access(i,e,r):(i.removeEventListener(t,n,!0),Q.remove(i,e))}}}));var _e=n.location,Ce=Date.now(),ke=/\?/;C.parseXML=function(t){var e;if(!t||"string"!=typeof t)return null;try{e=(new n.DOMParser).parseFromString(t,"text/xml")}catch(t){e=void 0}return e&&!e.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+t),e};var Se=/\[\]$/,Te=/\r?\n/g,Ee=/^(?:submit|button|image|reset|file)$/i,De=/^(?:input|select|textarea|keygen)/i;function Ne(t,e,n,i){var r;if(Array.isArray(e))C.each(e,(function(e,r){n||Se.test(t)?i(t,r):Ne(t+"["+("object"==typeof r&&null!=r?e:"")+"]",r,n,i)}));else if(n||"object"!==_(e))i(t,e);else for(r in e)Ne(t+"["+r+"]",e[r],n,i)}C.param=function(t,e){var n,i=[],r=function(t,e){var n=y(e)?e():e;i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,(function(){r(this.name,this.value)}));else for(n in t)Ne(n,t[n],e,r);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this})).filter((function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&De.test(this.nodeName)&&!Ee.test(t)&&(this.checked||!dt.test(t))})).map((function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,(function(t){return{name:e.name,value:t.replace(Te,"\r\n")}})):{name:e.name,value:n.replace(Te,"\r\n")}})).get()}});var Ae=/%20/g,Pe=/#.*$/,Oe=/([?&])_=[^&]*/,Ie=/^(.*?):[ \t]*([^\r\n]*)$/gm,Me=/^(?:GET|HEAD)$/,Be=/^\/\//,Re={},Le={},Fe="*/".concat("*"),He=s.createElement("a");function ze(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(F)||[];if(y(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function je(t,e,n,i){var r={},o=t===Le;function s(a){var l;return r[a]=!0,C.each(t[a]||[],(function(t,a){var u=a(e,n,i);return"string"!=typeof u||o||r[u]?o?!(l=u):void 0:(e.dataTypes.unshift(u),s(u),!1)})),l}return s(e.dataTypes[0])||!r["*"]&&s("*")}function We(t,e){var n,i,r=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((r[n]?t:i||(i={}))[n]=e[n]);return i&&C.extend(!0,t,i),t}He.href=_e.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:_e.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(_e.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?We(We(t,C.ajaxSettings),e):We(C.ajaxSettings,t)},ajaxPrefilter:ze(Re),ajaxTransport:ze(Le),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,a,l,u,c,f,d,h,p=C.ajaxSetup({},e),m=p.context||p,g=p.context&&(m.nodeType||m.jquery)?C(m):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),b=p.statusCode||{},x={},w={},_="canceled",k={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Ie.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=w[t.toLowerCase()]=w[t.toLowerCase()]||t,x[t]=e),this},overrideMimeType:function(t){return null==c&&(p.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)k.always(t[k.status]);else for(e in t)b[e]=[b[e],t[e]];return this},abort:function(t){var e=t||_;return i&&i.abort(e),S(0,e),this}};if(v.promise(k),p.url=((t||p.url||_e.href)+"").replace(Be,_e.protocol+"//"),p.type=e.method||e.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(F)||[""],null==p.crossDomain){u=s.createElement("a");try{u.href=p.url,u.href=u.href,p.crossDomain=He.protocol+"//"+He.host!=u.protocol+"//"+u.host}catch(t){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=C.param(p.data,p.traditional)),je(Re,p,e,k),c)return k;for(d in(f=C.event&&p.global)&&0==C.active++&&C.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Me.test(p.type),r=p.url.replace(Pe,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Ae,"+")):(h=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(ke.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Oe,"$1"),h=(ke.test(r)?"&":"?")+"_="+Ce+++h),p.url=r+h),p.ifModified&&(C.lastModified[r]&&k.setRequestHeader("If-Modified-Since",C.lastModified[r]),C.etag[r]&&k.setRequestHeader("If-None-Match",C.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||e.contentType)&&k.setRequestHeader("Content-Type",p.contentType),k.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+Fe+"; q=0.01":""):p.accepts["*"]),p.headers)k.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(m,k,p)||c))return k.abort();if(_="abort",y.add(p.complete),k.done(p.success),k.fail(p.error),i=je(Le,p,e,k)){if(k.readyState=1,f&&g.trigger("ajaxSend",[k,p]),c)return k;p.async&&p.timeout>0&&(l=n.setTimeout((function(){k.abort("timeout")}),p.timeout));try{c=!1,i.send(x,S)}catch(t){if(c)throw t;S(-1,t)}}else S(-1,"No Transport");function S(t,e,s,a){var u,d,h,x,w,_=e;c||(c=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",k.readyState=t>0?4:0,u=t>=200&&t<300||304===t,s&&(x=function(t,e,n){for(var i,r,o,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||t.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,k,s)),x=function(t,e,n,i){var r,o,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=u[l+" "+o]||u["* "+o]))for(r in u)if((a=r.split(" "))[1]===o&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[r]:!0!==u[r]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}(p,x,k,u),u?(p.ifModified&&((w=k.getResponseHeader("Last-Modified"))&&(C.lastModified[r]=w),(w=k.getResponseHeader("etag"))&&(C.etag[r]=w)),204===t||"HEAD"===p.type?_="nocontent":304===t?_="notmodified":(_=x.state,d=x.data,u=!(h=x.error))):(h=_,!t&&_||(_="error",t<0&&(t=0))),k.status=t,k.statusText=(e||_)+"",u?v.resolveWith(m,[d,_,k]):v.rejectWith(m,[k,_,h]),k.statusCode(b),b=void 0,f&&g.trigger(u?"ajaxSuccess":"ajaxError",[k,p,u?d:h]),y.fireWith(m,[k,_]),f&&(g.trigger("ajaxComplete",[k,p]),--C.active||C.event.trigger("ajaxStop")))}return k},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],(function(t,e){C[e]=function(t,n,i,r){return y(n)&&(r=r||i,i=n,n=void 0),C.ajax(C.extend({url:t,type:e,dataType:r,data:n,success:i},C.isPlainObject(t)&&t))}})),C._evalUrl=function(t){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(t){var e;return this[0]&&(y(t)&&(t=t.call(this[0])),e=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map((function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t})).append(this)),this},wrapInner:function(t){return y(t)?this.each((function(e){C(this).wrapInner(t.call(this,e))})):this.each((function(){var e=C(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)}))},wrap:function(t){var e=y(t);return this.each((function(n){C(this).wrapAll(e?t.call(this,n):t)}))},unwrap:function(t){return this.parent(t).not("body").each((function(){C(this).replaceWith(this.childNodes)})),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(t){}};var $e={0:200,1223:204},qe=C.ajaxSettings.xhr();v.cors=!!qe&&"withCredentials"in qe,v.ajax=qe=!!qe,C.ajaxTransport((function(t){var e,i;if(v.cors||qe&&!t.crossDomain)return{send:function(r,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);e=function(t){return function(){e&&(e=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o($e[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=e(),i=a.onerror=a.ontimeout=e("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){e&&i()}))},e=e("abort");try{a.send(t.hasContent&&t.data||null)}catch(t){if(e)throw t}},abort:function(){e&&e()}}})),C.ajaxPrefilter((function(t){t.crossDomain&&(t.contents.script=!1)})),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",(function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")})),C.ajaxTransport("script",(function(t){var e,n;if(t.crossDomain)return{send:function(i,r){e=C("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&r("error"===t.type?404:200,t.type)}),s.head.appendChild(e[0])},abort:function(){n&&n()}}}));var Ue,Ve=[],Ye=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ve.pop()||C.expando+"_"+Ce++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",(function(t,e,i){var r,o,s,a=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return r=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(Ye,"$1"+r):!1!==t.jsonp&&(t.url+=(ke.test(t.url)?"&":"?")+t.jsonp+"="+r),t.converters["script json"]=function(){return s||C.error(r+" was not called"),s[0]},t.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?C(n).removeProp(r):n[r]=o,t[r]&&(t.jsonpCallback=e.jsonpCallback,Ve.push(r)),s&&y(o)&&o(s[0]),s=o=void 0})),"script"})),v.createHTMLDocument=((Ue=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Ue.childNodes.length),C.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(v.createHTMLDocument?((i=(e=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,e.head.appendChild(i)):e=s),o=!n&&[],(r=P.exec(t))?[e.createElement(r[1])]:(r=wt([t],e,o),o&&o.length&&C(o).remove(),C.merge([],r.childNodes)));var i,r,o},C.fn.load=function(t,e,n){var i,r,o,s=this,a=t.indexOf(" ");return a>-1&&(i=ge(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(r="POST"),s.length>0&&C.ajax({url:t,type:r||"GET",dataType:"html",data:e}).done((function(t){o=arguments,s.html(i?C("<div>").append(C.parseHTML(t)).find(i):t)})).always(n&&function(t,e){s.each((function(){n.apply(this,o||[t.responseText,e,t])}))}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(t,e){C.fn[e]=function(t){return this.on(e,t)}})),C.expr.pseudos.animated=function(t){return C.grep(C.timers,(function(e){return t===e.elem})).length},C.offset={setOffset:function(t,e,n){var i,r,o,s,a,l,u=C.css(t,"position"),c=C(t),f={};"static"===u&&(t.style.position="relative"),a=c.offset(),o=C.css(t,"top"),l=C.css(t,"left"),("absolute"===u||"fixed"===u)&&(o+l).indexOf("auto")>-1?(s=(i=c.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),y(e)&&(e=e.call(t,n,C.extend({},a))),null!=e.top&&(f.top=e.top-a.top+s),null!=e.left&&(f.left=e.left-a.left+r),"using"in e?e.using.call(t,f):c.css(f)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each((function(e){C.offset.setOffset(this,t,e)}));var e,n,i=this[0];return i?i.getClientRects().length?(e=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],r={top:0,left:0};if("fixed"===C.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((r=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),r.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-r.top-C.css(i,"marginTop",!0),left:e.left-r.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||_t}))}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(t,e){var n="pageYOffset"===e;C.fn[t]=function(i){return U(this,(function(t,i,r){var o;if(b(t)?o=t:9===t.nodeType&&(o=t.defaultView),void 0===r)return o?o[e]:t[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):t[i]=r}),t,i,arguments.length)}})),C.each(["top","left"],(function(t,e){C.cssHooks[e]=Ut(v.pixelPosition,(function(t,n){if(n)return n=qt(t,e),jt.test(n)?C(t).position()[e]+"px":n}))})),C.each({Height:"height",Width:"width"},(function(t,e){C.each({padding:"inner"+t,content:e,"":"outer"+t},(function(n,i){C.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return U(this,(function(e,n,r){var o;return b(e)?0===i.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(o=e.documentElement,Math.max(e.body["scroll"+t],o["scroll"+t],e.body["offset"+t],o["offset"+t],o["client"+t])):void 0===r?C.css(e,n,a):C.style(e,n,r,a)}),e,s?r:void 0,s)}}))})),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(t,e){C.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}})),C.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}}),C.proxy=function(t,e){var n,i,r;if("string"==typeof e&&(n=t[e],e=t,t=n),y(t))return i=l.call(arguments,2),(r=function(){return t.apply(e||this,i.concat(l.call(arguments)))}).guid=t.guid=t.guid||C.guid++,r},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=A,C.isFunction=y,C.isWindow=b,C.camelCase=G,C.type=_,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},void 0===(i=function(){return C}.apply(e,[]))||(t.exports=i);var Xe=n.jQuery,Ge=n.$;return C.noConflict=function(t){return n.$===C&&(n.$=Ge),t&&n.jQuery===C&&(n.jQuery=Xe),C},r||(n.jQuery=n.$=C),C}))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){var i,r,o;r=[n(0)],void 0===(o="function"==typeof(i=function(t){t.ui=t.ui||{},t.ui.version="1.12.1";var e,n=0,i=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}),t.widget=function(e,n,i){var r,o,s,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return i||(i=n,n=t.Widget),t.isArray(i)&&(i=t.extend.apply(null,[{}].concat(i))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},r=t[l][e],o=t[l][e]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},t.extend(o,r,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(s=new n).options=t.widget.extend({},s.options),t.each(i,(function(e,i){t.isFunction(i)?a[e]=function(){function t(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}return function(){var e,n=this._super,o=this._superApply;return this._super=t,this._superApply=r,e=i.apply(this,arguments),this._super=n,this._superApply=o,e}}():a[e]=i})),o.prototype=t.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),r?(t.each(r._childConstructors,(function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,o,n._proto)})),delete r._childConstructors):n._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(t.isPlainObject(r)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],r):t.widget.extend({},r):e[n]=r);return e},t.widget.bridge=function(e,n){var r=n.prototype.widgetFullName||e;t.fn[e]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each((function(){var n,i=t.data(this,r);return"instance"===o?(l=i,!1):i?t.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")})):l=void 0:(a.length&&(o=t.widget.extend.apply(null,[o].concat(a))),this.each((function(){var e=t.data(this,r);e?(e.option(o||{}),e._init&&e._init()):t.data(this,r,new n(o,this))}))),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,i){i=t(i||this.defaultElement||this)[0],this.element=t(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},i!==this&&(t.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===i&&this.destroy()}}),this.document=t(i.style?i.ownerDocument:i.document||i),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,(function(t,n){e._removeClass(n,t)})),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var n,i,r;for(n in e)r=this.classesElementLookup[n],e[n]!==this.options.classes[n]&&r&&r.length&&(i=t(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||t(),s=e.add?t(t.unique(s.get().concat(e.element.get()))):t(s.not(e.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&e.classes[r[a]]&&n.push(e.classes[r[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&r(e.keys.match(/\S+/g)||[],!0),e.extra&&r(e.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(e){var n=this;t.each(n.classesElementLookup,(function(i,r){-1!==t.inArray(e.target,r)&&(n.classesElementLookup[i]=t(r.not(e.target).get()))}))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof t||null===t,o={extra:r?e:n,keys:r?t:e,element:r?this.element:t,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,(function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.on(u,c,a):n.on(u,a)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(n).off(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue((function(n){t(this)[e](),o&&o.call(i[0]),n()}))}})),t.widget})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){const i=n(18);t.exports=function(t){const e={};var n,r,o,s=[].slice,a=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty,u=function(t,e){for(var n in e)l.call(e,n)&&(t[n]=e[n]);function i(){this.constructor=t}return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},c=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};return n=t,e.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(){var t,e,n,i,r,o,a;if(n=arguments[0],t=2<=arguments.length?s.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[n]){for(a=[],i=0,r=(o=this.handlers[n]).length;i<r;i++)e=o[i],a.push(e.apply(null,t));return a}},t}(),e.commas=function(t){var e,n,i,r;return null!=t?(i=t<0?"-":"",e=Math.abs(t),i+=(n=Math.floor(e).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g,","),(r=e.toString()).length>n.length&&(i+=r.slice(n.length)),i):"-"},e.pad2=function(t){return(t<10?"0":"")+t},e.Grid=function(t){function r(t){this.hasToShow=a(this.hasToShow,this),this.resizeHandler=a(this.resizeHandler,this);var e=this;if("string"==typeof t.element?this.el=n(document.getElementById(t.element)):this.el=n(t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=n.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new i(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",(function(t){var n,i,r,o;return i=e.el.offset(),o=t.pageX-i.left,e.selectFrom?(n=e.data[e.hitTest(Math.min(o,e.selectFrom))]._x,r=e.data[e.hitTest(Math.max(o,e.selectFrom))]._x-n,e.selectionRect.attr({x:n,width:r})):e.fire("hovermove",o,t.pageY-i.top)})),this.el.bind("mouseleave",(function(t){return e.selectFrom&&(e.selectionRect.hide(),e.selectFrom=null),e.fire("hoverout")})),this.el.bind("touchstart touchmove touchend",(function(t){var n,i;return i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],n=e.el.offset(),e.fire("hovermove",i.pageX-n.left,i.pageY-n.top)})),this.el.bind("click",(function(t){var n;return n=e.el.offset(),e.fire("gridclick",t.pageX-n.left,t.pageY-n.top)})),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",(function(t){var n;return n=e.el.offset(),e.startRange(t.pageX-n.left)})),this.el.bind("mouseup",(function(t){var n;return n=e.el.offset(),e.endRange(t.pageX-n.left),e.fire("hovermove",t.pageX-n.left,t.pageY-n.top)}))),this.options.resize&&n(window).bind("resize",(function(t){return null!=e.timeoutId&&clearTimeout(e.timeoutId),e.timeoutId=setTimeout(e.resizeHandler,100)})),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return u(r,t),r.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},r.prototype.setData=function(t,i){var r,o,s,a,l,u,c,f,d,h,p,m,g,v,y,b,x,w,_,C,k;if(null==i&&(i=!0),this.options.data=t,null==t||0===t.length)return this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide());if(y=this.cumulative?0:null,b=this.cumulative?0:null,this.options.goals.length>0&&(c=Math.min.apply(Math,this.options.goals),u=Math.max.apply(Math,this.options.goals),b=null!=b?Math.min(b,c):c,y=null!=y?Math.max(y,u):u),this.data=function(){var n,i,r;for(r=[],l=n=0,i=t.length;n<i;l=++n)d=t[l],(f={src:d}).label=d[this.options.xkey],this.options.parseTime?(f.x=e.parseDate(f.label),this.options.dateFormat?f.label=this.options.dateFormat(f.x):"number"==typeof f.label&&(f.label=new Date(f.label).toString())):(f.x=l,this.options.xLabelFormat&&(f.label=this.options.xLabelFormat(f))),m=0,f.y=function(){var t,e,n,i;for(n=this.options.ykeys,i=[],a=t=0,e=n.length;t<e;a=++t)v=n[a],"string"==typeof(x=d[v])&&(x=parseFloat(x)),null!=x&&"number"!=typeof x&&(x=null),null!=x&&this.hasToShow(a)&&(this.cumulative?m+=x:null!=y?(y=Math.max(x,y),b=Math.min(x,b)):y=b=x),this.cumulative&&null!=m&&(y=Math.max(m,y),b=Math.min(m,b)),i.push(x);return i}.call(this),r.push(f);return r}.call(this),this.options.parseTime&&(this.data=this.data.sort((function(t,e){return(t.x>e.x)-(e.x>t.x)}))),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0){if(this.options.parseTime)for(w=0,_=(C=this.options.events).length;w<_;w++)(r=C[w])instanceof Array?(s=r[0],p=r[1],this.events.push([e.parseDate(s),e.parseDate(p)])):this.events.push(e.parseDate(r));else this.events=this.options.events;o=n.map(this.events,(function(t){return t})),this.xmax=Math.max(this.xmax,Math.max.apply(Math,o)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,o))}return this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",b),this.ymax=this.yboundary("max",y),this.ymin===this.ymax&&(b&&(this.ymin-=1),this.ymax+=1),!0!==(k=this.options.axes)&&"both"!==k&&"y"!==k&&!0!==this.options.grid||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(h=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,n;for(n=[],g=t=this.ymin,e=this.ymax;h>0?t<=e:t>=e;g=t+=h)n.push(g);return n}.call(this))),this.dirty=!0,i?this.redraw():void 0},r.prototype.yboundary=function(t,e){var n,i;return"string"==typeof(n=this.options["y"+t])?"auto"===n.slice(0,4)?n.length>5?(i=parseInt(n.slice(5),10),null==e?i:Math[t](e,i)):null!=e?e:0:parseInt(n,10):n},r.prototype.autoGridLines=function(t,e,n){var i,r,o,s,a,l,u,c,f;return a=e-t,f=Math.floor(Math.log(a)/Math.log(10)),u=Math.pow(10,f),r=Math.floor(t/u)*u,i=Math.ceil(e/u)*u,l=(i-r)/(n-1),1===u&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),i=r+l*(n-1)),r<0&&i>0&&(r=Math.floor(t/l)*l,i=Math.ceil(e/l)*l),l<1?(s=Math.floor(Math.log(l)/Math.log(10)),o=function(){var t,e;for(e=[],c=t=r;l>0?t<=i:t>=i;c=t+=l)e.push(parseFloat(c.toFixed(1-s)));return e}()):o=function(){var t,e;for(e=[],c=t=r;l>0?t<=i:t>=i;c=t+=l)e.push(c);return e}(),o},r.prototype._calc=function(){var t,e,n,i,r,o,s,a,l;if(o=this.el.width(),i=this.el.height(),(this.elementWidth!==o||this.elementHeight!==i||this.dirty)&&(this.elementWidth=o,this.elementHeight=i,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,!0!==(a=this.options.axes)&&"both"!==a&&"y"!==a||(s=function(){var t,e,i,r;for(r=[],t=0,e=(i=this.grid).length;t<e;t++)n=i[t],r.push(this.measureText(this.yAxisFormat(n)).width);return r}.call(this),this.options.horizontal?this.bottom-=Math.max.apply(Math,s):this.left+=Math.max.apply(Math,s)),!0!==(l=this.options.axes)&&"both"!==l&&"x"!==l||(t=this.options.horizontal?-90:-this.options.xLabelAngle,e=function(){var e,n,i;for(i=[],r=e=0,n=this.data.length;0<=n?e<n:e>n;r=0<=n?++e:--e)i.push(this.measureText(this.data[r].label,t).height);return i}.call(this),this.options.horizontal?this.left+=Math.max.apply(Math,e):this.bottom-=Math.max.apply(Math,e)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.options.horizontal?(this.dx=this.height/(this.xmax-this.xmin),this.dy=this.width/(this.ymax-this.ymin),this.yStart=this.left,this.yEnd=this.right,this.xStart=this.top,this.xEnd=this.bottom,this.xSize=this.height,this.ySize=this.width):(this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.yStart=this.bottom,this.yEnd=this.top,this.xStart=this.left,this.xEnd=this.right,this.xSize=this.width,this.ySize=this.height),this.calc))return this.calc()},r.prototype.transY=function(t){return this.options.horizontal?this.left+(t-this.ymin)*this.dy:this.bottom-(t-this.ymin)*this.dy},r.prototype.transX=function(t){return 1===this.data.length?(this.xStart+this.xEnd)/2:this.xStart+(t-this.xmin)*this.dx},r.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},r.prototype.measureText=function(t,e){var n,i;return null==e&&(e=0),n=(i=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e)).getBBox(),i.remove(),n},r.prototype.yAxisFormat=function(t){return this.yLabelFormat(t,0)},r.prototype.yLabelFormat=function(t,n){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t,n):""+this.options.preUnits+e.commas(t)+this.options.postUnits},r.prototype.getYAxisLabelX=function(){return this.left-this.options.padding/2},r.prototype.drawGrid=function(){var t,e,n,i,r,o,s,a,l;if(!1!==this.options.grid||!0===(o=this.options.axes)||"both"===o||"y"===o){for(t=this.options.horizontal?this.getXAxisLabelY():this.getYAxisLabelX(),l=[],i=0,r=(s=this.grid).length;i<r;i++)e=s[i],n=this.transY(e),!0!==(a=this.options.axes)&&"both"!==a&&"y"!==a||(this.options.horizontal?this.drawXAxisLabel(n,t,this.yAxisFormat(e)):this.drawYAxisLabel(t,n,this.yAxisFormat(e))),this.options.grid?(n=Math.floor(n)+.5,this.options.horizontal?l.push(this.drawGridLine("M"+n+","+this.xStart+"V"+this.xEnd)):l.push(this.drawGridLine("M"+this.xStart+","+n+"H"+this.xEnd))):l.push(void 0);return l}},r.prototype.drawGoals=function(){var t,e,n,i,r,o,s;for(s=[],n=i=0,r=(o=this.options.goals).length;i<r;n=++i)e=o[n],t=this.options.goalLineColors[n%this.options.goalLineColors.length],s.push(this.drawGoal(e,t));return s},r.prototype.drawEvents=function(){var t,e,n,i,r,o,s;for(s=[],n=i=0,r=(o=this.events).length;i<r;n=++i)e=o[n],t=this.options.eventLineColors[n%this.options.eventLineColors.length],s.push(this.drawEvent(e,t));return s},r.prototype.drawGoal=function(t,e){var n,i;return i=Math.floor(this.transY(t))+.5,n=this.options.horizontal?"M"+i+","+this.xStart+"V"+this.xEnd:"M"+this.xStart+","+i+"H"+this.xEnd,this.raphael.path(n).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},r.prototype.drawEvent=function(t,e){var n,i,r,o;return t instanceof Array?(n=t[0],r=t[1],n=Math.floor(this.transX(n))+.5,r=Math.floor(this.transX(r))+.5,this.options.horizontal?this.raphael.rect(this.yStart,n,this.yEnd-this.yStart,r-n).attr({fill:e,stroke:!1}).toBack():this.raphael.rect(n,this.yEnd,r-n,this.yStart-this.yEnd).attr({fill:e,stroke:!1}).toBack()):(o=Math.floor(this.transX(t))+.5,i=this.options.horizontal?"M"+this.yStart+","+o+"H"+this.yEnd:"M"+o+","+this.yStart+"V"+this.yEnd,this.raphael.path(i).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth))},r.prototype.drawYAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},r.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},r.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},r.prototype.endRange=function(t){var e,n;if(this.selectFrom)return n=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},r.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},r.prototype.hasToShow=function(t){return!0===this.options.shown||!0===this.options.shown[t]},r}(e.EventEmitter),e.parseDate=function(t){var e,n,i,r,o,s,a,l,u,c,f;return"number"==typeof t?t:(n=t.match(/^(\d+) Q(\d)$/),r=t.match(/^(\d+)-(\d+)$/),o=t.match(/^(\d+)-(\d+)-(\d+)$/),a=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),u=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),n?new Date(parseInt(n[1],10),3*parseInt(n[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():o?new Date(parseInt(o[1],10),parseInt(o[2],10)-1,parseInt(o[3],10)).getTime():a?(4!==(c=new Date(parseInt(a[1],10),0,1)).getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7),c.getTime()+6048e5*parseInt(a[2],10)):l?l[6]?(s=0,"Z"!==l[6]&&(s=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(s=0-s)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+s)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():u?(f=parseFloat(u[6]),e=Math.floor(f),i=Math.round(1e3*(f-e)),u[8]?(s=0,"Z"!==u[8]&&(s=60*parseInt(u[10],10)+parseInt(u[11],10),"+"===u[9]&&(s=0-s)),Date.UTC(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10)+s,e,i)):new Date(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10),e,i).getTime()):new Date(parseInt(t,10),0,1).getTime())},e.Hover=function(){function t(t){null==t&&(t={}),this.options=n.extend({},e.Hover.defaults,t),this.el=n("<div class='"+this.options.class+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return t.defaults={class:"morris-hover morris-default-style"},t.prototype.update=function(t,e,n,i){return t?(this.html(t),this.show(),this.moveTo(e,n,i)):this.hide()},t.prototype.html=function(t){return this.el.html(t)},t.prototype.moveTo=function(t,e,n){var i,r,o,s,a,l;return a=this.options.parent.innerWidth(),s=this.options.parent.innerHeight(),r=this.el.outerWidth(),i=this.el.outerHeight(),o=Math.min(Math.max(0,t-r/2),a-r),null!=e?!0===n?(l=e-i/2)<0&&(l=0):(l=e-i-10)<0&&(l=e+10)+i>s&&(l=s/2-i/2):l=s/2-i/2,this.el.css({left:o+"px",top:parseInt(l)+"px"})},t.prototype.show=function(){return this.el.show()},t.prototype.hide=function(){return this.el.hide()},t}(),e.Line=function(t){function r(t){if(this.hilight=a(this.hilight,this),this.onHoverOut=a(this.onHoverOut,this),this.onHoverMove=a(this.onHoverMove,this),this.onGridClick=a(this.onGridClick,this),!(this instanceof e.Line))return new e.Line(t);r.__super__.constructor.call(this,t)}return u(r,t),r.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},r.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,shown:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1,trendLine:!1,trendLineWidth:2,trendLineColors:["#689bc3","#a2b3bf","#64b764"]},r.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},r.prototype.calcPoints=function(){var t,e,n,i,r,o;for(o=[],n=0,i=(r=this.data).length;n<i;n++)(t=r[n])._x=this.transX(t.x),t._y=function(){var n,i,r,o;for(o=[],n=0,i=(r=t.y).length;n<i;n++)null!=(e=r[n])?o.push(this.transY(e)):o.push(e);return o}.call(this),o.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var n,i,r,o;for(o=[],n=0,i=(r=t._y).length;n<i;n++)null!=(e=r[n])&&o.push(e);return o}())));return o},r.prototype.hitTest=function(t){var e,n,i,r;if(0===this.data.length)return null;for(e=n=0,i=(r=this.data.slice(1)).length;n<i&&!(t<(r[e]._x+this.data[e]._x)/2);e=++n);return e},r.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},r.prototype.onHoverMove=function(t,e){var n;return n=this.hitTest(t),this.displayHoverForRow(n)},r.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.displayHoverForRow(null)},r.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},r.prototype.hoverContentForRow=function(t){var e,i,r,o,s,a,l;for(r=this.data[t],e=(e=n("<div class='morris-hover-row-label'>").text(r.label)).prop("outerHTML"),i=s=0,a=(l=r.y).length;s<a;i=++s)o=l[i],!1!==this.options.labels[i]&&(e+="<div class='morris-hover-point' style='color: "+this.colorFor(r,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(o,i)+"\n</div>");return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,r.src)),[e,r._x,r._ymax]},r.prototype.generatePaths=function(){var t,n,i,r;return this.paths=function(){var o,s,a,l;for(l=[],n=o=0,s=this.options.ykeys.length;0<=s?o<s:o>s;n=0<=s?++o:--o)r="boolean"==typeof this.options.smooth?this.options.smooth:(a=this.options.ykeys[n],c.call(this.options.smooth,a)>=0),(t=function(){var t,e,r,o;for(o=[],t=0,e=(r=this.data).length;t<e;t++)void 0!==(i=r[t])._y[n]&&o.push({x:i._x,y:i._y[n]});return o}.call(this)).length>1?l.push(e.Line.createPath(t,r,this.bottom)):l.push(null);return l}.call(this)},r.prototype.draw=function(){var t;if(!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),!1===this.options.hideHover)return this.displayHoverForRow(this.data.length-1)},r.prototype.drawXAxis=function(){var t,n,i,r,o,s,a,l,u,c,f=this;for(a=this.bottom+this.options.padding/2,o=null,r=null,t=function(t,e){var n,i,s,l,u;return u=(n=f.drawXAxisLabel(f.transX(e),a,t)).getBBox(),n.transform("r"+-f.options.xLabelAngle),i=n.getBBox(),n.transform("t0,"+i.height/2+"..."),0!==f.options.xLabelAngle&&(l=-.5*u.width*Math.cos(f.options.xLabelAngle*Math.PI/180),n.transform("t"+l+",0...")),i=n.getBBox(),(null==o||o>=i.x+i.width||null!=r&&r>=i.x)&&i.x>=0&&i.x+i.width<f.el.width()?(0!==f.options.xLabelAngle&&(s=1.25*f.options.gridTextSize/Math.sin(f.options.xLabelAngle*Math.PI/180),r=i.x-s),o=i.x-f.options.xLabelMargin):n.remove()},(i=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:e.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,n,i;for(i=[],t=0,e=(n=this.data).length;t<e;t++)s=n[t],i.push([s.label,s.x]);return i}.call(this)).reverse(),c=[],l=0,u=i.length;l<u;l++)n=i[l],c.push(t(n[0],n[1]));return c},r.prototype.drawSeries=function(){var t,e,n,i,r,o;for(this.seriesPoints=[],t=e=i=this.options.ykeys.length-1;i<=0?e<=0:e>=0;t=i<=0?++e:--e)this.hasToShow(t)&&((!1!==this.options.trendLine&&!0===this.options.trendLine||!0===this.options.trendLine[t])&&this._drawTrendLine(t),this._drawLineFor(t));for(o=[],t=n=r=this.options.ykeys.length-1;r<=0?n<=0:n>=0;t=r<=0?++n:--n)this.hasToShow(t)?o.push(this._drawPointFor(t)):o.push(void 0);return o},r.prototype._drawPointFor=function(t){var e,n,i,r,o,s;for(this.seriesPoints[t]=[],s=[],i=0,r=(o=this.data).length;i<r;i++)e=null,null!=(n=o[i])._y[t]&&(e=this.drawLinePoint(n._x,n._y[t],this.colorFor(n,t,"point"),t)),s.push(this.seriesPoints[t].push(e));return s},r.prototype._drawLineFor=function(t){var e;if(null!==(e=this.paths[t]))return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},r.prototype._drawTrendLine=function(t){var n,i,r,o,s,a,l,u,c,f,d,h,p,m,g;for(a=0,c=0,l=0,u=0,o=0,p=0,m=(g=this.data).length;p<m;p++)d=(f=g[p]).x,void 0!==(h=f.y[t])&&(o+=1,a+=d,c+=h,l+=d*d,u+=d*h);return i=c/o-(n=(o*u-a*c)/(o*l-a*a))*a/o,(r=[{},{}])[0].x=this.transX(this.data[0].x),r[0].y=this.transY(this.data[0].x*n+i),r[1].x=this.transX(this.data[this.data.length-1].x),r[1].y=this.transY(this.data[this.data.length-1].x*n+i),s=e.Line.createPath(r,!1,this.bottom),this.raphael.path(s).attr("stroke",this.colorFor(null,t,"trendLine")).attr("stroke-width",this.options.trendLineWidth)},r.createPath=function(t,n,i){var r,o,s,a,l,u,c,f,d,h;for(c="",n&&(s=e.Line.gradients(t)),f={y:null},a=d=0,h=t.length;d<h;a=++d)null!=(r=t[a]).y&&(null!=f.y?n?(o=s[a],u=s[a-1],l=(r.x-f.x)/4,c+="C"+(f.x+l)+","+Math.min(i,f.y+l*u)+","+(r.x-l)+","+Math.min(i,r.y-l*o)+","+r.x+","+r.y):c+="L"+r.x+","+r.y:n&&null==s[a]||(c+="M"+r.x+","+r.y)),f=r;return c},r.gradients=function(t){var e,n,i,r,o,s,a,l;for(n=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],i=s=0,a=t.length;s<a;i=++s)null!=(e=t[i]).y?(r=t[i+1]||{y:null},null!=(o=t[i-1]||{y:null}).y&&null!=r.y?l.push(n(o,r)):null!=o.y?l.push(n(o,e)):null!=r.y?l.push(n(e,r)):l.push(null)):l.push(null);return l},r.prototype.hilight=function(t){var e,n,i,r,o;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=n=0,r=this.seriesPoints.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=i=0,o=this.seriesPoints.length-1;0<=o?i<=o:i>=o;e=0<=o?++i:--i)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},r.prototype.colorFor=function(t,e,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,n):"point"===n?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:"line"===n?this.options.lineColors[e%this.options.lineColors.length]:this.options.trendLineColors[e%this.options.trendLineColors.length]},r.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},r.prototype.drawLinePath=function(t,e,n){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(n))},r.prototype.drawLinePoint=function(t,e,n,i){return this.raphael.circle(t,e,this.pointSizeForSeries(i)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(i)).attr("stroke",this.pointStrokeColorForSeries(i))},r.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},r.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},r.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},r.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},r.prototype.pointGrowSeries=function(t){if(0!==this.pointSizeForSeries(t))return i.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},r.prototype.pointShrinkSeries=function(t){return i.animation({r:this.pointSizeForSeries(t)},25,"linear")},r}(e.Grid),e.labelSeries=function(t,i,r,o,s){var a,l,u,c,f,d,h,p,m,g,v;if(u=200*(i-t)/r,l=new Date(t),void 0===(h=e.LABEL_SPECS[o]))for(m=0,g=(v=e.AUTO_LABEL_ORDER).length;m<g;m++)if(c=v[m],u>=(d=e.LABEL_SPECS[c]).span){h=d;break}for(void 0===h&&(h=e.LABEL_SPECS.second),s&&(h=n.extend({},h,{fmt:s})),a=h.start(l),f=[];(p=a.getTime())<=i;)p>=t&&f.push([h.fmt(a),p]),h.incr(a);return f},r=function(t){return{span:60*t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}},o=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return e.pad2(t.getHours())+":"+e.pad2(t.getMinutes())+":"+e.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}},e.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return t.getFullYear()+"-"+e.pad2(t.getMonth()+1)+"-"+e.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:r(60),"30min":r(30),"15min":r(15),"10min":r(10),"5min":r(5),minute:r(1),"30sec":o(30),"15sec":o(15),"10sec":o(10),"5sec":o(5),second:o(1)},e.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],e.Area=function(t){var r;function o(t){var i;if(!(this instanceof e.Area))return new e.Area(t);i=n.extend({},r,t),this.cumulative=!i.behaveLikeLine,"auto"===i.fillOpacity&&(i.fillOpacity=i.behaveLikeLine?.8:1),o.__super__.constructor.call(this,i)}return u(o,t),r={fillOpacity:"auto",behaveLikeLine:!1},o.prototype.calcPoints=function(){var t,e,n,i,r,o,s;for(s=[],i=0,r=(o=this.data).length;i<r;i++)(t=o[i])._x=this.transX(t.x),e=0,t._y=function(){var i,r,o,s;for(s=[],i=0,r=(o=t.y).length;i<r;i++)n=o[i],this.options.behaveLikeLine?s.push(this.transY(n)):(e+=n||0,s.push(this.transY(e)));return s}.call(this),s.push(t._ymax=Math.max.apply(Math,t._y));return s},o.prototype.drawSeries=function(){var t,e,n,i,r,o,s,a;for(this.seriesPoints=[],a=[],n=0,i=(e=this.options.behaveLikeLine?function(){o=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--)o.push(t);return o}.apply(this):function(){s=[];for(var t=r=this.options.ykeys.length-1;r<=0?t<=0:t>=0;r<=0?t++:t--)s.push(t);return s}.apply(this)).length;n<i;n++)t=e[n],this._drawFillFor(t),this._drawLineFor(t),a.push(this._drawPointFor(t));return a},o.prototype._drawFillFor=function(t){var e;if(null!==(e=this.paths[t]))return e=e+"L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))},o.prototype.fillForSeries=function(t){var e;return e=i.rgb2hsl(this.colorFor(this.data[t],t,"line")),i.hsl(e.h,this.options.behaveLikeLine?.9*e.s:.75*e.s,Math.min(.98,this.options.behaveLikeLine?1.2*e.l:1.25*e.l))},o.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},o}(e.Line),e.Bar=function(t){function i(t){if(this.onHoverOut=a(this.onHoverOut,this),this.onHoverMove=a(this.onHoverMove,this),this.onGridClick=a(this.onGridClick,this),!(this instanceof e.Bar))return new e.Bar(t);i.__super__.constructor.call(this,n.extend({},t,{parseTime:!1}))}return u(i,t),i.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new e.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},i.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50,horizontal:!1,shown:!0},i.prototype.calc=function(){var t;if(this.calcBars(),!1===this.options.hideHover)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},i.prototype.calcBars=function(){var t,e,n,i,r,o,s;for(s=[],t=i=0,r=(o=this.data).length;i<r;t=++i)(e=o[t])._x=this.xStart+this.xSize*(t+.5)/this.data.length,s.push(e._y=function(){var t,i,r,o;for(o=[],t=0,i=(r=e.y).length;t<i;t++)null!=(n=r[t])?o.push(this.transY(n)):o.push(null);return o}.call(this));return s},i.prototype.draw=function(){var t;return!0!==(t=this.options.axes)&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries()},i.prototype.drawXAxis=function(){var t,e,n,i,r,o,s,a,l,u,c,f,d,h,p,m;for(e=this.options.horizontal?this.getYAxisLabelX():this.getXAxisLabelY(),l=null,a=null,m=[],n=h=0,p=this.data.length;0<=p?h<p:h>p;n=0<=p?++h:--h)u=this.data[this.data.length-1-n],i=this.options.horizontal?this.drawYAxisLabel(e,u._x-.5*this.options.gridTextSize,u.label):this.drawXAxisLabel(u._x,e,u.label),t=this.options.horizontal?0:this.options.xLabelAngle,d=i.getBBox(),i.transform("r"+-t),r=i.getBBox(),i.transform("t0,"+r.height/2+"..."),0!==t&&(s=-.5*d.width*Math.cos(t*Math.PI/180),i.transform("t"+s+",0...")),this.options.horizontal?(f=r.y,c=r.height,o=this.el.height()):(f=r.x,c=r.width,o=this.el.width()),(null==l||l>=f+c||null!=a&&a>=f)&&f>=0&&f+c<o?(0!==t&&(a=f-1.25*this.options.gridTextSize/Math.sin(t*Math.PI/180)),this.options.horizontal?m.push(l=f):m.push(l=f-this.options.xLabelMargin)):m.push(i.remove());return m},i.prototype.getXAxisLabelY=function(){return this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2)},i.prototype.drawSeries=function(){var t,e,n,i,r,o,s,a,l,u,c,f,d,h,p,m,g,v;if(n=this.xSize/this.options.data.length,this.options.stacked)l=1;else for(l=0,i=g=0,v=this.options.ykeys.length-1;0<=v?g<=v:g>=v;i=0<=v?++g:--g)this.hasToShow(i)&&(l+=1);return t=(n*this.options.barSizeRatio-this.options.barGap*(l-1))/l,this.options.barSize&&(t=Math.min(t,this.options.barSize)),d=n-t*l-this.options.barGap*(l-1),a=d/2,m=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var i,l,d,g;for(d=this.data,g=[],r=i=0,l=d.length;i<l;r=++i)u=d[r],o=0,g.push(function(){var i,l,d,g;for(d=u._y,g=[],c=i=0,l=d.length;i<l;c=++i)p=d[c],this.hasToShow(c)&&(null!==p?(m?(h=Math.min(p,m),e=Math.max(p,m)):(h=p,e=this.bottom),s=this.xStart+r*n+a,this.options.stacked||(s+=c*(t+this.options.barGap)),f=e-h,this.options.verticalGridCondition&&this.options.verticalGridCondition(u.x)&&(this.options.horizontal?this.drawBar(this.yStart,this.xStart+r*n,this.ySize,n,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius):this.drawBar(this.xStart+r*n,this.yEnd,n,this.ySize,this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius)),this.options.stacked&&(h-=o),this.options.horizontal?(this.drawBar(h,s,f,t,this.colorFor(u,c,"bar"),this.options.barOpacity,this.options.barRadius),g.push(o-=f)):(this.drawBar(s,h,t,f,this.colorFor(u,c,"bar"),this.options.barOpacity,this.options.barRadius),g.push(o+=f))):g.push(null));return g}.call(this));return g}.call(this)},i.prototype.colorFor=function(t,e,n){var i,r;return"function"==typeof this.options.barColors?(i={x:t.x,y:t.y[e],label:t.label},r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,i,r,n)):this.options.barColors[e%this.options.barColors.length]},i.prototype.hitTest=function(t,e){var n;return 0===this.data.length?null:(n=this.options.horizontal?e:t,n=Math.max(Math.min(n,this.xEnd),this.xStart),Math.min(this.data.length-1,Math.floor((n-this.xStart)/(this.xSize/this.data.length))))},i.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t,e),this.fire("click",n,this.data[n].src,t,e)},i.prototype.onHoverMove=function(t,e){var n,i;return n=this.hitTest(t,e),(i=this.hover).update.apply(i,this.hoverContentForRow(n))},i.prototype.onHoverOut=function(){if(!1!==this.options.hideHover)return this.hover.hide()},i.prototype.hoverContentForRow=function(t){var e,i,r,o,s,a,l;for(r=this.data[t],e=(e=n("<div class='morris-hover-row-label'>").text(r.label)).prop("outerHTML"),i=s=0,a=(l=r.y).length;s<a;i=++s)o=l[i],!1!==this.options.labels[i]&&(e+="<div class='morris-hover-point' style='color: "+this.colorFor(r,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(o,i)+"\n</div>");return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,r.src)),this.options.horizontal?[e,this.left+.5*this.width,o=this.top+(t+.5)*this.height/this.data.length,!0]:[e,this.left+(t+.5)*this.width/this.data.length]},i.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},i.prototype.drawBar=function(t,e,n,i,r,o,s){var a;return(0===(a=Math.max.apply(Math,s))||a>i?this.raphael.rect(t,e,n,i):this.raphael.path(this.roundedRect(t,e,n,i,s))).attr("fill",r).attr("fill-opacity",o).attr("stroke","none")},i.prototype.roundedRect=function(t,e,n,i,r){return null==r&&(r=[0,0,0,0]),["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+n-r[1],e,"Q",t+n,e,t+n,e+r[1],"L",t+n,e+i-r[2],"Q",t+n,e+i,t+n-r[2],e+i,"L",t+r[3],e+i,"Q",t,e+i,t,e+i-r[3],"Z"]},i}(e.Grid),e.Donut=function(t){function r(t){this.resizeHandler=a(this.resizeHandler,this),this.select=a(this.select,this),this.click=a(this.click,this);var r=this;if(!(this instanceof e.Donut))return new e.Donut(t);if(this.options=n.extend({},this.defaults,t),"string"==typeof t.element?this.el=n(document.getElementById(t.element)):this.el=n(t.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==t.data&&0!==t.data.length&&(this.raphael=new i(this.el[0]),this.options.resize&&n(window).bind("resize",(function(t){return null!=r.timeoutId&&clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.resizeHandler,100)})),this.setData(t.data))}return u(r,t),r.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:e.commas,showPercentage:!1,resize:!1},r.prototype.redraw=function(){var t,n,i,r,o,s,a,l,u,c,f,d,h,p,m,g,v,y,b,x,w,_;for(this.raphael.clear(),n=this.el.width()/2,i=this.el.height()/2,d=(Math.min(n,i)-10)/3,f=0,h=0,g=(b=this.values).length;h<g;h++)f+=b[h];for(l=5/(2*d),t=1.9999*Math.PI-l*this.data.length,s=0,o=0,this.segments=[],r=p=0,v=(x=this.values).length;p<v;r=++p)u=s+l+t*(x[r]/f),(c=new e.DonutSegment(n,i,2*d,d,s,u,this.data[r].color||this.options.colors[o%this.options.colors.length],this.options.backgroundColor,o,this.raphael)).render(),this.segments.push(c),c.on("hover",this.select),c.on("click",this.click),s=u,o+=1;for(this.text1=this.drawEmptyDonutLabel(n,i-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(n,i+10,this.options.labelColor,14),a=Math.max.apply(Math,this.values),o=0,_=[],m=0,y=(w=this.values).length;m<y;m++){if(w[m]===a){this.select(o);break}_.push(o+=1)}return _},r.prototype.setData=function(t){var e;return this.data=t,this.values=function(){var t,n,i,r;for(r=[],t=0,n=(i=this.data).length;t<n;t++)e=i[t],r.push(parseFloat(e.value));return r}.call(this),this.redraw()},r.prototype.click=function(t){return this.fire("click",t,this.data[t])},r.prototype.select=function(t){let e;if(void 0!==t){var n,i,r,o;for(i=0,r=(o=this.segments).length;i<r;i++)o[i].deselect();if(this.segments[t].select(),n=this.data[t],e=this.options.formatter(n.value,n),this.options.showPercentage){let t=0;this.data.forEach(e=>{t+=e.value}),e=Math.round(n.value/t*100)+"%"}return this.setLabels(n.label,e)}this.segments.forEach(t=>{t.deselect()})},r.prototype.setLabels=function(t,e){var n,i,r,o,s,a,l,u;return o=1.8*(n=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3),r=n/2,i=n/3,this.text1.attr({text:t,transform:""}),s=this.text1.getBBox(),a=Math.min(o/s.width,r/s.height),this.text1.attr({transform:"S"+a+","+a+","+(s.x+s.width/2)+","+(s.y+s.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),u=Math.min(o/l.width,i/l.height),this.text2.attr({transform:"S"+u+","+u+","+(l.x+l.width/2)+","+l.y})},r.prototype.drawEmptyDonutLabel=function(t,e,n,i,r){var o;return o=this.raphael.text(t,e,"").attr("font-size",i).attr("fill",n),null!=r&&o.attr("font-weight",r),o},r.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},r}(e.EventEmitter),e.DonutSegment=function(t){function e(t,e,n,i,r,o,s,l,u,c){this.cx=t,this.cy=e,this.inner=n,this.outer=i,this.color=s,this.backgroundColor=l,this.index=u,this.raphael=c,this.deselect=a(this.deselect,this),this.select=a(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(o),this.cos_p1=Math.cos(o),this.is_long=o-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return u(e,t),e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},e.prototype.calcSegment=function(t,e){var n,i,r,o,s,a,l,u,c,f;return n=(c=this.calcArcPoints(t))[0],r=c[1],i=c[2],o=c[3],s=(f=this.calcArcPoints(e))[0],l=f[1],a=f[2],u=f[3],"M"+n+","+r+"A"+t+","+t+",0,"+this.is_long+",0,"+i+","+o+"L"+a+","+u+"A"+e+","+e+",0,"+this.is_long+",1,"+s+","+l+"Z"},e.prototype.calcArc=function(t){var e,n,i,r,o;return e=(o=this.calcArcPoints(t))[0],i=o[1],n=o[2],r=o[3],"M"+e+","+i+"A"+t+","+t+",0,"+this.is_long+",0,"+n+","+r},e.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,(function(){return t.fire("hover",t.index)}),(function(){return t.fire("click",t.index)}))},e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},e.prototype.drawDonutSegment=function(t,e,n,i,r){return this.raphael.path(t).attr({fill:e,stroke:n,"stroke-width":3}).hover(i).click(r)},e.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},e.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},e}(e.EventEmitter),e}},function(t,e,n){(function(e){(function(){!function(){"use strict";var n,i,r,o,s,a,l,u,c,f,d,h,p,m=function(t){return function(){return t}},g=m(!1),v=m(!0),y={noop:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},noarg:function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t()}},compose:function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e.apply(null,arguments))}},constant:m,identity:function(t){return t},tripleEquals:function(t,e){return t===e},curry:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=new Array(arguments.length-1),r=1;r<arguments.length;r++)i[r-1]=arguments[r];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var s=i.concat(r);return t.apply(null,s)}},not:function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,arguments)}},die:function(t){return function(){throw new Error(t)}},apply:function(t){return t()},call:function(t){t()},never:g,always:v},b=y.never,x=y.always,w=function(){return _},_=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},i={fold:function(t,e){return t()},is:b,isSome:b,isNone:x,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},or:n,orThunk:e,map:w,ap:w,each:function(){},bind:w,flatten:w,exists:b,forall:x,filter:w,equals:t,equals_:t,toArray:function(){return[]},toString:y.constant("none()")};return Object.freeze&&Object.freeze(i),i}(),C=function(t){var e=function(){return t},n=function(){return r},i=function(e){return e(t)},r={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:x,isNone:b,getOr:e,getOrThunk:e,getOrDie:e,or:n,orThunk:n,map:function(e){return C(e(t))},ap:function(e){return e.fold(w,(function(e){return C(e(t))}))},each:function(e){e(t)},bind:i,flatten:e,exists:i,forall:i,filter:function(e){return e(t)?r:_},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(b,(function(e){return n(t,e)}))},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return r},k={some:C,none:w,from:function(t){return null==t?_:C(t)}},S=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e}(e)===t}},T={isString:S("string"),isObject:S("object"),isArray:S("array"),isNull:S("null"),isBoolean:S("boolean"),isUndefined:S("undefined"),isFunction:S("function"),isNumber:S("number")},E=void 0===(n=Array.prototype.indexOf)?function(t,e){return M(t,e)}:function(t,e){return n.call(t,e)},D=function(t,e){return E(t,e)>-1},N=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++){var o=t[r];i[r]=e(o,r,t)}return i},A=function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n,t)},P=function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n],n,t)},O=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i,t)&&n.push(o)}return n},I=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n,t))return k.some(n);return k.none()},M=function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},B=Array.prototype.push,R=function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!Array.prototype.isPrototypeOf(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);B.apply(e,t[n])}return e},L=function(t,e){for(var n=0,i=t.length;n<i;++n)if(!0!==e(t[n],n,t))return!1;return!0},F=Array.prototype.slice,H=T.isFunction(Array.from)?Array.from:function(t){return F.call(t)},z={map:N,each:A,eachr:P,partition:function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r];(e(s,r,t)?n:i).push(s)}return{pass:n,fail:i}},filter:O,groupBy:function(t,e){if(0===t.length)return[];for(var n=e(t[0]),i=[],r=[],o=0,s=t.length;o<s;o++){var a=t[o],l=e(a);l!==n&&(i.push(r),r=[]),n=l,r.push(a)}return 0!==r.length&&i.push(r),i},indexOf:function(t,e){var n=E(t,e);return-1===n?k.none():k.some(n)},foldr:function(t,e,n){return P(t,(function(t){n=e(n,t)})),n},foldl:function(t,e,n){return A(t,(function(t){n=e(n,t)})),n},find:function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(e(r,n,t))return k.some(r)}return k.none()},findIndex:I,flatten:R,bind:function(t,e){var n=N(t,e);return R(n)},forall:L,exists:function(t,e){return I(t,e).isSome()},contains:D,equal:function(t,e){return t.length===e.length&&L(t,(function(t,n){return t===e[n]}))},reverse:function(t){var e=F.call(t,0);return e.reverse(),e},chunk:function(t,e){for(var n=[],i=0;i<t.length;i+=e){var r=t.slice(i,i+e);n.push(r)}return n},difference:function(t,e){return O(t,(function(t){return!D(e,t)}))},mapToObject:function(t,e){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];n[String(o)]=e(o,i)}return n},pure:function(t){return[t]},sort:function(t,e){var n=F.call(t,0);return n.sort(e),n},range:function(t,e){for(var n=[],i=0;i<t;i++)n.push(e(i));return n},head:function(t){return 0===t.length?k.none():k.some(t[0])},last:function(t){return 0===t.length?k.none():k.some(t[t.length-1])},from:H},j="undefined"!=typeof window?window:Function("return this;")(),W=function(t,e){for(var n=null!=e?e:j,i=0;i<t.length&&null!=n;++i)n=n[t[i]];return n},$=function(t,e){var n=t.split(".");return W(n,e)},q=function(t,e){var n=function(t,e){return $(t,e)}(t,e);if(null==n)throw t+" not available on this browser";return n},U=function(){return q("URL")},V=function(t){return U().createObjectURL(t)},Y=function(t){U().revokeObjectURL(t)},X=navigator,G=X.userAgent,K=function(t){return"matchMedia"in window&&matchMedia(t).matches};c=/Android/.test(G),r=(r=!(i=/WebKit/.test(G))&&/MSIE/gi.test(G)&&/Explorer/gi.test(X.appName))&&/MSIE (\w+)\./.exec(G)[1],o=-1!==G.indexOf("Trident/")&&(-1!==G.indexOf("rv:")||-1!==X.appName.indexOf("Netscape"))&&11,s=-1!==G.indexOf("Edge/")&&!r&&!o&&12,r=r||o||s,a=!i&&!o&&/Gecko/.test(G),l=-1!==G.indexOf("Mac"),u=/(iPad|iPhone)/.test(G),f="FormData"in window&&"FileReader"in window&&"URL"in window&&!!V,d=K("only screen and (max-device-width: 480px)")&&(c||u),h=K("only screen and (min-width: 800px)")&&(c||u),p=-1!==G.indexOf("Windows Phone"),s&&(i=!1);var J,Q,Z,tt,et,nt,it,rt,ot,st,at,lt,ut,ct,ft,dt,ht,pt,mt,gt={opera:!1,webkit:i,ie:r,gecko:a,mac:l,iOS:u,android:c,contentEditable:!u||f||parseInt(G.match(/AppleWebKit\/(\d*)/)[1],10)>=534,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==r,range:window.getSelection&&"Range"in window,documentMode:r&&!s?document.documentMode||7:10,fileApi:f,ceFalse:!1===r||r>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:!1===r||r>11,desktop:!d&&!h,windowsPhone:p},vt=window.Promise?window.Promise:function(){function t(t,e){return function(){t.apply(e,arguments)}}var n=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i=function(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],c(e,t(s,this),t(a,this))},r=i.immediateFn||"function"==typeof e&&e||function(t){setTimeout(t,1)};function o(t){var e=this;null!==this._state?r((function(){var n=e._state?t.onFulfilled:t.onRejected;if(null!==n){var i;try{i=n(e._value)}catch(e){return void t.reject(e)}t.resolve(i)}else(e._state?t.resolve:t.reject)(e._value)})):this._deferreds.push(t)}function s(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if("function"==typeof n)return void c(t(n,e),t(s,this),t(a,this))}this._state=!0,this._value=e,l.call(this)}catch(t){a.call(this,t)}}function a(t){this._state=!1,this._value=t,l.call(this)}function l(){for(var t=0,e=this._deferreds.length;t<e;t++)o.call(this,this._deferreds[t]);this._deferreds=null}function u(t,e,n,i){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.resolve=n,this.reject=i}function c(t,e,n){var i=!1;try{t((function(t){i||(i=!0,e(t))}),(function(t){i||(i=!0,n(t))}))}catch(t){if(i)return;i=!0,n(t)}}return i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=this;return new i((function(i,r){o.call(n,new u(t,e,i,r))}))},i.all=function(){var t=Array.prototype.slice.call(1===arguments.length&&n(arguments[0])?arguments[0]:arguments);return new i((function(e,n){if(0===t.length)return e([]);var i=t.length;function r(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var a=s.then;if("function"==typeof a)return void a.call(s,(function(t){r(o,t)}),n)}t[o]=s,0==--i&&e(t)}catch(t){n(t)}}for(var o=0;o<t.length;o++)r(o,t[o])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)}))},i}(),yt=function(t,e){return"number"!=typeof e&&(e=0),setTimeout(t,e)},bt=function(t,e){return"number"!=typeof e&&(e=1),setInterval(t,e)},xt=function(t,e){var n,i;return(i=function(){var i=arguments;clearTimeout(n),n=yt((function(){t.apply(this,i)}),e)}).stop=function(){clearTimeout(n)},i},wt={requestAnimationFrame:function(t,e){J?J.then(t):J=new vt((function(t){e||(e=document.body),function(t,e){var n,i=window.requestAnimationFrame,r=["ms","moz","webkit"];for(n=0;n<r.length&&!i;n++)i=window[r[n]+"RequestAnimationFrame"];i||(i=function(t){window.setTimeout(t,0)}),i(t,e)}(t,e)})).then(t)},setTimeout:yt,setInterval:bt,setEditorTimeout:function(t,e,n){return yt((function(){t.removed||e()}),n)},setEditorInterval:function(t,e,n){var i;return i=bt((function(){t.removed?clearInterval(i):e()}),n)},debounce:xt,throttle:xt,clearInterval:function(t){return clearInterval(t)},clearTimeout:function(t){return clearTimeout(t)}},_t=/^(?:mouse|contextmenu)|click/,Ct={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},kt=function(){return!1},St=function(){return!0},Tt=function(t,e,n,i){t.addEventListener?t.addEventListener(e,n,i||!1):t.attachEvent&&t.attachEvent("on"+e,n)},Et=function(t,e,n,i){t.removeEventListener?t.removeEventListener(e,n,i||!1):t.detachEvent&&t.detachEvent("on"+e,n)},Dt=function(t,e){var n,i=e||{};for(n in t)Ct[n]||(i[n]=t[n]);if(i.target||(i.target=i.srcElement||document),gt.experimentalShadowDom&&(i.target=function(t,e){var n,i=e;return(n=t.path)&&n.length>0&&(i=n[0]),t.composedPath&&(n=t.composedPath())&&n.length>0&&(i=n[0]),i}(t,i.target)),t&&_t.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var r=i.target.ownerDocument||document,o=r.documentElement,s=r.body;i.pageX=t.clientX+(o&&o.scrollLeft||s&&s.scrollLeft||0)-(o&&o.clientLeft||s&&s.clientLeft||0),i.pageY=t.clientY+(o&&o.scrollTop||s&&s.scrollTop||0)-(o&&o.clientTop||s&&s.clientTop||0)}return i.preventDefault=function(){i.isDefaultPrevented=St,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},i.stopPropagation=function(){i.isPropagationStopped=St,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=St,i.stopPropagation()},!1===function(t){return t.isDefaultPrevented===St||t.isDefaultPrevented===kt}(i)&&(i.isDefaultPrevented=kt,i.isPropagationStopped=kt,i.isImmediatePropagationStopped=kt),void 0===i.metaKey&&(i.metaKey=!1),i},Nt=function(t,e,n){var i=t.document,r={type:"ready"};if(n.domLoaded)e(r);else{var o=function(){return"complete"===i.readyState||"interactive"===i.readyState&&i.body},s=function(){n.domLoaded||(n.domLoaded=!0,e(r))},a=function(){o()&&(Et(i,"readystatechange",a),s())},l=function(){try{i.documentElement.doScroll("left")}catch(t){return void wt.setTimeout(l)}s()};!i.addEventListener||gt.ie&&gt.ie<11?(Tt(i,"readystatechange",a),i.documentElement.doScroll&&t.self===t.top&&l()):o()?s():Tt(t,"DOMContentLoaded",s),Tt(t,"load",s)}},At=function(){var t,e,n,i,r,o=this,s={};e="mce-data-"+(+new Date).toString(32),i="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,r={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,o.domLoaded=!1,o.events=s;var a=function(t,e){var n,i,r,o,a=s[e];if(n=a&&a[t.type])for(i=0,r=n.length;i<r;i++)if((o=n[i])&&!1===o.func.call(o.scope,t)&&t.preventDefault(),t.isImmediatePropagationStopped())return};o.bind=function(l,u,c,f){var d,h,p,m,g,v,y,b=window,x=function(t){a(Dt(t||b.event),d)};if(l&&3!==l.nodeType&&8!==l.nodeType){for(l[e]?d=l[e]:(d=t++,l[e]=d,s[d]={}),f=f||l,p=(u=u.split(" ")).length;p--;)v=x,g=y=!1,"DOMContentLoaded"===(m=u[p])&&(m="ready"),o.domLoaded&&"ready"===m&&"complete"===l.readyState?c.call(f,Dt({type:m})):(i||(g=r[m])&&(v=function(t){var e,n;if(e=t.currentTarget,(n=t.relatedTarget)&&e.contains)n=e.contains(n);else for(;n&&n!==e;)n=n.parentNode;n||((t=Dt(t||b.event)).type="mouseout"===t.type?"mouseleave":"mouseenter",t.target=e,a(t,d))}),n||"focusin"!==m&&"focusout"!==m||(y=!0,g="focusin"===m?"focus":"blur",v=function(t){(t=Dt(t||b.event)).type="focus"===t.type?"focusin":"focusout",a(t,d)}),(h=s[d][m])?"ready"===m&&o.domLoaded?c({type:m}):h.push({func:c,scope:f}):(s[d][m]=h=[{func:c,scope:f}],h.fakeName=g,h.capture=y,h.nativeHandler=v,"ready"===m?Nt(l,v,o):Tt(l,g||m,v,y)));return l=h=0,c}},o.unbind=function(t,n,i){var r,a,l,u,c,f;if(!t||3===t.nodeType||8===t.nodeType)return o;if(r=t[e]){if(f=s[r],n){for(l=(n=n.split(" ")).length;l--;)if(a=f[c=n[l]]){if(i)for(u=a.length;u--;)if(a[u].func===i){var d=a.nativeHandler,h=a.fakeName,p=a.capture;(a=a.slice(0,u).concat(a.slice(u+1))).nativeHandler=d,a.fakeName=h,a.capture=p,f[c]=a}i&&0!==a.length||(delete f[c],Et(t,a.fakeName||c,a.nativeHandler,a.capture))}}else{for(c in f)a=f[c],Et(t,a.fakeName||c,a.nativeHandler,a.capture);f={}}for(c in f)return o;delete s[r];try{delete t[e]}catch(n){t[e]=null}}return o},o.fire=function(t,n,i){var r;if(!t||3===t.nodeType||8===t.nodeType)return o;(i=Dt(null,i)).type=n,i.target=t;do{(r=t[e])&&a(i,r),t=t.parentNode||t.ownerDocument||t.defaultView||t.parentWindow}while(t&&!i.isPropagationStopped());return o},o.clean=function(t){var n,i,r=o.unbind;if(!t||3===t.nodeType||8===t.nodeType)return o;if(t[e]&&r(t),t.getElementsByTagName||(t=t.document),t&&t.getElementsByTagName)for(r(t),n=(i=t.getElementsByTagName("*")).length;n--;)(t=i[n])[e]&&r(t);return o},o.destroy=function(){s={}},o.cancel=function(t){return t&&(t.preventDefault(),t.stopImmediatePropagation()),!1}};(At.Event=new At).bind(window,"ready",(function(){}));var Pt="sizzle"+-new Date,Ot=window.document,It=0,Mt=0,Bt=de(),Rt=de(),Lt=de(),Ft=function(t,e){return t===e&&(lt=!0),0},Ht={}.hasOwnProperty,zt=[],jt=zt.pop,Wt=zt.push,$t=zt.push,qt=zt.slice,Ut=zt.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]===t)return e;return-1},Vt="[\\x20\\t\\r\\n\\f]",Yt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Xt="\\["+Vt+"*("+Yt+")(?:"+Vt+"*([*^$|!~]?=)"+Vt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Yt+"))|)"+Vt+"*\\]",Gt=":("+Yt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Xt+")*)|.*)\\)|)",Kt=new RegExp("^"+Vt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Vt+"+$","g"),Jt=new RegExp("^"+Vt+"*,"+Vt+"*"),Qt=new RegExp("^"+Vt+"*([>+~]|"+Vt+")"+Vt+"*"),Zt=new RegExp("="+Vt+"*([^\\]'\"]*?)"+Vt+"*\\]","g"),te=new RegExp(Gt),ee=new RegExp("^"+Yt+"$"),ne={ID:new RegExp("^#("+Yt+")"),CLASS:new RegExp("^\\.("+Yt+")"),TAG:new RegExp("^("+Yt+"|[*])"),ATTR:new RegExp("^"+Xt),PSEUDO:new RegExp("^"+Gt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Vt+"*(even|odd|(([+-]|)(\\d*)n|)"+Vt+"*(?:([+-]|)"+Vt+"*(\\d+)|))"+Vt+"*\\)|)","i"),bool:new RegExp("^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$","i"),needsContext:new RegExp("^"+Vt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Vt+"*((?:-\\d)?\\d*)"+Vt+"*\\)|)(?=[^-]|$)","i")},ie=/^(?:input|select|textarea|button)$/i,re=/^h\d$/i,oe=/^[^{]+\{\s*\[native \w/,se=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ae=/[+~]/,le=/'|\\/g,ue=new RegExp("\\\\([\\da-f]{1,6}"+Vt+"?|("+Vt+")|.)","ig"),ce=function(t,e,n){var i="0x"+e-65536;return i!=i||n?e:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{$t.apply(zt=qt.call(Ot.childNodes),Ot.childNodes),zt[Ot.childNodes.length].nodeType}catch(t){$t={apply:zt.length?function(t,e){Wt.apply(t,qt.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}var fe=function(t,e,n,i){var r,o,s,a,l,u,c,f,d,h;if((e?e.ownerDocument||e:Ot)!==ct&&ut(e),n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=(e=e||ct).nodeType)&&9!==a)return[];if(dt&&!i){if(r=se.exec(t))if(s=r[1]){if(9===a){if(!(o=e.getElementById(s))||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&mt(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return $t.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&Z.getElementsByClassName)return $t.apply(n,e.getElementsByClassName(s)),n}if(Z.qsa&&(!ht||!ht.test(t))){if(f=c=Pt,d=e,h=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(u=it(t),(c=e.getAttribute("id"))?f=c.replace(le,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+xe(u[l]);d=ae.test(t)&&ye(e.parentNode)||e,h=u.join(",")}if(h)try{return $t.apply(n,d.querySelectorAll(h)),n}catch(t){}finally{c||e.removeAttribute("id")}}}return ot(t.replace(Kt,"$1"),e,n,i)};function de(){var t=[];return function e(n,i){return t.push(n+" ")>tt.cacheLength&&delete e[t.shift()],e[n+" "]=i}}function he(t){return t[Pt]=!0,t}function pe(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||1<<31)-(~t.sourceIndex||1<<31);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function me(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function ge(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function ve(t){return he((function(e){return e=+e,he((function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ye(t){return t&&void 0!==t.getElementsByTagName&&t}for(Q in Z=fe.support={},nt=fe.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},ut=fe.setDocument=function(t){var e,n=t?t.ownerDocument||t:Ot,i=n.defaultView;return n!==ct&&9===n.nodeType&&n.documentElement?(ct=n,ft=n.documentElement,dt=!nt(n),i&&i!==function(t){try{return t.top}catch(t){}return null}(i)&&(i.addEventListener?i.addEventListener("unload",(function(){ut()}),!1):i.attachEvent&&i.attachEvent("onunload",(function(){ut()}))),Z.attributes=!0,Z.getElementsByTagName=!0,Z.getElementsByClassName=oe.test(n.getElementsByClassName),Z.getById=!0,tt.find.ID=function(t,e){if(void 0!==e.getElementById&&dt){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},tt.filter.ID=function(t){var e=t.replace(ue,ce);return function(t){return t.getAttribute("id")===e}},tt.find.TAG=Z.getElementsByTagName?function(t,e){if(void 0!==e.getElementsByTagName)return e.getElementsByTagName(t)}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},tt.find.CLASS=Z.getElementsByClassName&&function(t,e){if(dt)return e.getElementsByClassName(t)},pt=[],ht=[],Z.disconnectedMatch=!0,ht=ht.length&&new RegExp(ht.join("|")),pt=pt.length&&new RegExp(pt.join("|")),e=oe.test(ft.compareDocumentPosition),mt=e||oe.test(ft.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},Ft=e?function(t,e){if(t===e)return lt=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i||(1&(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!Z.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===Ot&&mt(Ot,t)?-1:e===n||e.ownerDocument===Ot&&mt(Ot,e)?1:at?Ut.call(at,t)-Ut.call(at,e):0:4&i?-1:1)}:function(t,e){if(t===e)return lt=!0,0;var i,r=0,o=t.parentNode,s=e.parentNode,a=[t],l=[e];if(!o||!s)return t===n?-1:e===n?1:o?-1:s?1:at?Ut.call(at,t)-Ut.call(at,e):0;if(o===s)return pe(t,e);for(i=t;i=i.parentNode;)a.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;a[r]===l[r];)r++;return r?pe(a[r],l[r]):a[r]===Ot?-1:l[r]===Ot?1:0},n):ct},fe.matches=function(t,e){return fe(t,null,null,e)},fe.matchesSelector=function(t,e){if((t.ownerDocument||t)!==ct&&ut(t),e=e.replace(Zt,"='$1']"),Z.matchesSelector&&dt&&(!pt||!pt.test(e))&&(!ht||!ht.test(e)))try{var n=(void 0).call(t,e);if(n||Z.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return fe(e,ct,null,[t]).length>0},fe.contains=function(t,e){return(t.ownerDocument||t)!==ct&&ut(t),mt(t,e)},fe.attr=function(t,e){(t.ownerDocument||t)!==ct&&ut(t);var n=tt.attrHandle[e.toLowerCase()],i=n&&Ht.call(tt.attrHandle,e.toLowerCase())?n(t,e,!dt):void 0;return void 0!==i?i:Z.attributes||!dt?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},fe.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},fe.uniqueSort=function(t){var e,n=[],i=0,r=0;if(lt=!Z.detectDuplicates,at=!Z.sortStable&&t.slice(0),t.sort(Ft),lt){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return at=null,t},et=fe.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=et(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=et(e);return n},(tt=fe.selectors={cacheLength:50,createPseudo:he,match:ne,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(ue,ce),t[3]=(t[3]||t[4]||t[5]||"").replace(ue,ce),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||fe.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&fe.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return ne.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&te.test(n)&&(e=it(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(ue,ce).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=Bt[t+" "];return e||(e=new RegExp("(^|"+Vt+")"+t+"("+Vt+"|$)"))&&Bt(t,(function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")}))},ATTR:function(t,e,n){return function(i){var r=fe.attr(i,t);return null==r?"!="===e:!e||(r+="","="===e?r===n:"!="===e?r!==n:"^="===e?n&&0===r.indexOf(n):"*="===e?n&&r.indexOf(n)>-1:"$="===e?n&&r.slice(-n.length)===n:"~="===e?(" "+r+" ").indexOf(n)>-1:"|="===e&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,l){var u,c,f,d,h,p,m=o!==s?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a;if(g){if(o){for(;m;){for(f=e;f=f[m];)if(a?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=m="only"===t&&!p&&"nextSibling"}return!0}if(p=[s?g.firstChild:g.lastChild],s&&y){for(h=(u=(c=g[Pt]||(g[Pt]={}))[t]||[])[0]===It&&u[1],d=u[0]===It&&u[2],f=h&&g.childNodes[h];f=++h&&f&&f[m]||(d=h=0)||p.pop();)if(1===f.nodeType&&++d&&f===e){c[t]=[It,h,d];break}}else if(y&&(u=(e[Pt]||(e[Pt]={}))[t])&&u[0]===It)d=u[1];else for(;(f=++h&&f&&f[m]||(d=h=0)||p.pop())&&((a?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[Pt]||(f[Pt]={}))[t]=[It,d]),f!==e)););return(d-=r)===i||d%i==0&&d/i>=0}}},PSEUDO:function(t,e){var n,i=tt.pseudos[t]||tt.setFilters[t.toLowerCase()]||fe.error("unsupported pseudo: "+t);return i[Pt]?i(e):i.length>1?(n=[t,t,"",e],tt.setFilters.hasOwnProperty(t.toLowerCase())?he((function(t,n){for(var r,o=i(t,e),s=o.length;s--;)t[r=Ut.call(t,o[s])]=!(n[r]=o[s])})):function(t){return i(t,0,n)}):i}},pseudos:{not:he((function(t){var e=[],n=[],i=rt(t.replace(Kt,"$1"));return i[Pt]?he((function(t,e,n,r){for(var o,s=i(t,null,r,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))})):function(t,r,o){return e[0]=t,i(e,null,o,n),!n.pop()}})),has:he((function(t){return function(e){return fe(t,e).length>0}})),contains:he((function(t){return t=t.replace(ue,ce),function(e){return(e.textContent||e.innerText||et(e)).indexOf(t)>-1}})),lang:he((function(t){return ee.test(t||"")||fe.error("unsupported lang: "+t),t=t.replace(ue,ce).toLowerCase(),function(e){var n;do{if(n=dt?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(n=n.toLowerCase())===t||0===n.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}})),target:function(t){var e=window.location&&window.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===ft},focus:function(t){return t===ct.activeElement&&(!ct.hasFocus||ct.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return!1===t.disabled},disabled:function(t){return!0===t.disabled},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!tt.pseudos.empty(t)},header:function(t){return re.test(t.nodeName)},input:function(t){return ie.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ve((function(){return[0]})),last:ve((function(t,e){return[e-1]})),eq:ve((function(t,e,n){return[n<0?n+e:n]})),even:ve((function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t})),odd:ve((function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t})),lt:ve((function(t,e,n){for(var i=n<0?n+e:n;--i>=0;)t.push(i);return t})),gt:ve((function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t}))}}).pseudos.nth=tt.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})tt.pseudos[Q]=me(Q);for(Q in{submit:!0,reset:!0})tt.pseudos[Q]=ge(Q);function be(){}function xe(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function we(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=Mt++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,l,u=[It,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if((a=(l=e[Pt]||(e[Pt]={}))[i])&&a[0]===It&&a[1]===o)return u[2]=a[2];if(l[i]=u,u[2]=t(e,n,s))return!0}}}function _e(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function Ce(t,e,n,i,r){for(var o,s=[],a=0,l=t.length,u=null!=e;a<l;a++)(o=t[a])&&(n&&!n(o,i,r)||(s.push(o),u&&e.push(a)));return s}function ke(t,e,n,i,r,o){return i&&!i[Pt]&&(i=ke(i)),r&&!r[Pt]&&(r=ke(r,o)),he((function(o,s,a,l){var u,c,f,d=[],h=[],p=s.length,m=o||function(t,e,n){for(var i=0,r=e.length;i<r;i++)fe(t,e[i],n);return n}(e||"*",a.nodeType?[a]:a,[]),g=!t||!o&&e?m:Ce(m,d,t,a,l),v=n?r||(o?t:p||i)?[]:s:g;if(n&&n(g,v,a,l),i)for(u=Ce(v,h),i(u,[],a,l),c=u.length;c--;)(f=u[c])&&(v[h[c]]=!(g[h[c]]=f));if(o){if(r||t){if(r){for(u=[],c=v.length;c--;)(f=v[c])&&u.push(g[c]=f);r(null,v=[],u,l)}for(c=v.length;c--;)(f=v[c])&&(u=r?Ut.call(o,f):d[c])>-1&&(o[u]=!(s[u]=f))}}else v=Ce(v===s?v.splice(p,v.length):v),r?r(null,s,v,l):$t.apply(s,v)}))}function Se(t){for(var e,n,i,r=t.length,o=tt.relative[t[0].type],s=o||tt.relative[" "],a=o?1:0,l=we((function(t){return t===e}),s,!0),u=we((function(t){return Ut.call(e,t)>-1}),s,!0),c=[function(t,n,i){return!o&&(i||n!==st)||((e=n).nodeType?l(t,n,i):u(t,n,i))}];a<r;a++)if(n=tt.relative[t[a].type])c=[we(_e(c),n)];else{if((n=tt.filter[t[a].type].apply(null,t[a].matches))[Pt]){for(i=++a;i<r&&!tt.relative[t[i].type];i++);return ke(a>1&&_e(c),a>1&&xe(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(Kt,"$1"),n,a<i&&Se(t.slice(a,i)),i<r&&Se(t=t.slice(i)),i<r&&xe(t))}c.push(n)}return _e(c)}be.prototype=tt.filters=tt.pseudos,tt.setFilters=new be,it=fe.tokenize=function(t,e){var n,i,r,o,s,a,l,u=Rt[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=tt.preFilter;s;){for(o in n&&!(i=Jt.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(r=[])),n=!1,(i=Qt.exec(s))&&(n=i.shift(),r.push({value:n,type:i[0].replace(Kt," ")}),s=s.slice(n.length)),tt.filter)!(i=ne[o].exec(s))||l[o]&&!(i=l[o](i))||(n=i.shift(),r.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?fe.error(t):Rt(t,a).slice(0)},rt=fe.compile=function(t,e){var n,i=[],r=[],o=Lt[t+" "];if(!o){for(e||(e=it(t)),n=e.length;n--;)(o=Se(e[n]))[Pt]?i.push(o):r.push(o);(o=Lt(t,function(t,e){var n=e.length>0,i=t.length>0,r=function(r,o,s,a,l){var u,c,f,d=0,h="0",p=r&&[],m=[],g=st,v=r||i&&tt.find.TAG("*",l),y=It+=null==g?1:Math.random()||.1,b=v.length;for(l&&(st=o!==ct&&o);h!==b&&null!=(u=v[h]);h++){if(i&&u){for(c=0;f=t[c++];)if(f(u,o,s)){a.push(u);break}l&&(It=y)}n&&((u=!f&&u)&&d--,r&&p.push(u))}if(d+=h,n&&h!==d){for(c=0;f=e[c++];)f(p,m,o,s);if(r){if(d>0)for(;h--;)p[h]||m[h]||(m[h]=jt.call(a));m=Ce(m)}$t.apply(a,m),l&&!r&&m.length>0&&d+e.length>1&&fe.uniqueSort(a)}return l&&(It=y,st=g),p};return n?he(r):r}(r,i))).selector=t}return o},ot=fe.select=function(t,e,n,i){var r,o,s,a,l,u="function"==typeof t&&t,c=!i&&it(t=u.selector||t);if(n=n||[],1===c.length){if((o=c[0]=c[0].slice(0)).length>2&&"ID"===(s=o[0]).type&&Z.getById&&9===e.nodeType&&dt&&tt.relative[o[1].type]){if(!(e=(tt.find.ID(s.matches[0].replace(ue,ce),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(r=ne.needsContext.test(t)?0:o.length;r--&&(s=o[r],!tt.relative[a=s.type]);)if((l=tt.find[a])&&(i=l(s.matches[0].replace(ue,ce),ae.test(o[0].type)&&ye(e.parentNode)||e))){if(o.splice(r,1),!(t=i.length&&xe(o)))return $t.apply(n,i),n;break}}return(u||rt(t,c))(i,e,!dt,n,ae.test(t)&&ye(e.parentNode)||e),n},Z.sortStable=Pt.split("").sort(Ft).join("")===Pt,Z.detectDuplicates=!!lt,ut(),Z.sortDetached=!0;var Te=Array.isArray,Ee=function(t,e,n){var i,r;if(!t)return 0;if(n=n||t,void 0!==t.length){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return 0}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return 0;return 1},De=function(t,e,n){var i,r;for(i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return i;return-1},Ne={isArray:Te,toArray:function(t){var e,n,i=t;if(!Te(t))for(i=[],e=0,n=t.length;e<n;e++)i[e]=t[e];return i},each:Ee,map:function(t,e){var n=[];return Ee(t,(function(i,r){n.push(e(i,r,t))})),n},filter:function(t,e){var n=[];return Ee(t,(function(i,r){e&&!e(i,r,t)||n.push(i)})),n},indexOf:function(t,e){var n,i;if(t)for(n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},reduce:function(t,e,n,i){var r=0;for(arguments.length<3&&(n=t[0]);r<t.length;r++)n=e.call(i,n,t[r],r);return n},findIndex:De,find:function(t,e,n){var i=De(t,e,n);if(-1!==i)return t[i]},last:function(t){return t[t.length-1]}},Ae=/^\s*|\s*$/g,Pe=function(t){return null==t?"":(""+t).replace(Ae,"")},Oe=function(t,e){return e?!("array"!==e||!Ne.isArray(t))||typeof t===e:void 0!==t},Ie=function(t,e,n,i){i=i||this,t&&(n&&(t=t[n]),Ne.each(t,(function(t,r){if(!1===e.call(i,t,r,n))return!1;Ie(t,e,n,i)})))},Me={trim:Pe,isArray:Ne.isArray,is:Oe,toArray:Ne.toArray,makeMap:function(t,e,n){var i;for(e=e||",","string"==typeof(t=t||[])&&(t=t.split(e)),n=n||{},i=t.length;i--;)n[t[i]]={};return n},each:Ne.each,map:Ne.map,grep:Ne.filter,inArray:Ne.indexOf,hasOwn:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},extend:function(t,e){for(var n,i,r,o=[],s=2;s<arguments.length;s++)o[s-2]=arguments[s];var a,l=arguments;for(n=1,i=l.length;n<i;n++)for(r in e=l[n])e.hasOwnProperty(r)&&void 0!==(a=e[r])&&(t[r]=a);return t},create:function(t,e,n){var i,r,o,s,a,l=0;if(t=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(t),o=t[3].match(/(^|\.)(\w+)$/i)[2],!(r=this.createNS(t[3].replace(/\.\w+$/,""),n))[o]){if("static"===t[2])return r[o]=e,void(this.onCreate&&this.onCreate(t[2],t[3],r[o]));e[o]||(e[o]=function(){},l=1),r[o]=e[o],this.extend(r[o].prototype,e),t[5]&&(i=this.resolve(t[5]).prototype,s=t[5].match(/\.(\w+)$/i)[1],a=r[o],r[o]=l?function(){return i[s].apply(this,arguments)}:function(){return this.parent=i[s],a.apply(this,arguments)},r[o].prototype[o]=r[o],this.each(i,(function(t,e){r[o].prototype[e]=i[e]})),this.each(e,(function(t,e){i[e]?r[o].prototype[e]=function(){return this.parent=i[e],t.apply(this,arguments)}:e!==o&&(r[o].prototype[e]=t)}))),this.each(e.static,(function(t,e){r[o][e]=t}))}},walk:Ie,createNS:function(t,e){var n,i;for(e=e||window,t=t.split("."),n=0;n<t.length;n++)e[i=t[n]]||(e[i]={}),e=e[i];return e},resolve:function(t,e){var n,i;for(e=e||window,n=0,i=(t=t.split(".")).length;n<i&&(e=e[t[n]]);n++);return e},explode:function(t,e){return!t||Oe(t,"array")?t:Ne.map(t.split(e||","),Pe)},_addCacheSuffix:function(t){var e=gt.cacheSuffix;return e&&(t+=(-1===t.indexOf("?")?"?":"&")+e),t}},Be=document,Re=Array.prototype.push,Le=Array.prototype.slice,Fe=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,He=At.Event,ze=Me.makeMap("children,contents,next,prev"),je=function(t){return void 0!==t},We=function(t){return"string"==typeof t},$e=function(t,e){var n,i,r;for(r=(e=e||Be).createElement("div"),n=e.createDocumentFragment(),r.innerHTML=t;i=r.firstChild;)n.appendChild(i);return n},qe=function(t,e,n,i){var r;if(We(e))e=$e(e,on(t[0]));else if(e.length&&!e.nodeType){if(e=Ze.makeArray(e),i)for(r=e.length-1;r>=0;r--)qe(t,e[r],n,i);else for(r=0;r<e.length;r++)qe(t,e[r],n,i);return t}if(e.nodeType)for(r=t.length;r--;)n.call(t[r],e);return t},Ue=function(t,e){return t&&e&&-1!==(" "+t.className+" ").indexOf(" "+e+" ")},Ve=function(t,e,n){var i,r;return e=Ze(e)[0],t.each((function(){n&&i===this.parentNode?r.appendChild(this):(i=this.parentNode,r=e.cloneNode(!1),this.parentNode.insertBefore(r,this),r.appendChild(this))})),t},Ye=Me.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Xe=Me.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Ge={for:"htmlFor",class:"className",readonly:"readOnly"},Ke={float:"cssFloat"},Je={},Qe={},Ze=function(t,e){return new Ze.fn.init(t,e)},tn=/^\s*|\s*$/g,en=function(t){return null==t?"":(""+t).replace(tn,"")},nn=function(t,e){var n,i,r,o;if(t)if(void 0===(n=t.length)){for(i in t)if(t.hasOwnProperty(i)&&(o=t[i],!1===e.call(o,i,o)))break}else for(r=0;r<n&&(o=t[r],!1!==e.call(o,r,o));r++);return t},rn=function(t,e){var n=[];return nn(t,(function(t,i){e(i,t)&&n.push(i)})),n},on=function(t){return t?9===t.nodeType?t:t.ownerDocument:Be};Ze.fn=Ze.prototype={constructor:Ze,selector:"",context:null,length:0,init:function(t,e){var n,i;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if(e&&e.nodeType)this.context=e;else{if(e)return Ze(t).attr(e);this.context=e=document}if(We(t)){if(this.selector=t,!(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Fe.exec(t)))return Ze(e).find(t);if(n[1])for(i=$e(t,on(e)).firstChild;i;)Re.call(this,i),i=i.nextSibling;else{if(!(i=on(e).getElementById(n[2])))return this;if(i.id!==n[2])return this.find(t);this.length=1,this[0]=i}}else this.add(t,!1);return this},toArray:function(){return Me.toArray(this)},add:function(t,e){var n,i;if(We(t))return this.add(Ze(t));if(!1!==e)for(n=Ze.unique(this.toArray().concat(Ze.makeArray(t))),this.length=n.length,i=0;i<n.length;i++)this[i]=n[i];else Re.apply(this,Ze.makeArray(t));return this},attr:function(t,e){var n,i=this;if("object"==typeof t)nn(t,(function(t,e){i.attr(t,e)}));else{if(!je(e)){if(i[0]&&1===i[0].nodeType){if((n=Je[t])&&n.get)return n.get(i[0],t);if(Xe[t])return i.prop(t)?t:void 0;null===(e=i[0].getAttribute(t,2))&&(e=void 0)}return e}this.each((function(){var n;if(1===this.nodeType){if((n=Je[t])&&n.set)return void n.set(this,e);null===e?this.removeAttribute(t,2):this.setAttribute(t,e,2)}}))}return i},removeAttr:function(t){return this.attr(t,null)},prop:function(t,e){var n=this;if("object"==typeof(t=Ge[t]||t))nn(t,(function(t,e){n.prop(t,e)}));else{if(!je(e))return n[0]&&n[0].nodeType&&t in n[0]?n[0][t]:e;this.each((function(){1===this.nodeType&&(this[t]=e)}))}return n},css:function(t,e){var n,i,r=this,o=function(t){return t.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()}))},s=function(t){return t.replace(/[A-Z]/g,(function(t){return"-"+t}))};if("object"==typeof t)nn(t,(function(t,e){r.css(t,e)}));else if(je(e))t=o(t),"number"!=typeof e||Ye[t]||(e=e.toString()+"px"),r.each((function(){var n=this.style;if((i=Qe[t])&&i.set)i.set(this,e);else{try{this.style[Ke[t]||t]=e}catch(t){}null!==e&&""!==e||(n.removeProperty?n.removeProperty(s(t)):n.removeAttribute(t))}}));else{if(n=r[0],(i=Qe[t])&&i.get)return i.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[o(t)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(s(t))}catch(t){return}}return r},remove:function(){for(var t,e=this.length;e--;)t=this[e],He.clean(t),t.parentNode&&t.parentNode.removeChild(t);return this},empty:function(){for(var t,e=this.length;e--;)for(t=this[e];t.firstChild;)t.removeChild(t.firstChild);return this},html:function(t){var e;if(je(t)){e=this.length;try{for(;e--;)this[e].innerHTML=t}catch(n){Ze(this[e]).empty().append(t)}return this}return this[0]?this[0].innerHTML:""},text:function(t){var e;if(je(t)){for(e=this.length;e--;)"innerText"in this[e]?this[e].innerText=t:this[0].textContent=t;return this}return this[0]?this[0].innerText||this[0].textContent:""},append:function(){return qe(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(t)}))},prepend:function(){return qe(this,arguments,(function(t){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(t,this.firstChild)}),!0)},before:function(){var t=this;return t[0]&&t[0].parentNode?qe(t,arguments,(function(t){this.parentNode.insertBefore(t,this)})):t},after:function(){var t=this;return t[0]&&t[0].parentNode?qe(t,arguments,(function(t){this.parentNode.insertBefore(t,this.nextSibling)}),!0):t},appendTo:function(t){return Ze(t).append(this),this},prependTo:function(t){return Ze(t).prepend(this),this},replaceWith:function(t){return this.before(t).remove()},wrap:function(t){return Ve(this,t)},wrapAll:function(t){return Ve(this,t,!0)},wrapInner:function(t){return this.each((function(){Ze(this).contents().wrapAll(t)})),this},unwrap:function(){return this.parent().each((function(){Ze(this).replaceWith(this.childNodes)}))},clone:function(){var t=[];return this.each((function(){t.push(this.cloneNode(!0))})),Ze(t)},addClass:function(t){return this.toggleClass(t,!0)},removeClass:function(t){return this.toggleClass(t,!1)},toggleClass:function(t,e){var n=this;return"string"!=typeof t?n:(-1!==t.indexOf(" ")?nn(t.split(" "),(function(){n.toggleClass(this,e)})):n.each((function(n,i){var r,o;(o=Ue(i,t))!==e&&(r=i.className,o?i.className=en((" "+r+" ").replace(" "+t+" "," ")):i.className+=r?" "+t:t)})),n)},hasClass:function(t){return Ue(this[0],t)},each:function(t){return nn(this,t)},on:function(t,e){return this.each((function(){He.bind(this,t,e)}))},off:function(t,e){return this.each((function(){He.unbind(this,t,e)}))},trigger:function(t){return this.each((function(){"object"==typeof t?He.fire(this,t.type,t):He.fire(this,t)}))},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Ze(Le.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(t){var e,n,i=[];for(e=0,n=this.length;e<n;e++)Ze.find(t,this[e],i);return Ze(i)},filter:function(t){return Ze("function"==typeof t?rn(this.toArray(),(function(e,n){return t(n,e)})):Ze.filter(t,this.toArray()))},closest:function(t){var e=[];return t instanceof Ze&&(t=t[0]),this.each((function(n,i){for(;i;){if("string"==typeof t&&Ze(i).is(t)){e.push(i);break}if(i===t){e.push(i);break}i=i.parentNode}})),Ze(e)},offset:function(t){var e,n,i,r,o=0,s=0;return t?this.css(t):((e=this[0])&&(i=(n=e.ownerDocument).documentElement,e.getBoundingClientRect&&(o=(r=e.getBoundingClientRect()).left+(i.scrollLeft||n.body.scrollLeft)-i.clientLeft,s=r.top+(i.scrollTop||n.body.scrollTop)-i.clientTop)),{left:o,top:s})},push:Re,sort:[].sort,splice:[].splice},Me.extend(Ze,{extend:Me.extend,makeArray:function(t){return(e=t)&&e===e.window||t.nodeType?[t]:Me.toArray(t);var e},inArray:function(t,e){var n;if(e.indexOf)return e.indexOf(t);for(n=e.length;n--;)if(e[n]===t)return n;return-1},isArray:Me.isArray,each:nn,trim:en,grep:rn,find:fe,expr:fe.selectors,unique:fe.uniqueSort,text:fe.getText,contains:fe.contains,filter:function(t,e,n){var i=e.length;for(n&&(t=":not("+t+")");i--;)1!==e[i].nodeType&&e.splice(i,1);return e=1===e.length?Ze.find.matchesSelector(e[0],t)?[e[0]]:[]:Ze.find.matches(t,e)}});var sn=function(t,e,n){var i=[],r=t[e];for("string"!=typeof n&&n instanceof Ze&&(n=n[0]);r&&9!==r.nodeType;){if(void 0!==n){if(r===n)break;if("string"==typeof n&&Ze(r).is(n))break}1===r.nodeType&&i.push(r),r=r[e]}return i},an=function(t,e,n,i){var r=[];for(i instanceof Ze&&(i=i[0]);t;t=t[e])if(!n||t.nodeType===n){if(void 0!==i){if(t===i)break;if("string"==typeof i&&Ze(t).is(i))break}r.push(t)}return r},ln=function(t,e,n){for(t=t[e];t;t=t[e])if(t.nodeType===n)return t;return null};nn({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return sn(t,"parentNode")},next:function(t){return ln(t,"nextSibling",1)},prev:function(t){return ln(t,"previousSibling",1)},children:function(t){return an(t.firstChild,"nextSibling",1)},contents:function(t){return Me.toArray(("iframe"===t.nodeName?t.contentDocument||t.contentWindow.document:t).childNodes)}},(function(t,e){Ze.fn[t]=function(n){var i=[];return this.each((function(){var t=e.call(i,this,n,i);t&&(Ze.isArray(t)?i.push.apply(i,t):i.push(t))})),this.length>1&&(ze[t]||(i=Ze.unique(i)),0===t.indexOf("parents")&&(i=i.reverse())),i=Ze(i),n?i.filter(n):i}})),nn({parentsUntil:function(t,e){return sn(t,"parentNode",e)},nextUntil:function(t,e){return an(t,"nextSibling",1,e).slice(1)},prevUntil:function(t,e){return an(t,"previousSibling",1,e).slice(1)}},(function(t,e){Ze.fn[t]=function(n,i){var r=[];return this.each((function(){var t=e.call(r,this,n,r);t&&(Ze.isArray(t)?r.push.apply(r,t):r.push(t))})),this.length>1&&(r=Ze.unique(r),0!==t.indexOf("parents")&&"prevUntil"!==t||(r=r.reverse())),r=Ze(r),i?r.filter(i):r}})),Ze.fn.is=function(t){return!!t&&this.filter(t).length>0},Ze.fn.init.prototype=Ze.fn,Ze.overrideDefaults=function(t){var e,n=function(i,r){return e=e||t(),0===arguments.length&&(i=e.element),r||(r=e.context),new n.fn.init(i,r)};return Ze.extend(n,this),n};var un=function(t,e,n){nn(n,(function(n,i){t[n]=t[n]||{},t[n][e]=i}))};gt.ie&&gt.ie<8&&(un(Je,"get",{maxlength:function(t){var e=t.maxLength;if(2147483647!==e)return e},size:function(t){var e=t.size;if(20!==e)return e},class:function(t){return t.className},style:function(t){var e=t.style.cssText;if(0!==e.length)return e}}),un(Je,"set",{class:function(t,e){t.className=e},style:function(t,e){t.style.cssText=e}})),gt.ie&&gt.ie<9&&(Ke.float="styleFloat",un(Qe,"set",{opacity:function(t,e){var n=t.style;null===e||""===e?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*e+")")}})),Ze.attrHooks=Je,Ze.cssHooks=Qe;var cn,fn=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(null,arguments)),e}},dn=function(){return hn(0,0)},hn=function(t,e){return{major:t,minor:e}},pn={nu:hn,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?dn():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}}(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return hn(i(1),i(2))}(t,n)},unknown:dn},mn=function(t,e){return function(){return e===t}},gn=function(t){var e=t.current;return{current:e,version:t.version,isEdge:mn("Edge",e),isChrome:mn("Chrome",e),isIE:mn("IE",e),isOpera:mn("Opera",e),isFirefox:mn("Firefox",e),isSafari:mn("Safari",e)}},vn={unknown:function(){return gn({current:void 0,version:pn.unknown()})},nu:gn,edge:y.constant("Edge"),chrome:y.constant("Chrome"),ie:y.constant("IE"),opera:y.constant("Opera"),firefox:y.constant("Firefox"),safari:y.constant("Safari")},yn=function(t,e){return function(){return e===t}},bn=function(t){var e=t.current;return{current:e,version:t.version,isWindows:yn("Windows",e),isiOS:yn("iOS",e),isAndroid:yn("Android",e),isOSX:yn("OSX",e),isLinux:yn("Linux",e),isSolaris:yn("Solaris",e),isFreeBSD:yn("FreeBSD",e)}},xn={unknown:function(){return bn({current:void 0,version:pn.unknown()})},nu:bn,windows:y.constant("Windows"),ios:y.constant("iOS"),android:y.constant("Android"),linux:y.constant("Linux"),osx:y.constant("OSX"),solaris:y.constant("Solaris"),freebsd:y.constant("FreeBSD")},wn=function(t,e){var n=String(e).toLowerCase();return z.find(t,(function(t){return t.search(n)}))},_n=function(t,e){return wn(t,e).map((function(t){var n=pn.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Cn=function(t,e){return wn(t,e).map((function(t){var n=pn.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},kn=function(t,e){return-1!==t.indexOf(e)},Sn=function(t){return t.replace(/^\s+|\s+$/g,"")},Tn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,En=function(t){return function(e){return kn(e,t)}},Dn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return kn(t,"edge/")&&kn(t,"chrome")&&kn(t,"safari")&&kn(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Tn],search:function(t){return kn(t,"chrome")&&!kn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return kn(t,"msie")||kn(t,"trident")}},{name:"Opera",versionRegexes:[Tn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:En("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:En("firefox")},{name:"Safari",versionRegexes:[Tn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(kn(t,"safari")||kn(t,"mobile/"))&&kn(t,"applewebkit")}}],Nn=[{name:"Windows",search:En("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return kn(t,"iphone")||kn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:En("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:En("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:En("linux"),versionRegexes:[]},{name:"Solaris",search:En("sunos"),versionRegexes:[]},{name:"FreeBSD",search:En("freebsd"),versionRegexes:[]}],An={browsers:y.constant(Dn),oses:y.constant(Nn)},Pn=function(t){var e=An.browsers(),n=An.oses(),i=_n(e,t).fold(vn.unknown,vn.nu),r=Cn(n,t).fold(xn.unknown,xn.nu),o=function(t,e,n){var i=t.isiOS()&&!0===/ipad/i.test(n),r=t.isiOS()&&!i,o=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,a=i||o||s&&!0===/mobile/i.test(n),l=t.isiOS()||t.isAndroid(),u=l&&!a,c=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n);return{isiPad:y.constant(i),isiPhone:y.constant(r),isTablet:y.constant(a),isPhone:y.constant(u),isTouch:y.constant(l),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:y.constant(c)}}(r,i,t);return{browser:i,os:r,deviceType:o}},On={detect:fn((function(){var t=navigator.userAgent;return Pn(t)}))},In=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:y.constant(t)}},Mn={fromHtml:function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",t),"HTML must have a single root node";return In(n.childNodes[0])},fromTag:function(t,e){var n=(e||document).createElement(t);return In(n)},fromText:function(t,e){var n=(e||document).createTextNode(t);return In(n)},fromDom:In,fromPoint:function(t,e,n){return k.from(t.dom().elementFromPoint(e,n)).map(In)}},Bn=8,Rn=9,Ln=1,Fn=3,Hn=function(t){return t.dom().nodeName.toLowerCase()},zn=function(t){return t.dom().nodeType},jn=function(t){return function(e){return zn(e)===t}},Wn=jn(Ln),$n=jn(Fn),qn=jn(Rn),Un={name:Hn,type:zn,value:function(t){return t.dom().nodeValue},isElement:Wn,isText:$n,isDocument:qn,isComment:function(t){return zn(t)===Bn||"#comment"===Hn(t)}},Vn=void 0===(cn=Object.keys)?function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}:cn,Yn=function(t,e){for(var n=Vn(t),i=0,r=n.length;i<r;i++){var o=n[i];e(t[o],o,t)}},Xn=function(t,e){var n={};return Yn(t,(function(i,r){var o=e(i,r,t);n[o.k]=o.v})),n},Gn=function(t,e){var n=[];return Yn(t,(function(t,i){n.push(e(t,i))})),n},Kn=function(t){return Gn(t,(function(t){return t}))},Jn={bifilter:function(t,e){var n={},i={};return Yn(t,(function(t,r){(e(t,r)?n:i)[r]=t})),{t:n,f:i}},each:Yn,map:function(t,e){return Xn(t,(function(t,n,i){return{k:n,v:e(t,n,i)}}))},mapToArray:Gn,tupleMap:Xn,find:function(t,e){for(var n=Vn(t),i=0,r=n.length;i<r;i++){var o=n[i],s=t[o];if(e(s,o,t))return k.some(s)}return k.none()},keys:Vn,values:Kn,size:function(t){return Kn(t).length}},Qn=function(t,e,n){if(!(T.isString(n)||T.isBoolean(n)||T.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},Zn=function(t,e,n){Qn(t.dom(),e,n)},ti=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},ei=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},ni={clone:function(t){return z.foldl(t.dom().attributes,(function(t,e){return t[e.name]=e.value,t}),{})},set:Zn,setAll:function(t,e){var n=t.dom();Jn.each(e,(function(t,e){Qn(n,e,t)}))},get:ti,has:ei,remove:function(t,e){t.dom().removeAttribute(e)},hasNone:function(t){var e=t.dom().attributes;return null==e||0===e.length},transfer:function(t,e,n){Un.isElement(t)&&Un.isElement(e)&&z.each(n,(function(n){!function(t,e,n){ei(t,n)&&!ei(e,n)&&Zn(e,n,ti(t,n))}(t,e,n)}))}},ii=fn((function(){return ri(Mn.fromDom(document))})),ri=function(t){var e=t.dom().body;if(null==e)throw"Body is not available yet";return Mn.fromDom(e)},oi={body:ii,getBody:ri,inBody:function(t){var e=Un.isText(t)?t.dom().parentNode:t.dom();return null!=e&&e.ownerDocument.body.contains(e)}},si=function(t){return void 0!==t.style},ai=function(t,e,n){if(!T.isString(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);si(t)&&t.style.setProperty(e,n)},li=function(t,e){return si(t)?t.style.getPropertyValue(e):""},ui=function(t,e){var n=t.dom(),i=li(n,e);return k.from(i).filter((function(t){return t.length>0}))},ci=function(t,e){var n=t.dom();Jn.each(e,(function(t,e){ai(n,e,t)}))},fi=function(t,e){var n=t.dom(),i=window.getComputedStyle(n).getPropertyValue(e),r=""!==i||oi.inBody(t)?i:li(n,e);return null===r?void 0:r},di=ui,hi=function(t){return t.slice(0).sort()},pi=function(t,e){throw new Error("All required keys ("+hi(t).join(", ")+") were not specified. Specified keys were: "+hi(e).join(", ")+".")},mi=function(t){throw new Error("Unsupported keys for object: "+hi(t).join(", "))},gi=function(t,e){if(!T.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");z.each(e,(function(e){if(!T.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},vi=function(t){var e=hi(t);z.find(e,(function(t,n){return n<e.length-1&&t===e[n+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))},yi={immutable:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return z.each(t,(function(t,n){i[t]=y.constant(e[n])})),i}},immutableBag:function(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return gi("required",t),gi("optional",e),vi(n),function(i){var r=Jn.keys(i);z.forall(t,(function(t){return z.contains(r,t)}))||pi(t,r);var o=z.filter(r,(function(t){return!z.contains(n,t)}));o.length>0&&mi(o);var s={};return z.each(t,(function(t){s[t]=y.constant(i[t])})),z.each(e,(function(t){s[t]=y.constant(Object.prototype.hasOwnProperty.call(i,t)?k.some(i[t]):k.none())})),s}}},bi=function(t,e){var n=[],i=function(t){return n.push(t),e(t)},r=e(t);do{r=r.bind(i)}while(r.isSome());return n},xi=function(){return q("Node")},wi=function(t,e,n){return 0!=(t.compareDocumentPosition(e)&n)},_i=function(t,e){return wi(t,e,xi().DOCUMENT_POSITION_CONTAINED_BY)},Ci=Ln,ki=Rn,Si=function(t){return t.nodeType!==Ci&&t.nodeType!==ki||0===t.childElementCount},Ti={all:function(t,e){var n=void 0===e?document:e.dom();return Si(n)?[]:z.map(n.querySelectorAll(t),Mn.fromDom)},is:function(t,e){var n=t.dom();if(n.nodeType!==Ci)return!1;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},one:function(t,e){var n=void 0===e?document:e.dom();return Si(n)?k.none():k.from(n.querySelector(t)).map(Mn.fromDom)}},Ei=function(t,e){return t.dom()===e.dom()},Di=On.detect().browser.isIE()?function(t,e){return _i(t.dom(),e.dom())}:function(t,e){var n=t.dom(),i=e.dom();return n!==i&&n.contains(i)},Ni={eq:Ei,isEqualNode:function(t,e){return t.dom().isEqualNode(e.dom())},member:function(t,e){return z.exists(e,y.curry(Ei,t))},contains:Di,is:Ti.is},Ai=function(t){return Mn.fromDom(t.dom().ownerDocument)},Pi=function(t){var e=t.dom();return k.from(e.parentNode).map(Mn.fromDom)},Oi=function(t){var e=t.dom();return k.from(e.previousSibling).map(Mn.fromDom)},Ii=function(t){var e=t.dom();return k.from(e.nextSibling).map(Mn.fromDom)},Mi=function(t){var e=t.dom();return z.map(e.childNodes,Mn.fromDom)},Bi=function(t,e){var n=t.dom().childNodes;return k.from(n[e]).map(Mn.fromDom)},Ri=yi.immutable("element","offset"),Li={owner:Ai,defaultView:function(t){var e=t.dom().ownerDocument.defaultView;return Mn.fromDom(e)},documentElement:function(t){var e=Ai(t);return Mn.fromDom(e.dom().documentElement)},parent:Pi,findIndex:function(t){return Pi(t).bind((function(e){var n=Mi(e);return z.findIndex(n,(function(e){return Ni.eq(t,e)}))}))},parents:function(t,e){for(var n=T.isFunction(e)?e:y.constant(!1),i=t.dom(),r=[];null!==i.parentNode&&void 0!==i.parentNode;){var o=i.parentNode,s=Mn.fromDom(o);if(r.push(s),!0===n(s))break;i=o}return r},siblings:function(t){return Pi(t).map(Mi).map((function(e){return z.filter(e,(function(e){return!Ni.eq(t,e)}))})).getOr([])},prevSibling:Oi,offsetParent:function(t){var e=t.dom();return k.from(e.offsetParent).map(Mn.fromDom)},prevSiblings:function(t){return z.reverse(bi(t,Oi))},nextSibling:Ii,nextSiblings:function(t){return bi(t,Ii)},children:Mi,child:Bi,firstChild:function(t){return Bi(t,0)},lastChild:function(t){return Bi(t,t.dom().childNodes.length-1)},childNodesCount:function(t){return t.dom().childNodes.length},hasChildNodes:function(t){return t.dom().hasChildNodes()},leaf:function(t,e){var n=Mi(t);return n.length>0&&e<n.length?Ri(n[e],0):Ri(t,e)}},Fi=On.detect().browser,Hi=function(t){return z.find(t,Un.isElement)},zi=function(t,e,n){var i,r,o=0,s=0,a=t.ownerDocument;if(n=n||t,e){if(n===t&&e.getBoundingClientRect&&"static"===fi(Mn.fromDom(t),"position"))return{x:o=(r=e.getBoundingClientRect()).left+(a.documentElement.scrollLeft||t.scrollLeft)-a.documentElement.clientLeft,y:s=r.top+(a.documentElement.scrollTop||t.scrollTop)-a.documentElement.clientTop};for(i=e;i&&i!==n&&i.nodeType;)o+=i.offsetLeft||0,s+=i.offsetTop||0,i=i.offsetParent;for(i=e.parentNode;i&&i!==n&&i.nodeType;)o-=i.scrollLeft||0,s-=i.scrollTop||0,i=i.parentNode;s+=function(t){return Fi.isFirefox()&&"table"===Un.name(t)?Hi(Li.children(t)).filter((function(t){return"caption"===Un.name(t)})).bind((function(t){return Hi(Li.nextSiblings(t)).map((function(e){var n=e.dom().offsetTop,i=t.dom().offsetTop,r=t.dom().offsetHeight;return n<=i?-r:0}))})).getOr(0):0}(Mn.fromDom(e))}return{x:o,y:s}},ji=function(t){var e=k.none(),n=[],i=function(t){r()?s(t):n.push(t)},r=function(){return e.isSome()},o=function(t){z.each(t,s)},s=function(t){e.each((function(e){setTimeout((function(){t(e)}),0)}))};return t((function(t){e=k.some(t),o(n),n=[]})),{get:i,map:function(t){return ji((function(e){i((function(n){e(t(n))}))}))},isReady:r}},Wi={nu:ji,pure:function(t){return ji((function(e){e(t)}))}},$i=function(t){return function(){var e=Array.prototype.slice.call(arguments),n=this;setTimeout((function(){t.apply(n,e)}),0)}},qi=function(t){var e=function(e){t($i(e))};return{map:function(t){return qi((function(n){e((function(e){var i=t(e);n(i)}))}))},bind:function(t){return qi((function(n){e((function(e){t(e).get(n)}))}))},anonBind:function(t){return qi((function(n){e((function(e){t.get(n)}))}))},toLazy:function(){return Wi.nu(e)},get:e}},Ui={nu:qi,pure:function(t){return qi((function(e){e(t)}))}},Vi=function(t,e){return e((function(e){var n=[],i=0;0===t.length?e([]):z.each(t,(function(r,o){r.get(function(r){return function(o){n[r]=o,++i>=t.length&&e(n)}}(o))}))}))},Yi=function(t){return Vi(t,Ui.nu)},Xi=Yi,Gi=function(t){return{is:function(e){return t===e},isValue:y.always,isError:y.never,getOr:y.constant(t),getOrThunk:y.constant(t),getOrDie:y.constant(t),or:function(e){return Gi(t)},orThunk:function(e){return Gi(t)},fold:function(e,n){return n(t)},map:function(e){return Gi(e(t))},each:function(e){e(t)},bind:function(e){return e(t)},exists:function(e){return e(t)},forall:function(e){return e(t)},toOption:function(){return k.some(t)}}},Ki=function(t){return{is:y.never,isValue:y.never,isError:y.always,getOr:y.identity,getOrThunk:function(t){return t()},getOrDie:function(){return y.die(String(t))()},or:function(t){return t},orThunk:function(t){return t()},fold:function(e,n){return e(t)},map:function(e){return Ki(t)},each:y.noop,bind:function(e){return Ki(t)},exists:y.never,forall:y.always,toOption:k.none}},Ji={value:Gi,error:Ki};function Qi(t,e){var n=t,i=function(t,n,i,r){var o,s;if(t){if(!r&&t[n])return t[n];if(t!==e){if(o=t[i])return o;for(s=t.parentNode;s&&s!==e;s=s.parentNode)if(o=s[i])return o}}};this.current=function(){return n},this.next=function(t){return n=i(n,"firstChild","nextSibling",t)},this.prev=function(t){return n=i(n,"lastChild","previousSibling",t)},this.prev2=function(t){return n=function(t,n,i,r){var o,s,a;if(t){if(o=t[i],e&&o===e)return;if(o){if(!r)for(a=o[n];a;a=a[n])if(!a[n])return a;return o}if((s=t.parentNode)&&s!==e)return s}}(n,"lastChild","previousSibling",t)}}var Zi,tr,er,nr=function(t){var e;return function(n){return(e=e||z.mapToObject(t,y.constant(!0))).hasOwnProperty(Un.name(n))}},ir=nr(["h1","h2","h3","h4","h5","h6"]),rr=nr(["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"]),or=function(t){return Un.isElement(t)&&!rr(t)},sr=function(t){return Un.isElement(t)&&"br"===Un.name(t)},ar=nr(["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"]),lr=nr(["ul","ol","dl"]),ur=nr(["li","dd","dt"]),cr=nr(["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"]),fr=nr(["thead","tbody","tfoot"]),dr=nr(["td","th"]),hr=nr(["pre","script","textarea","style"]),pr=function(t){return function(e){return!!e&&e.nodeType===t}},mr=pr(1),gr=function(t){var e=t.toLowerCase().split(" ");return function(t){var n,i;if(t&&t.nodeType)for(i=t.nodeName.toLowerCase(),n=0;n<e.length;n++)if(i===e[n])return!0;return!1}},vr=function(t){return function(e){if(mr(e)){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},yr=pr(3),br=pr(8),xr=pr(9),wr=gr("br"),_r=vr("true"),Cr=vr("false"),kr={isText:yr,isElement:mr,isComment:br,isDocument:xr,isBr:wr,isContentEditableTrue:_r,isContentEditableFalse:Cr,matchNodeNames:gr,hasPropValue:function(t,e){return function(n){return mr(n)&&n[t]===e}},hasAttribute:function(t,e){return function(e){return mr(e)&&e.hasAttribute(t)}},hasAttributeValue:function(t,e){return function(n){return mr(n)&&n.getAttribute(t)===e}},matchStyleValues:function(t,e){var n=e.toLowerCase().split(" ");return function(e){var i;if(mr(e))for(i=0;i<n.length;i++){var r=e.ownerDocument.defaultView.getComputedStyle(e,null);if((r?r.getPropertyValue(t):null)===n[i])return!0}return!1}},isBogus:function(t){return mr(t)&&t.hasAttribute("data-mce-bogus")},isBogusAll:function(t){return mr(t)&&"all"===t.getAttribute("data-mce-bogus")},isTable:function(t){return mr(t)&&"TABLE"===t.tagName}},Sr=function(t){return t&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},Tr=function(t,e){var n,i=e.childNodes;if(!kr.isElement(e)||!Sr(e)){for(n=i.length-1;n>=0;n--)Tr(t,i[n]);if(!1===kr.isDocument(e)){if(kr.isText(e)&&e.nodeValue.length>0){var r=Me.trim(e.nodeValue).length;if(t.isBlock(e.parentNode)||r>0)return;if(0===r&&function(t){var e=t.previousSibling&&"SPAN"===t.previousSibling.nodeName,n=t.nextSibling&&"SPAN"===t.nextSibling.nodeName;return e&&n}(e))return}else if(kr.isElement(e)&&(1===(i=e.childNodes).length&&Sr(i[0])&&e.parentNode.insertBefore(i[0],e),i.length||cr(Mn.fromDom(e))))return;t.remove(e)}return e}},Er={trimNode:Tr},Dr=Me.makeMap,Nr=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ar=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Pr=/[<>&\"\']/g,Or=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Ir={128:"â¬",130:"â",131:"Æ",132:"â",133:"â¦",134:"â ",135:"â¡",136:"Ë",137:"â°",138:"Å ",139:"â¹",140:"Å",142:"Å½",145:"â",146:"â",147:"â",148:"â",149:"â¢",150:"â",151:"â",152:"Ë",153:"â¢",154:"Å¡",155:"âº",156:"Å",158:"Å¾",159:"Å¸"};tr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},er={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Mr=function(t,e){var n,i,r,o={};if(t){for(t=t.split(","),e=e||10,n=0;n<t.length;n+=2)i=String.fromCharCode(parseInt(t[n],e)),tr[i]||(r="&"+t[n+1]+";",o[i]=r,o[r]=i);return o}};Zi=Mr("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Br=function(t,e){return t.replace(e?Nr:Ar,(function(t){return tr[t]||t}))},Rr=function(t,e){return t.replace(e?Nr:Ar,(function(t){return t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":tr[t]||"&#"+t.charCodeAt(0)+";"}))},Lr=function(t,e,n){return n=n||Zi,t.replace(e?Nr:Ar,(function(t){return tr[t]||n[t]||t}))},Fr={encodeRaw:Br,encodeAllRaw:function(t){return(""+t).replace(Pr,(function(t){return tr[t]||t}))},encodeNumeric:Rr,encodeNamed:Lr,getEncodeFunc:function(t,e){var n=Mr(e)||Zi,i=Dr(t.replace(/\+/g,","));return i.named&&i.numeric?function(t,e){return t.replace(e?Nr:Ar,(function(t){return void 0!==tr[t]?tr[t]:void 0!==n[t]?n[t]:t.length>1?"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";":"&#"+t.charCodeAt(0)+";"}))}:i.named?e?function(t,e){return Lr(t,e,n)}:Lr:i.numeric?Rr:Br},decode:function(t){return t.replace(Or,(function(t,e){return e?(e="x"===e.charAt(0).toLowerCase()?parseInt(e.substr(1),16):parseInt(e,10))>65535?(e-=65536,String.fromCharCode(55296+(e>>10),56320+(1023&e))):Ir[e]||String.fromCharCode(e):er[t]||Zi[t]||function(t){var e;return(e=Mn.fromTag("div").dom()).innerHTML=t,e.textContent||e.innerText||t}(t)}))}},Hr={},zr={},jr=Me.makeMap,Wr=Me.each,$r=Me.extend,qr=Me.explode,Ur=Me.inArray,Vr=function(t,e){return(t=Me.trim(t))?t.split(e||" "):[]},Yr=function(t,e){var n;return t&&(n={},"string"==typeof t&&(t={"*":t}),Wr(t,(function(t,i){n[i]=n[i.toUpperCase()]="map"===e?jr(t,/[, ]/):qr(t,/[, ]/)}))),n};function Xr(t){var e,n,i,r,o,s,a,l,u,c,f,d,h,p={},m={},g=[],v={},y={},b=function(e,n,i){var r=t[e];return r?r=jr(r,/[, ]/,jr(r.toUpperCase(),/[, ]/)):(r=Hr[e])||(r=jr(n," ",jr(n.toUpperCase()," ")),r=$r(r,i),Hr[e]=r),r};i=function(t){var e,n,i,r,o,s,a={},l=function(t,n,i){var r,o,s,l=function(t,e){var n,i,r={};for(n=0,i=t.length;n<i;n++)r[t[n]]=e||{};return r};for(n=n||"","string"==typeof(i=i||[])&&(i=Vr(i)),r=(t=Vr(t)).length;r--;)s={attributes:l(o=Vr([e,n].join(" "))),attributesOrder:o,children:l(i,zr)},a[t[r]]=s},u=function(t,e){var n,i,r,o;for(n=(t=Vr(t)).length,e=Vr(e);n--;)for(i=a[t[n]],r=0,o=e.length;r<o;r++)i.attributes[e[r]]={},i.attributesOrder.push(e[r])};return Hr[t]?Hr[t]:(e="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",i="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==t&&(e+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure header footer hgroup section nav",i+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==t&&(e+=" xml:lang",i=[i,s="acronym applet basefont big font strike tt"].join(" "),Wr(Vr(s),(function(t){l(t,"",i)})),n=[n,o="center dir isindex noframes"].join(" "),r=[n,i].join(" "),Wr(Vr(o),(function(t){l(t,"",r)}))),r=r||[n,i].join(" "),l("html","manifest","head body"),l("head","","base command link meta noscript script style title"),l("title hr noscript br"),l("base","href target"),l("link","href rel media hreflang type sizes hreflang"),l("meta","name http-equiv content charset"),l("style","media type scoped"),l("script","src async defer type charset"),l("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",r),l("address dt dd div caption","",r),l("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",i),l("blockquote","cite",r),l("ol","reversed start type","li"),l("ul","","li"),l("li","value",r),l("dl","","dt dd"),l("a","href target rel media hreflang type",i),l("q","cite",i),l("ins del","cite datetime",r),l("img","src sizes srcset alt usemap ismap width height"),l("iframe","src name width height",r),l("embed","src type width height"),l("object","data type typemustmatch name usemap form width height",[r,"param"].join(" ")),l("param","name value"),l("map","name",[r,"area"].join(" ")),l("area","alt coords shape href target rel media hreflang type"),l("table","border","caption colgroup thead tfoot tbody tr"+("html4"===t?" col":"")),l("colgroup","span","col"),l("col","span"),l("tbody thead tfoot","","tr"),l("tr","","td th"),l("td","colspan rowspan headers",r),l("th","colspan rowspan headers scope abbr",r),l("form","accept-charset action autocomplete enctype method name novalidate target",r),l("fieldset","disabled form name",[r,"legend"].join(" ")),l("label","form for",i),l("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),l("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===t?r:i),l("select","disabled form multiple name required size","option optgroup"),l("optgroup","disabled label","option"),l("option","disabled label selected value"),l("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),l("menu","type label",[r,"li"].join(" ")),l("noscript","",r),"html4"!==t&&(l("wbr"),l("ruby","",[i,"rt rp"].join(" ")),l("figcaption","",r),l("mark rt rp summary bdi","",i),l("canvas","width height",r),l("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[r,"track source"].join(" ")),l("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[r,"track source"].join(" ")),l("picture","","img source"),l("source","src srcset type media sizes"),l("track","kind src srclang label default"),l("datalist","",[i,"option"].join(" ")),l("article section nav aside header footer","",r),l("hgroup","","h1 h2 h3 h4 h5 h6"),l("figure","",[r,"figcaption"].join(" ")),l("time","datetime",i),l("dialog","open",r),l("command","type label icon disabled checked radiogroup command"),l("output","for form name",i),l("progress","value max",i),l("meter","value min max low high optimum",i),l("details","open",[r,"summary"].join(" ")),l("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==t&&(u("script","language xml:space"),u("style","xml:space"),u("object","declare classid code codebase codetype archive standby align border hspace vspace"),u("embed","align name hspace vspace"),u("param","valuetype type"),u("a","charset name rev shape coords"),u("br","clear"),u("applet","codebase archive code object alt name width height align hspace vspace"),u("img","name longdesc align border hspace vspace"),u("iframe","longdesc frameborder marginwidth marginheight scrolling align"),u("font basefont","size color face"),u("input","usemap align"),u("select","onchange"),u("textarea"),u("h1 h2 h3 h4 h5 h6 div p legend caption","align"),u("ul","type compact"),u("li","type"),u("ol dl menu dir","compact"),u("pre","width xml:space"),u("hr","align noshade size width"),u("isindex","prompt"),u("table","summary width frame rules cellspacing cellpadding align bgcolor"),u("col","width align char charoff valign"),u("colgroup","width align char charoff valign"),u("thead","align char charoff valign"),u("tr","align char charoff valign bgcolor"),u("th","axis align char charoff valign nowrap bgcolor width height"),u("form","accept"),u("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),u("tfoot","align char charoff valign"),u("tbody","align char charoff valign"),u("area","nohref"),u("body","background bgcolor text link vlink alink")),"html4"!==t&&(u("input button select textarea","autofocus"),u("input textarea","placeholder"),u("a","download"),u("link script img","crossorigin"),u("iframe","sandbox seamless allowfullscreen")),Wr(Vr("a form meter progress dfn"),(function(t){a[t]&&delete a[t].children[t]})),delete a.caption.children.table,delete a.script,Hr[t]=a,a)}((t=t||{}).schema),!1===t.verify_html&&(t.valid_elements="*[*]"),e=Yr(t.valid_styles),n=Yr(t.invalid_styles,"map"),l=Yr(t.valid_classes,"map"),r=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),o=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),s=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),a=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),c=b("non_empty_elements","td th iframe video audio object script pre code",s),f=b("move_caret_before_on_enter_elements","table",c),d=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),u=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),h=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Wr((t.special||"script noscript noframes noembed title style textarea xmp").split(" "),(function(t){y[t]=new RegExp("</"+t+"[^>]*>","gi")}));var x=function(t){return new RegExp("^"+t.replace(/([?+*])/g,".$1")+"$")},w=function(t){var e,n,i,r,o,s,a,l,u,c,f,d,h,m,v,y,b,w,_,C=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,k=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(t)for(t=Vr(t,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),e=0,n=t.length;e<n;e++)if(o=C.exec(t[e])){if(m=o[1],u=o[2],v=o[3],l=o[5],s={attributes:d={},attributesOrder:h=[]},"#"===m&&(s.paddEmpty=!0),"-"===m&&(s.removeEmpty=!0),"!"===o[4]&&(s.removeEmptyAttrs=!0),y){for(w in y)d[w]=y[w];h.push.apply(h,b)}if(l)for(i=0,r=(l=Vr(l,"|")).length;i<r;i++)if(o=k.exec(l[i])){if(a={},f=o[1],c=o[2].replace(/[\\:]:/g,":"),m=o[3],_=o[4],"!"===f&&(s.attributesRequired=s.attributesRequired||[],s.attributesRequired.push(c),a.required=!0),"-"===f){delete d[c],h.splice(Ur(h,c),1);continue}m&&("="===m&&(s.attributesDefault=s.attributesDefault||[],s.attributesDefault.push({name:c,value:_}),a.defaultValue=_),":"===m&&(s.attributesForced=s.attributesForced||[],s.attributesForced.push({name:c,value:_}),a.forcedValue=_),"<"===m&&(a.validValues=jr(_,"?"))),S.test(c)?(s.attributePatterns=s.attributePatterns||[],a.pattern=x(c),s.attributePatterns.push(a)):(d[c]||h.push(c),d[c]=a)}y||"@"!==u||(y=d,b=h),v&&(s.outputName=u,p[v]=s),S.test(u)?(s.pattern=x(u),g.push(s)):p[u]=s}},_=function(t){p={},g=[],w(t),Wr(i,(function(t,e){m[e]=t.children}))},C=function(t){var e=/^(~)?(.+)$/;t&&(Hr.text_block_elements=Hr.block_elements=null,Wr(Vr(t,","),(function(t){var n=e.exec(t),i="~"===n[1],r=i?"span":"div",o=n[2];if(m[o]=m[r],v[o]=r,i||(u[o.toUpperCase()]={},u[o]={}),!p[o]){var s=p[r];delete(s=$r({},s)).removeEmptyAttrs,delete s.removeEmpty,p[o]=s}Wr(m,(function(t,e){t[r]&&(m[e]=t=$r({},m[e]),t[o]=t[r])}))})))},k=function(e){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Hr[t.schema]=null,e&&Wr(Vr(e,","),(function(t){var e,i,r=n.exec(t);r&&(i=r[1],e=i?m[r[2]]:m[r[2]]={"#comment":{}},e=m[r[2]],Wr(Vr(r[3],"|"),(function(t){"-"===i?delete e[t]:e[t]={}})))}))},S=function(t){var e,n=p[t];if(n)return n;for(e=g.length;e--;)if((n=g[e]).pattern.test(t))return n};return t.valid_elements?_(t.valid_elements):(Wr(i,(function(t,e){p[e]={attributes:t.attributes,attributesOrder:t.attributesOrder},m[e]=t.children})),"html5"!==t.schema&&Wr(Vr("strong/b em/i"),(function(t){t=Vr(t,"/"),p[t[1]].outputName=t[0]})),Wr(Vr("ol ul sub sup blockquote span font a table tbody tr strong em b i"),(function(t){p[t]&&(p[t].removeEmpty=!0)})),Wr(Vr("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),(function(t){p[t].paddEmpty=!0})),Wr(Vr("span"),(function(t){p[t].removeEmptyAttrs=!0}))),C(t.custom_elements),k(t.valid_children),w(t.extended_valid_elements),k("+ol[ul|ol],+ul[ul|ol]"),Wr({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},(function(t,e){p[e]&&(p[e].parentsRequired=Vr(t))})),t.invalid_elements&&Wr(qr(t.invalid_elements),(function(t){p[t]&&delete p[t]})),S("span")||w("span[!data-mce-type|*]"),{children:m,elements:p,getValidStyles:function(){return e},getValidClasses:function(){return l},getBlockElements:function(){return u},getInvalidStyles:function(){return n},getShortEndedElements:function(){return s},getTextBlockElements:function(){return d},getTextInlineElements:function(){return h},getBoolAttrs:function(){return a},getElementRule:S,getSelfClosingElements:function(){return o},getNonEmptyElements:function(){return c},getMoveCaretBeforeOnEnterElements:function(){return f},getWhiteSpaceElements:function(){return r},getSpecialElements:function(){return y},isValidChild:function(t,e){var n=m[t.toLowerCase()];return!(!n||!n[e.toLowerCase()])},isValid:function(t,e){var n,i,r=S(t);if(r){if(!e)return!0;if(r.attributes[e])return!0;if(n=r.attributePatterns)for(i=n.length;i--;)if(n[i].pattern.test(t))return!0}return!1},getCustomElements:function(){return v},addValidElements:w,setValidElements:_,addCustomElements:C,addValidChildren:k}}var Gr=function(t,e,n,i){var r=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+r(e)+r(n)+r(i)};function Kr(t,e){var n,i,r,o,s=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,a=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,u=/\s+$/,c={};for(t=t||{},e&&(r=e.getValidStyles(),o=e.getInvalidStyles()),i="\\\" \\' \\; \\: ; : \ufeff".split(" "),n=0;n<i.length;n++)c[i[n]]="\ufeff"+n,c["\ufeff"+n]=i[n];return{toHex:function(t){return t.replace(s,Gr)},parse:function(e){var i,r,o,f,d,h,p,m,g={},v=t.url_converter,y=t.url_converter_scope||this,b=function(t,e,i){var r,o,s,a;if((r=g[t+"-top"+e])&&(o=g[t+"-right"+e])&&(s=g[t+"-bottom"+e])&&(a=g[t+"-left"+e])){var l=[r,o,s,a];for(n=l.length-1;n--&&l[n]===l[n+1];);n>-1&&i||(g[t+e]=-1===n?l[0]:l.join(" "),delete g[t+"-top"+e],delete g[t+"-right"+e],delete g[t+"-bottom"+e],delete g[t+"-left"+e])}},x=function(t){var e,n=g[t];if(n){for(e=(n=n.split(" ")).length;e--;)if(n[e]!==n[0])return!1;return g[t]=n[0],!0}},w=function(t){return f=!0,c[t]},_=function(t,e){return f&&(t=t.replace(/\uFEFF[0-9]/g,(function(t){return c[t]}))),e||(t=t.replace(/\\([\'\";:])/g,"$1")),t},C=function(t){return String.fromCharCode(parseInt(t.slice(1),16))},k=function(t){return t.replace(/\\[0-9a-f]+/gi,C)},S=function(e,n,i,r,o,s){if(o=o||s)return"'"+(o=_(o)).replace(/\'/g,"\\'")+"'";if(n=_(n||i||r),!t.allow_script_urls){var a=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(a))return"";if(!t.allow_svg_data_urls&&/^data:image\/svg/i.test(a))return""}return v&&(n=v.call(y,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(e){for(e=(e=e.replace(/[\u0000-\u001F]/g,"")).replace(/\\[\"\';:\uFEFF]/g,w).replace(/\"[^\"]+\"|\'[^\']+\'/g,(function(t){return t.replace(/[;:]/g,w)}));i=l.exec(e);)if(l.lastIndex=i.index+i[0].length,r=i[1].replace(u,"").toLowerCase(),o=i[2].replace(u,""),r&&o){if(r=k(r),o=k(o),-1!==r.indexOf("\ufeff")||-1!==r.indexOf('"'))continue;if(!t.allow_script_urls&&("behavior"===r||/expression\s*\(|\/\*|\*\//.test(o)))continue;"font-weight"===r&&"700"===o?o="bold":"color"!==r&&"background-color"!==r||(o=o.toLowerCase()),o=(o=o.replace(s,Gr)).replace(a,S),g[r]=f?_(o,!0):o}b("border","",!0),b("border","-width"),b("border","-color"),b("border","-style"),b("padding",""),b("margin",""),d="border",p="border-style",m="border-color",x(h="border-width")&&x(p)&&x(m)&&(g[d]=g[h]+" "+g[p]+" "+g[m],delete g[h],delete g[p],delete g[m]),"medium none"===g.border&&delete g.border,"none"===g["border-image"]&&delete g["border-image"]}return g},serialize:function(t,e){var n,i,s="",a=function(e){var n,i,o,a;if(n=r[e])for(i=0,o=n.length;i<o;i++)e=n[i],(a=t[e])&&(s+=(s.length>0?" ":"")+e+": "+a+";")},l=function(t,e){var n;return!((n=o["*"])&&n[t]||(n=o[e])&&n[t])};if(e&&r)a("*"),a(e);else for(n in t)!(i=t[n])||o&&!l(n,e)||(s+=(s.length>0?" ":"")+n+": "+i+";");return s}}}var Jr=Me.each,Qr=Me.grep,Zr=gt.ie,to=/^([a-z0-9],?)+$/i,eo=/^[ \t\r\n]*$/,no=function(t,e){var n=e.attr("style"),i=t.serialize(t.parse(n),e[0].nodeName);i||(i=null),e.attr("data-mce-style",i)},io=function(t,e){var n,i,r=0;if(t)for(n=t.nodeType,t=t.previousSibling;t;t=t.previousSibling)i=t.nodeType,(!e||3!==i||i!==n&&t.nodeValue.length)&&(r++,n=i);return r};function ro(t,e){var n,i=this;void 0===e&&(e={});var r={},o=window,s={},a=0,l=function(t,e){var n,i=0,r={};n=(e=e||{}).maxLoadTime||5e3;var o=function(e){t.getElementsByTagName("head")[0].appendChild(e)},s=function(e,s,a){var l,u,c,f,d=function(){for(var t=f.passed,e=t.length;e--;)t[e]();f.status=2,f.passed=[],f.failed=[]},h=function(){for(var t=f.failed,e=t.length;e--;)t[e]();f.status=3,f.passed=[],f.failed=[]},p=function(t,e){t()||((new Date).getTime()-c<n?wt.setTimeout(e):h())},m=function(){p((function(){for(var e,n,i=t.styleSheets,r=i.length;r--;)if((n=(e=i[r]).ownerNode?e.ownerNode:e.owningElement)&&n.id===l.id)return d(),!0}),m)},g=function(){p((function(){try{var t=u.sheet.cssRules;return d(),!!t}catch(t){}}),g)};if(e=Me._addCacheSuffix(e),r[e]?f=r[e]:(f={passed:[],failed:[]},r[e]=f),s&&f.passed.push(s),a&&f.failed.push(a),1!==f.status)if(2!==f.status)if(3!==f.status){if(f.status=1,(l=t.createElement("link")).rel="stylesheet",l.type="text/css",l.id="u"+i++,l.async=!1,l.defer=!1,c=(new Date).getTime(),"onload"in l&&!((v=navigator.userAgent.match(/WebKit\/(\d*)/))&&parseInt(v[1],10)<536))l.onload=m,l.onerror=h;else{if(navigator.userAgent.indexOf("Firefox")>0)return(u=t.createElement("style")).textContent='@import "'+e+'"',g(),void o(u);m()}var v;o(l),l.href=e}else h();else d()},a=function(t){return Ui.nu((function(e){s(t,y.compose(e,y.constant(Ji.value(t))),y.compose(e,y.constant(Ji.error(t))))}))},l=function(t){return t.fold(y.identity,y.identity)};return{load:s,loadAll:function(t,e,n){Xi(z.map(t,a)).get((function(t){var i=z.partition(t,(function(t){return t.isValue()}));i.fail.length>0?n(i.fail.map(l)):e(i.pass.map(l))}))}}}(t),u=[],c=e.schema?e.schema:Xr({}),f=Kr({url_converter:e.url_converter,url_converter_scope:e.url_converter_scope},e.schema),d=e.ownEvents?new At(e.proxy):At.Event,h=c.getBlockElements(),p=Ze.overrideDefaults((function(){return{context:t,element:W.getRoot()}})),m=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},g=function(t){return"string"==typeof t&&(t=m(t)),p(t)},v=function(t,e,i){var r,o,s=g(t);return s.length&&(o=(r=n[e])&&r.get?r.get(s,e):s.attr(e)),void 0===o&&(o=i||""),o},b=function(t){var e=m(t);return e?e.attributes:[]},x=function(t,i,r){var o,s;""===r&&(r=null);var a=g(t);o=a.attr(i),a.length&&((s=n[i])&&s.set?s.set(a,r,i):a.attr(i,r),o!==r&&e.onSetAttrib&&e.onSetAttrib({attrElm:a,attrName:i,attrValue:r}))},w=function(){return e.root_element||t.body},_=function(e,n){return zi(t.body,m(e),n)},C=function(t,e,n){var i=g(t);return n?i.css(e):("float"===(e=e.replace(/-(\D)/g,(function(t,e){return e.toUpperCase()})))&&(e=gt.ie&&gt.ie<12?"styleFloat":"cssFloat"),i[0]&&i[0].style?i[0].style[e]:void 0)},k=function(t){var e,n;return t=m(t),e=C(t,"width"),n=C(t,"height"),-1===e.indexOf("px")&&(e=0),-1===n.indexOf("px")&&(n=0),{w:parseInt(e,10)||t.offsetWidth||t.clientWidth,h:parseInt(n,10)||t.offsetHeight||t.clientHeight}},S=function(t,e){var n;if(!t)return!1;if(!Array.isArray(t)){if("*"===e)return 1===t.nodeType;if(to.test(e)){var i=e.toLowerCase().split(/,/),r=t.nodeName.toLowerCase();for(n=i.length-1;n>=0;n--)if(i[n]===r)return!0;return!1}if(t.nodeType&&1!==t.nodeType)return!1}var o=Array.isArray(t)?t:[t];return fe(e,o[0].ownerDocument||o[0],null,o).length>0},T=function(t,e,n,i){var r,o=[],s=m(t);for(i=void 0===i,n=n||("BODY"!==w().nodeName?w().parentNode:null),Me.is(e,"string")&&(r=e,e="*"===e?function(t){return 1===t.nodeType}:function(t){return S(t,r)});s&&s!==n&&s.nodeType&&9!==s.nodeType;){if(!e||"function"==typeof e&&e(s)){if(!i)return[s];o.push(s)}s=s.parentNode}return i?o:null},E=function(t,e,n){var i=e;if(t)for("string"==typeof e&&(i=function(t){return S(t,e)}),t=t[n];t;t=t[n])if("function"==typeof i&&i(t))return t;return null},D=function(t,e,n){var r,o="string"==typeof t?m(t):t;if(!o)return!1;if(Me.isArray(o)&&(o.length||0===o.length))return r=[],Jr(o,(function(t,i){t&&("string"==typeof t&&(t=m(t)),r.push(e.call(n,t,i)))})),r;var s=n||i;return e.call(s,o)},N=function(t,e){g(t).each((function(t,n){Jr(e,(function(t,e){x(n,e,t)}))}))},A=function(t,e){var n=g(t);Zr?n.each((function(t,n){if(!1!==n.canHaveHTML){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+e,n.removeChild(n.firstChild)}catch(t){Ze("<div></div>").html("<br>"+e).contents().slice(1).appendTo(n)}return e}})):n.html(e)},P=function(e,n,i,r,o){return D(e,(function(e){var s="string"==typeof n?t.createElement(n):n;return N(s,i),r&&("string"!=typeof r&&r.nodeType?s.appendChild(r):"string"==typeof r&&A(s,r)),o?s:e.appendChild(s)}))},O=function(e,n,i){return P(t.createElement(e),e,n,i,!0)},I=Fr.encodeAllRaw,M=function(t,e){var n=g(t);return e?n.each((function(){for(var t;t=this.firstChild;)3===t.nodeType&&0===t.data.length?this.removeChild(t):this.parentNode.insertBefore(t,this)})).remove():n.remove(),n.length>1?n.toArray():n[0]},B=function(t,e,n){g(t).toggleClass(e,n).each((function(){""===this.className&&Ze(this).attr("class",null)}))},R=function(t,e,n){return D(e,(function(e){return Me.is(e,"array")&&(t=t.cloneNode(!0)),n&&Jr(Qr(e.childNodes),(function(e){t.appendChild(e)})),e.parentNode.replaceChild(t,e)}))},L=function(){return t.createRange()},F=function(n,i,r,s){if(Me.isArray(n)){for(var a=n.length;a--;)n[a]=F(n[a],i,r,s);return n}return!e.collect||n!==t&&n!==o||u.push([n,i,r,s]),d.bind(n,i,r,s||W)},H=function(e,n,i){var r;if(Me.isArray(e)){for(r=e.length;r--;)e[r]=H(e[r],n,i);return e}if(u&&(e===t||e===o))for(r=u.length;r--;){var s=u[r];e!==s[0]||n&&n!==s[1]||i&&i!==s[2]||d.unbind(s[0],s[1],s[2])}return d.unbind(e,n,i)},j=function(t){if(t&&kr.isElement(t)){var e=t.getAttribute("data-mce-contenteditable");return e&&"inherit"!==e?e:"inherit"!==t.contentEditable?t.contentEditable:null}return null},W={doc:t,settings:e,win:o,files:s,stdMode:!0,boxModel:!0,styleSheetLoader:l,boundEvents:u,styles:f,schema:c,events:d,isBlock:function(t){if("string"==typeof t)return!!h[t];if(t){var e=t.nodeType;if(e)return!(1!==e||!h[t.nodeName])}return!1},$:p,$$:g,root:null,clone:function(e,n){if(!Zr||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var i=t.createElement(e.nodeName);return Jr(b(e),(function(t){x(i,t.nodeName,v(e,t.nodeName))})),i}return null},getRoot:w,getViewPort:function(t){var e=t||o,n=e.document,i=n.documentElement;return{x:e.pageXOffset||i.scrollLeft,y:e.pageYOffset||i.scrollTop,w:e.innerWidth||i.clientWidth,h:e.innerHeight||i.clientHeight}},getRect:function(t){var e,n;return t=m(t),e=_(t),n=k(t),{x:e.x,y:e.y,w:n.w,h:n.h}},getSize:k,getParent:function(t,e,n){var i=T(t,e,n,!1);return i&&i.length>0?i[0]:null},getParents:T,get:m,getNext:function(t,e){return E(t,e,"nextSibling")},getPrev:function(t,e){return E(t,e,"previousSibling")},select:function(n,i){return fe(n,m(i)||e.root_element||t,[])},is:S,add:P,create:O,createHTML:function(t,e,n){var i,r="";for(i in r+="<"+t,e)e.hasOwnProperty(i)&&null!==e[i]&&void 0!==e[i]&&(r+=" "+i+'="'+I(e[i])+'"');return void 0!==n?r+">"+n+"</"+t+">":r+" />"},createFragment:function(e){var n,i=t.createElement("div"),r=t.createDocumentFragment();for(e&&(i.innerHTML=e);n=i.firstChild;)r.appendChild(n);return r},remove:M,setStyle:function(t,n,i){var r=g(t).css(n,i);e.update_styles&&no(f,r)},getStyle:C,setStyles:function(t,n){var i=g(t).css(n);e.update_styles&&no(f,i)},removeAllAttribs:function(t){return D(t,(function(t){var e,n=t.attributes;for(e=n.length-1;e>=0;e--)t.removeAttributeNode(n.item(e))}))},setAttrib:x,setAttribs:N,getAttrib:v,getPos:_,parseStyle:function(t){return f.parse(t)},serializeStyle:function(t,e){return f.serialize(t,e)},addStyle:function(e){var n,i;if(W!==ro.DOM&&t===document){if(r[e])return;r[e]=!0}(i=t.getElementById("mceDefaultStyles"))||((i=t.createElement("style")).id="mceDefaultStyles",i.type="text/css",(n=t.getElementsByTagName("head")[0]).firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i)),i.styleSheet?i.styleSheet.cssText+=e:i.appendChild(t.createTextNode(e))},loadCSS:function(e){var n;W===ro.DOM||t!==document?(e||(e=""),n=t.getElementsByTagName("head")[0],Jr(e.split(","),(function(t){var e;t=Me._addCacheSuffix(t),s[t]||(s[t]=!0,e=O("link",{rel:"stylesheet",href:t}),n.appendChild(e))}))):ro.DOM.loadCSS(e)},addClass:function(t,e){g(t).addClass(e)},removeClass:function(t,e){B(t,e,!1)},hasClass:function(t,e){return g(t).hasClass(e)},toggleClass:B,show:function(t){g(t).show()},hide:function(t){g(t).hide()},isHidden:function(t){return"none"===g(t).css("display")},uniqueId:function(t){return(t||"mce_")+a++},setHTML:A,getOuterHTML:function(t){var e="string"==typeof t?m(t):t;return kr.isElement(e)?e.outerHTML:Ze("<div></div>").append(Ze(e).clone()).html()},setOuterHTML:function(t,e){g(t).each((function(){try{if("outerHTML"in this)return void(this.outerHTML=e)}catch(t){}M(Ze(this).html(e),!0)}))},decode:Fr.decode,encode:I,insertAfter:function(t,e){var n=m(e);return D(t,(function(t){var e,i;return e=n.parentNode,(i=n.nextSibling)?e.insertBefore(t,i):e.appendChild(t),t}))},replace:R,rename:function(t,e){var n;return t.nodeName!==e.toUpperCase()&&(n=O(e),Jr(b(t),(function(e){x(n,e.nodeName,v(t,e.nodeName))})),R(n,t,!0)),n||t},findCommonAncestor:function(t,e){for(var n,i=t;i;){for(n=e;n&&i!==n;)n=n.parentNode;if(i===n)break;i=i.parentNode}return!i&&t.ownerDocument?t.ownerDocument.documentElement:i},toHex:function(t){return f.toHex(Me.trim(t))},run:D,getAttribs:b,isEmpty:function(t,e){var n,i,r,o,s,a,l=0;if(t=t.firstChild){s=new Qi(t,t.parentNode),e=e||(c?c.getNonEmptyElements():null),o=c?c.getWhiteSpaceElements():{};do{if(r=t.nodeType,kr.isElement(t)){var u=t.getAttribute("data-mce-bogus");if(u){t=s.next("all"===u);continue}if(a=t.nodeName.toLowerCase(),e&&e[a]){if("br"===a){l++,t=s.next();continue}return!1}for(n=(i=b(t)).length;n--;)if("name"===(a=i[n].nodeName)||"data-mce-bookmark"===a)return!1}if(8===r)return!1;if(3===r&&!eo.test(t.nodeValue))return!1;if(3===r&&t.parentNode&&o[t.parentNode.nodeName]&&eo.test(t.nodeValue))return!1;t=s.next()}while(t)}return l<=1},createRng:L,nodeIndex:io,split:function(t,e,n){var i,r,o,s=L();if(t&&e)return s.setStart(t.parentNode,io(t)),s.setEnd(e.parentNode,io(e)),i=s.extractContents(),(s=L()).setStart(e.parentNode,io(e)+1),s.setEnd(t.parentNode,io(t)+1),r=s.extractContents(),(o=t.parentNode).insertBefore(Er.trimNode(W,i),t),n?o.insertBefore(n,t):o.insertBefore(e,t),o.insertBefore(Er.trimNode(W,r),t),M(t),n||e},bind:F,unbind:H,fire:function(t,e,n){return d.fire(t,e,n)},getContentEditable:j,getContentEditableParent:function(t){for(var e=w(),n=null;t&&t!==e&&null===(n=j(t));t=t.parentNode);return n},destroy:function(){if(u)for(var t=u.length;t--;){var e=u[t];d.unbind(e[0],e[1],e[2])}fe.setDocument&&fe.setDocument()},isChildOf:function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},dumpRng:function(t){return"startContainer: "+t.startContainer.nodeName+", startOffset: "+t.startOffset+", endContainer: "+t.endContainer.nodeName+", endOffset: "+t.endOffset}};return n=function(t,e,n){var i={},r=e.keep_values,o={set:function(t,i,r){e.url_converter&&(i=e.url_converter.call(e.url_converter_scope||n(),i,r,t[0])),t.attr("data-mce-"+r,i).attr(r,i)},get:function(t,e){return t.attr("data-mce-"+e)||t.attr(e)}};return i={style:{set:function(t,e){null===e||"object"!=typeof e?(r&&t.attr("data-mce-style",e),t.attr("style",e)):t.css(e)},get:function(e){var n=e.attr("data-mce-style")||e.attr("style");return n=t.serialize(t.parse(n),e[0].nodeName)}}},r&&(i.href=i.src=o),i}(f,e,(function(){return W})),W}!function(t){t.DOM=t(document),t.nodeIndex=io}(ro||(ro={}));var oo=ro,so=oo.DOM,ao=Me.each,lo=Me.grep,uo=function(t){return"function"==typeof t},co=function(){var t={},e=[],n={},i=[],r=0;this.isDone=function(e){return 2===t[e]},this.markDone=function(e){t[e]=2},this.add=this.load=function(i,r,o,s){void 0===t[i]&&(e.push(i),t[i]=0),r&&(n[i]||(n[i]=[]),n[i].push({success:r,failure:s,scope:o||this}))},this.remove=function(e){delete t[e],delete n[e]},this.loadQueue=function(t,n,i){this.loadScripts(e,t,n,i)},this.loadScripts=function(e,o,s,a){var l,u=[],c=function(t,e){ao(n[e],(function(e){uo(e[t])&&e[t].call(e.scope)})),n[e]=void 0};i.push({success:o,failure:a,scope:s||this}),(l=function(){var n=lo(e);if(e.length=0,ao(n,(function(e){2!==t[e]?3!==t[e]?1!==t[e]&&(t[e]=1,r++,function(t,e,n){var i,r,o=so,s=function(){o.remove(r),i&&(i.onreadystatechange=i.onload=i=null),e()};r=o.uniqueId(),(i=document.createElement("script")).id=r,i.type="text/javascript",i.src=Me._addCacheSuffix(t),"onreadystatechange"in i?i.onreadystatechange=function(){/loaded|complete/.test(i.readyState)&&s()}:i.onload=s,i.onerror=function(){uo(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)},(document.getElementsByTagName("head")[0]||document.body).appendChild(i)}(e,(function(){t[e]=2,r--,c("success",e),l()}),(function(){t[e]=3,r--,u.push(e),c("failure",e),l()}))):c("failure",e):c("success",e)})),!r){var o=i.slice(0);i.length=0,ao(o,(function(t){0===u.length?uo(t.success)&&t.success.call(t.scope):uo(t.failure)&&t.failure.call(t.scope,u)}))}})()}};co.ScriptLoader=new co;var fo=Me.each;function ho(){var t=this,e=[],n={},i={},r=[],o=function(t){var e;return i[t]&&(e=i[t].dependencies),e||[]},s=function(t,e){return"object"==typeof e?e:"string"==typeof t?{prefix:"",resource:e,suffix:""}:{prefix:t.prefix,resource:e,suffix:t.suffix}},a=function(t,e,n){var i=o(name);fo(i,(function(e){var n=s(t,e);l(n.resource,n,void 0,void 0)})),e&&(n?e.call(n):e.call(co))},l=function(t,e,r,o,s){if(!n[t]){var l="string"==typeof e?e:e.prefix+e.resource+e.suffix;0!==l.indexOf("/")&&-1===l.indexOf("://")&&(l=ho.baseURL+"/"+l),n[t]=l.substring(0,l.lastIndexOf("/")),i[t]?a(e,r,o):co.ScriptLoader.add(l,(function(){return a(e,r,o)}),o,s)}};return{items:e,urls:n,lookup:i,_listeners:r,get:function(t){if(i[t])return i[t].instance},dependencies:o,requireLangPack:function(t,e){var i=ho.language;if(i&&!1!==ho.languageLoad){if(e)if(-1!==(e=","+e+",").indexOf(","+i.substr(0,2)+","))i=i.substr(0,2);else if(-1===e.indexOf(","+i+","))return;co.ScriptLoader.add(n[t]+"/langs/"+i+".js")}},add:function(t,n,o){e.push(n),i[t]={instance:n,dependencies:o};var s=z.partition(r,(function(e){return e.name===t}));return r=s.fail,fo(s.pass,(function(t){t.callback()})),n},remove:function(t){delete n[t],delete i[t]},createUrl:s,addComponents:function(e,n){var i=t.urls[e];fo(n,(function(t){co.ScriptLoader.add(i+"/"+t)}))},load:l,waitFor:function(t,e){i.hasOwnProperty(t)?e():r.push({name:t,callback:e})}}}!function(t){t.PluginManager=t(),t.ThemeManager=t()}(ho||(ho={}));var po=function(t){return"\ufeff"===t},mo="\ufeff",go=function(t){return t.replace(new RegExp("\ufeff","g"),"")},vo=kr.isElement,yo=kr.isText,bo=function(t){return yo(t)&&(t=t.parentNode),vo(t)&&t.hasAttribute("data-mce-caret")},xo=function(t){return yo(t)&&po(t.data)},wo=function(t){return bo(t)||xo(t)},_o=function(t){return t.firstChild!==t.lastChild||!kr.isBr(t.firstChild)},Co=function(t){var e=t.container();return t&&kr.isText(e)&&e.data.charAt(t.offset())===mo},ko=function(t){var e=t.container();return t&&kr.isText(e)&&e.data.charAt(t.offset()-1)===mo},So=function(t,e,n){var i,r,o;return(i=e.ownerDocument.createElement(t)).setAttribute("data-mce-caret",n?"before":"after"),i.setAttribute("data-mce-bogus","all"),i.appendChild(((o=document.createElement("br")).setAttribute("data-mce-bogus","1"),o)),r=e.parentNode,n?r.insertBefore(i,e):e.nextSibling?r.insertBefore(i,e.nextSibling):r.appendChild(i),i},To=function(t){return yo(t)&&t.data[0]===mo},Eo=function(t){return yo(t)&&t.data[t.data.length-1]===mo},Do=function(t){return t&&t.hasAttribute("data-mce-caret")?(e=t.getElementsByTagName("br"),n=e[e.length-1],kr.isBogus(n)&&n.parentNode.removeChild(n),t.removeAttribute("data-mce-caret"),t.removeAttribute("data-mce-bogus"),t.removeAttribute("style"),t.removeAttribute("_moz_abspos"),t):null;var e,n},No=kr.isContentEditableTrue,Ao=kr.isContentEditableFalse,Po=kr.isBr,Oo=kr.isText,Io=kr.matchNodeNames("script style textarea"),Mo=kr.matchNodeNames("img input textarea hr iframe video audio object"),Bo=kr.matchNodeNames("table"),Ro=wo,Lo=function(t){return!Ro(t)&&(Oo(t)?!Io(t.parentNode):Mo(t)||Po(t)||Bo(t)||Fo(t))},Fo=function(t){return!1===function(t){return kr.isElement(t)&&"true"===t.getAttribute("unselectable")}(t)&&Ao(t)},Ho=function(t,e){return Lo(t)&&function(t,e){for(t=t.parentNode;t&&t!==e;t=t.parentNode){if(Fo(t))return!1;if(No(t))return!0}return!0}(t,e)},zo=Math.round,jo=function(t){return t?{left:zo(t.left),top:zo(t.top),bottom:zo(t.bottom),right:zo(t.right),width:zo(t.width),height:zo(t.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Wo=function(t,e){return t=jo(t),e?t.right=t.left:(t.left=t.left+t.width,t.right=t.left),t.width=0,t},$o=function(t,e,n){return t>=0&&t<=Math.min(e.height,n.height)/2},qo=function(t,e){return t.bottom-t.height/2<e.top||!(t.top>e.bottom)&&$o(e.top-t.bottom,t,e)},Uo=function(t,e){return t.top>e.bottom||!(t.bottom<e.top)&&$o(e.bottom-t.top,t,e)},Vo=function(t,e){return e.left>t.left&&e.right<t.right?0:e.left<t.left?e.left-t.left:e.right-t.right},Yo=function(t,e){return e.top>t.top&&e.bottom<t.bottom?0:e.top<t.top?e.top-t.top:e.bottom-t.bottom},Xo=function(t){var e=t.startContainer,n=t.startOffset;return e.hasChildNodes()&&t.endOffset===n+1?e.childNodes[n]:null},Go=function(t,e){return 1===t.nodeType&&t.hasChildNodes()&&(e>=t.childNodes.length&&(e=t.childNodes.length-1),t=t.childNodes[e]),t},Ko=new RegExp("[Ì-Í¯Ò-ÒÒ-ÒÖ-Ö½Ö¿×-××-××Ø-ØÙ-ÙÙ°Û-ÛÛ-Û¤Û§-Û¨Ûª-Û­ÜÜ°-ÝÞ¦-Þ°ß«-ß³à -à à -à £à ¥-à §à ©-à ­à¡-à¡à££-à¤à¤ºà¤¼à¥-à¥à¥à¥-à¥à¥¢-à¥£à¦à¦¼à¦¾à§-à§à§à§à§¢-à§£à¨-à¨à¨¼à©-à©à©-à©à©-à©à©à©°-à©±à©µàª-àªàª¼à«-à«à«-à«à«à«¢-à«£à¬à¬¼à¬¾à¬¿à­-à­à­à­à­à­¢-à­£à®à®¾à¯à¯à¯à°à°¾-à±à±-à±à±-à±à±-à±à±¢-à±£à²à²¼à²¿à³à³à³-à³à³-à³à³¢-à³£à´à´¾àµ-àµàµàµàµ¢-àµ£à·à·à·-à·à·à·à¸±à¸´-à¸ºà¹-à¹àº±àº´-àº¹àº»-àº¼à»-à»à¼-à¼à¼µà¼·à¼¹à½±-à½¾à¾-à¾à¾-à¾à¾-à¾à¾-à¾¼à¿á­-á°á²-á·á¹-áºá½-á¾á-áá-á á±-á´áá-áááá-áá-áá²-á´á-áá²-á³á´-áµá·-á½áá-ááá -á á¢©á¤ -á¤¢á¤§-á¤¨á¤²á¤¹-á¤»á¨-á¨á¨á©á©-á©á© á©¢á©¥-á©¬á©³-á©¼á©¿áª°-áª½áª¾á¬-á¬á¬´á¬¶-á¬ºá¬¼á­á­«-á­³á®-á®á®¢-á®¥á®¨-á®©á®«-á®­á¯¦á¯¨-á¯©á¯­á¯¯-á¯±á°¬-á°³á°¶-á°·á³-á³á³-á³ á³¢-á³¨á³­á³´á³¸-á³¹á·-á·µá·¼-á·¿â-ââ-ââ-â â¡â¢-â¤â¥-â°â³¯-â³±âµ¿â· -â·¿ãª-ã­ã®-ã¯ã-ãê¯ê°-ê²ê´-ê½ê-êê°-ê±ê ê ê ê ¥-ê ¦ê£ê£ -ê£±ê¤¦-ê¤­ê¥-ê¥ê¦-ê¦ê¦³ê¦¶-ê¦¹ê¦¼ê§¥ê¨©-ê¨®ê¨±-ê¨²ê¨µ-ê¨¶ê©ê©ê©¼êª°êª²-êª´êª·-êª¸êª¾-êª¿ê«ê«¬-ê«­ê«¶ê¯¥ê¯¨ê¯­ï¬ï¸-ï¸ï¸ -ï¸¯ï¾-ï¾]"),Jo=function(t){return"string"==typeof t&&t.charCodeAt(0)>=768&&Ko.test(t)},Qo=[].slice,Zo=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Qo.call(arguments);return i.length-1>=t.length?t.apply(this,i.slice(1)):function(){var t=i.concat([].slice.call(arguments));return Zo.apply(this,t)}},ts={constant:function(t){return function(){return t}},negate:function(t){return function(e){return!t(e)}},and:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Qo.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0}},or:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Qo.call(arguments);return function(t){for(var e=0;e<n.length;e++)if(n[e](t))return!0;return!1}},curry:Zo,compose:function(t,e){return function(n){return t(e(n))}},noop:function(){}},es=function(t,e){for(var n=[],i=0;i<t.length;i++){var r=t[i];if(!r.isSome())return k.none();n.push(r.getOrDie())}return k.some(e.apply(null,n))},ns=kr.isElement,is=Lo,rs=kr.matchStyleValues("display","block table"),os=kr.matchStyleValues("float","left right"),ss=ts.and(ns,is,ts.negate(os)),as=ts.negate(kr.matchStyleValues("white-space","pre pre-line pre-wrap")),ls=kr.isText,us=kr.isBr,cs=oo.nodeIndex,fs=Go,ds=function(t){return"createRange"in t?t.createRange():oo.DOM.createRng()},hs=function(t){return t&&/[\r\n\t ]/.test(t)},ps=function(t){return!!t.setStart&&!!t.setEnd},ms=function(t){var e,n=t.startContainer,i=t.startOffset;return!!(hs(t.toString())&&as(n.parentNode)&&kr.isText(n)&&(e=n.data,hs(e[i-1])||hs(e[i+1])))},gs=function(t){return 0===t.left&&0===t.right&&0===t.top&&0===t.bottom},vs=function(t){var e,n;return e=(n=t.getClientRects()).length>0?jo(n[0]):jo(t.getBoundingClientRect()),!ps(t)&&us(t)&&gs(e)?function(t){var e,n=t.ownerDocument,i=ds(n),r=n.createTextNode("Â "),o=t.parentNode;return o.insertBefore(r,t),i.setStart(r,0),i.setEnd(r,1),e=jo(i.getBoundingClientRect()),o.removeChild(r),e}(t):gs(e)&&ps(t)?function(t){var e=t.startContainer,n=t.endContainer,i=t.startOffset,r=t.endOffset;if(e===n&&kr.isText(n)&&0===i&&1===r){var o=t.cloneRange();return o.setEndAfter(n),vs(o)}return null}(t):e},ys=function(t,e){var n=Wo(t,e);return n.width=1,n.right=n.left+1,n};function bs(t,e,n){var i=function(){return n||(n=function(t){var e,n,i=[],r=function(t){var e,n;0!==t.height&&(i.length>0&&(e=t,n=i[i.length-1],e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right)||i.push(t))},o=function(t,e){var n=ds(t.ownerDocument);if(e<t.data.length){if(Jo(t.data[e]))return i;if(Jo(t.data[e-1])&&(n.setStart(t,e),n.setEnd(t,e+1),!ms(n)))return r(ys(vs(n),!1)),i}e>0&&(n.setStart(t,e-1),n.setEnd(t,e),ms(n)||r(ys(vs(n),!1))),e<t.data.length&&(n.setStart(t,e),n.setEnd(t,e+1),ms(n)||r(ys(vs(n),!0)))};if(ls(t.container()))return o(t.container(),t.offset()),i;if(ns(t.container()))if(t.isAtEnd())n=fs(t.container(),t.offset()),ls(n)&&o(n,n.data.length),ss(n)&&!us(n)&&r(ys(vs(n),!1));else{if(n=fs(t.container(),t.offset()),ls(n)&&o(n,0),ss(n)&&t.isAtEnd())return r(ys(vs(n),!1)),i;e=fs(t.container(),t.offset()-1),ss(e)&&!us(e)&&(rs(e)||rs(n)||!ss(n))&&r(ys(vs(e),!1)),ss(n)&&r(ys(vs(n),!0))}return i}(bs(t,e))),n};return{container:ts.constant(t),offset:ts.constant(e),toRange:function(){var n;return(n=ds(t.ownerDocument)).setStart(t,e),n.setEnd(t,e),n},getClientRects:i,isVisible:function(){return i().length>0},isAtStart:function(){return ls(t),0===e},isAtEnd:function(){return ls(t)?e>=t.data.length:e>=t.childNodes.length},isEqual:function(n){return n&&t===n.container()&&e===n.offset()},getNode:function(n){return fs(t,n?e-1:e)}}}!function(t){t.fromRangeStart=function(e){return t(e.startContainer,e.startOffset)},t.fromRangeEnd=function(e){return t(e.endContainer,e.endOffset)},t.after=function(e){return t(e.parentNode,cs(e)+1)},t.before=function(e){return t(e.parentNode,cs(e))},t.isAbove=function(t,e){return es([z.head(e.getClientRects()),z.last(t.getClientRects())],qo).getOr(!1)},t.isBelow=function(t,e){return es([z.last(e.getClientRects()),z.head(t.getClientRects())],Uo).getOr(!1)},t.isAtStart=function(t){return!!t&&t.isAtStart()},t.isAtEnd=function(t){return!!t&&t.isAtEnd()},t.isTextPosition=function(t){return!!t&&kr.isText(t.container())},t.isElementPosition=function(e){return!1===t.isTextPosition(e)}}(bs||(bs={}));var xs,ws=bs,_s=kr.isElement,Cs=kr.isText,ks=function(t){var e=t.parentNode;e&&e.removeChild(t)},Ss=function(t,e){0===e.length?ks(t):t.nodeValue=e},Ts=function(t){var e=go(t);return{count:t.length-e.length,text:e}},Es=function(t,e){return As(t),e},Ds=function(t,e){return Cs(t)&&e.container()===t?function(t,e){var n=Ts(t.data.substr(0,e.offset())),i=Ts(t.data.substr(e.offset())),r=n.text+i.text;return r.length>0?(Ss(t,r),ws(t,e.offset()-n.count)):e}(t,e):Es(t,e)},Ns=function(t,e){return e.container()===t.parentNode?function(t,e){var n=e.container(),i=z.indexOf(z.from(n.childNodes),t).map((function(t){return t<e.offset()?ws(n,e.offset()-1):e})).getOr(e);return As(t),i}(t,e):Es(t,e)},As=function(t){if(_s(t)&&wo(t)&&(_o(t)?t.removeAttribute("data-mce-caret"):ks(t)),Cs(t)){var e=go(function(t){try{return t.nodeValue}catch(t){return""}}(t));Ss(t,e)}},Ps={removeAndReposition:function(t,e){return ws.isTextPosition(e)?Ds(t,e):Ns(t,e)},remove:As},Os=function(t){return ws.isTextPosition(t)?0===t.offset():Lo(t.getNode())},Is=function(t){if(ws.isTextPosition(t)){var e=t.container();return t.offset()===e.data.length}return Lo(t.getNode(!0))},Ms=function(t,e){return!ws.isTextPosition(t)&&!ws.isTextPosition(e)&&t.getNode()===e.getNode(!0)},Bs=function(t,e,n){return t?!Ms(e,n)&&(i=e,!(!ws.isTextPosition(i)&&kr.isBr(i.getNode())))&&Is(e)&&Os(n):!Ms(n,e)&&Os(e)&&Is(n);var i},Rs=function(t,e,n){var i=Ol(e);return k.from(t?i.next(n):i.prev(n))},Ls=function(t,e){var n=t?e.firstChild:e.lastChild;return kr.isText(n)?k.some(ws(n,t?0:n.data.length)):n?Lo(n)?k.some(t?ws.before(n):function(t){return kr.isBr(t)?ws.before(t):ws.after(t)}(n)):function(t,e,n){var i=t?ws.before(n):ws.after(n);return Rs(t,e,i)}(t,e,n):k.none()},Fs={fromPosition:Rs,nextPosition:y.curry(Rs,!0),prevPosition:y.curry(Rs,!1),navigate:function(t,e,n){return Rs(t,e,n).bind((function(i){return sl(n,i,e)&&Bs(t,n,i)?Rs(t,e,i):k.some(i)}))},positionIn:Ls,firstPositionIn:y.curry(Ls,!0),lastPositionIn:y.curry(Ls,!1)},Hs=kr.isContentEditableTrue,zs=kr.isContentEditableFalse,js=function(t,e,n,i,r){return e._selectionOverrides.showCaret(t,n,i,r)},Ws=function(t,e){return t.fire("BeforeObjectSelected",{target:e}).isDefaultPrevented()?null:function(t){var e=t.ownerDocument.createRange();return e.selectNode(t),e}(e)},$s=function(t,e,n){var i=hl(1,t.getBody(),e),r=ws.fromRangeStart(i),o=r.getNode();if(zs(o))return js(1,t,o,!r.isAtEnd(),!1);var s=r.getNode(!0);if(zs(s))return js(1,t,s,!1,!1);var a=t.dom.getParent(r.getNode(),(function(t){return zs(t)||Hs(t)}));return zs(a)?js(1,t,a,!1,n):null},qs=function(t,e,n){if(!e||!e.collapsed)return e;var i=$s(t,e,n);return i||e};!function(t){t[t.Br=0]="Br",t[t.Block=1]="Block",t[t.Wrap=2]="Wrap",t[t.Eol=3]="Eol"}(xs||(xs={}));var Us,Vs=function(t,e){return t===Us.Backwards?e.reverse():e},Ys=function(t,e,n){return t===Us.Forwards?e.next(n):e.prev(n)},Xs=function(t,e,n,i){return kr.isBr(i.getNode(e===Us.Forwards))?xs.Br:!1===sl(n,i)?xs.Block:xs.Wrap},Gs=function(t,e,n,i){for(var r,o=Ol(n),s=i,a=[];s&&(r=Ys(e,o,s));){if(kr.isBr(r.getNode(!1)))return e===Us.Forwards?{positions:Vs(e,a).concat([r]),breakType:xs.Br,breakAt:k.some(r)}:{positions:Vs(e,a),breakType:xs.Br,breakAt:k.some(r)};if(r.isVisible()){if(t(s,r)){var l=Xs(0,e,s,r);return{positions:Vs(e,a),breakType:l,breakAt:k.some(r)}}a.push(r),s=r}else s=r}return{positions:Vs(e,a),breakType:xs.Eol,breakAt:k.none()}},Ks=function(t,e,n,i){return e(n,i).breakAt.map((function(i){var r=e(n,i).positions;return t===Us.Backwards?r.concat(i):[i].concat(r)})).getOr([])},Js=function(t,e){return z.foldl(t,(function(t,n){return t.fold((function(){return k.some(n)}),(function(i){return es([z.head(i.getClientRects()),z.head(n.getClientRects())],(function(t,r){var o=Math.abs(e-t.left);return Math.abs(e-r.left)<=o?n:i})).or(t)}))}),k.none())},Qs=function(t,e){return z.head(e.getClientRects()).bind((function(e){return Js(t,e.left)}))},Zs=y.curry(Gs,bs.isAbove,-1),ta=y.curry(Gs,bs.isBelow,1),ea=y.curry(Ks,-1,Zs),na=y.curry(Ks,1,ta),ia=function(t,e){return Ti.all(e,t)},ra=function(t,e,n,i,r){var o=ia(Mn.fromDom(n),"td,th").map((function(t){return t.dom()}));return function(t,e,n){return z.foldl(t,(function(t,i){return t.fold((function(){return k.some(i)}),(function(t){var r=Math.sqrt(Math.abs(t.x-e)+Math.abs(t.y-n)),o=Math.sqrt(Math.abs(i.x-e)+Math.abs(i.y-n));return k.some(o<r?i:t)}))}),k.none())}(z.filter(function(t,e){return z.bind(e,(function(e){var n=function(t,e){return{left:t.left-e,top:t.top-e,right:t.right+2*e,bottom:t.bottom+2*e,width:t.width+e,height:t.height+e}}(e.getBoundingClientRect(),-1);return[{x:n.left,y:t(n),cell:e},{x:n.right,y:t(n),cell:e}]}))}(t,o),(function(t){return e(t,r)})),i,r).map((function(t){return t.cell}))},oa=y.curry(ra,(function(t){return t.bottom}),(function(t,e){return t.y<e})),sa=y.curry(ra,(function(t){return t.top}),(function(t,e){return t.y>e})),aa=function(t,e){return z.head(e.getClientRects()).bind((function(e){return oa(t,e.left,e.top)})).bind((function(t){return Qs((n=t,Fs.lastPositionIn(n).map((function(t){return Zs(n,t).positions.concat(t)})).getOr([])),e);var n}))},la=function(t,e){return z.last(e.getClientRects()).bind((function(e){return sa(t,e.left,e.top)})).bind((function(t){return Qs((n=t,Fs.firstPositionIn(n).map((function(t){return[t].concat(ta(n,t).positions)})).getOr([])),e);var n}))},ua=function(t){for(var e=0,n=0,i=t;i&&i.nodeType;)e+=i.offsetLeft||0,n+=i.offsetTop||0,i=i.offsetParent;return{x:e,y:n}},ca=function(t,e,n){var i,r,o,s,a=t.dom,l=a.getRoot(),u=0;if(!function(t,e,n){var i={elm:e,alignToTop:n};return t.fire("scrollIntoView",i),i.isDefaultPrevented()}(t,e,n)&&kr.isElement(e)){if(!1===n&&(u=e.offsetHeight),"BODY"!==l.nodeName){var c=t.selection.getScrollContainer();if(c)return i=ua(e).y-ua(c).y+u,s=c.clientHeight,void((i<(o=c.scrollTop)||i+25>o+s)&&(c.scrollTop=i<o?i:i-s+25))}r=a.getViewPort(t.getWin()),i=a.getPos(e).y+u,o=r.y,s=r.h,(i<r.y||i+25>o+s)&&t.getWin().scrollTo(0,i<o?i:i-s+25)}},fa=function(t,e){z.head(bs.fromRangeStart(e).getClientRects()).each((function(e){var n,i,r=function(t){if(t.inline)return t.getBody().getBoundingClientRect();var e=t.getWin();return{left:0,right:e.innerWidth,top:0,bottom:e.innerHeight,width:e.innerWidth,height:e.innerHeight}}(t),o={x:Vo(n=r,i=e),y:Yo(n,i)};!function(t,e,n){t.inline?(t.getBody().scrollLeft+=e,t.getBody().scrollTop+=n):t.getWin().scrollBy(e,n)}(t,0!==o.x?o.x>0?o.x+4:o.x-4:0,0!==o.y?o.y>0?o.y+4:o.y-4:0)}))},da=function(t,e,n){var i=t.getParam(e,n);if(-1!==i.indexOf("=")){var r=t.getParam(e,"","hash");return r.hasOwnProperty(t.id)?r[t.id]:n}return i},ha=function(t){return t.getParam("iframe_attrs",{})},pa=function(t){return t.getParam("doctype","<!DOCTYPE html>")},ma=function(t){return t.getParam("document_base_url","")},ga=function(t){return da(t,"body_id","tinymce")},va=function(t){return da(t,"body_class","")},ya=function(t){return t.getParam("content_security_policy","")},ba=function(t){return t.getParam("br_in_pre",!0)},xa=function(t){if(t.getParam("force_p_newlines",!1))return"p";var e=t.getParam("forced_root_block","p");return!1===e?"":e},wa=function(t){return t.getParam("forced_root_block_attrs",{})},_a=function(t){return t.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},Ca=function(t){return t.getParam("no_newline_selector","")},ka=function(t){return t.getParam("keep_styles",!0)},Sa=function(t){return t.getParam("end_container_on_empty_block",!1)},Ta=function(t){return Me.explode(t.getParam("font_size_style_values",""))},Ea=function(t){return Me.explode(t.getParam("font_size_classes",""))},Da=function(t,e){Li.parent(t).each((function(n){n.dom().insertBefore(e.dom(),t.dom())}))},Na=function(t,e){t.dom().appendChild(e.dom())},Aa={before:Da,after:function(t,e){Li.nextSibling(t).fold((function(){Li.parent(t).each((function(t){Na(t,e)}))}),(function(t){Da(t,e)}))},prepend:function(t,e){Li.firstChild(t).fold((function(){Na(t,e)}),(function(n){t.dom().insertBefore(e.dom(),n.dom())}))},append:Na,appendAt:function(t,e,n){Li.child(t,n).fold((function(){Na(t,e)}),(function(t){Da(t,e)}))},wrap:function(t,e){Da(t,e),Na(e,t)}},Pa=On.detect().browser,Oa=function(){return Pa.isIE()||Pa.isEdge()||Pa.isFirefox()},Ia=function(t,e){t.selection.setRng(e),fa(t,e)},Ma=function(t,e,n){var i=t(e,n);return i.breakType===xs.Wrap&&0===i.positions.length?i.breakAt.map((function(n){return t(e,n).breakAt.isNone()})).getOr(!0):i.breakAt.isNone()},Ba=ts.curry(Ma,Zs),Ra=ts.curry(Ma,ta),La=function(t,e,n,i){var r=t.selection.getRng(),o=e?1:-1;if(Oa()&&function(t,e,n){var i=ws.fromRangeStart(e);return Fs.positionIn(!t,n).map((function(t){return t.isEqual(i)})).getOr(!1)}(e,r,n)){var s=js(o,t,n,!e,!0);return Ia(t,s),!0}return!1},Fa=function(t,e){var n=e.getNode(t);return kr.isElement(n)&&"TABLE"===n.nodeName?k.some(n):k.none()},Ha=function(t,e,n){var i=Fa(!!e,n),r=!1===e;i.fold((function(){return Ia(t,n.toRange())}),(function(i){return Fs.positionIn(r,t.getBody()).filter((function(t){return t.isEqual(n)})).fold((function(){return Ia(t,n.toRange())}),(function(r){return function(t,e,n,i){var r=xa(e);r?e.undoManager.transact((function(){var i=Mn.fromTag(r);ni.setAll(i,wa(e)),Aa.append(i,Mn.fromTag("br")),t?Aa.after(Mn.fromDom(n),i):Aa.before(Mn.fromDom(n),i);var o=e.dom.createRng();o.setStart(i.dom(),0),o.setEnd(i.dom(),0),Ia(e,o)})):Ia(e,i.toRange())}(e,t,i,n)}))}))},za=function(t,e,n,i){var r=t.selection.getRng(),o=ws.fromRangeStart(r),s=t.getBody();if(!e&&Ba(i,o)){var a=function(t,e,n){return aa(e,n).orThunk((function(){return z.head(n.getClientRects()).bind((function(n){return Js(ea(t,ws.before(e)),n.left)}))})).getOr(ws.before(e))}(s,n,o);return Ha(t,e,a),!0}return!(!e||!Ra(i,o))&&(a=function(t,e,n){return la(e,n).orThunk((function(){return z.head(n.getClientRects()).bind((function(n){return Js(na(t,ws.after(e)),n.left)}))})).getOr(ws.after(e))}(s,n,o),Ha(t,e,a),!0)},ja=function(t,e){return function(){return k.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return k.from(t.dom.getParent(n,"table")).map((function(n){return La(t,e,n)}))})).getOr(!1)}},Wa=function(t,e){return function(){return k.from(t.dom.getParent(t.selection.getNode(),"td,th")).bind((function(n){return k.from(t.dom.getParent(n,"table")).map((function(i){return za(t,e,i,n)}))})).getOr(!1)}},$a=function(t){var e=t,n=function(){return e};return{get:n,set:function(t){e=t},clone:function(){return $a(n())}}},qa=kr.isContentEditableFalse,Ua=function(t,e,n){var i,r,o,s,a,l=Wo(e.getBoundingClientRect(),n);return"BODY"===t.tagName?(i=t.ownerDocument.documentElement,r=t.scrollLeft||i.scrollLeft,o=t.scrollTop||i.scrollTop):(a=t.getBoundingClientRect(),r=t.scrollLeft-a.left,o=t.scrollTop-a.top),l.left+=r,l.right+=r,l.top+=o,l.bottom+=o,l.width=1,(s=e.offsetWidth-e.clientWidth)>0&&(n&&(s*=-1),l.left+=s,l.right+=s),l},Va=function(t,e,n){var i,r,o=$a(k.none()),s=function(){!function(t){var e,n,i,r,o;for(e=Ze("*[contentEditable=false]",t),r=0;r<e.length;r++)i=(n=e[r]).previousSibling,Eo(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(o.length-1,1)),i=n.nextSibling,To(i)&&(1===(o=i.data).length?i.parentNode.removeChild(i):i.deleteData(0,1))}(t),r&&(Ps.remove(r),r=null),o.get().each((function(t){Ze(t.caret).remove(),o.set(k.none())})),clearInterval(i)},a=function(){i=wt.setInterval((function(){n()?Ze("div.mce-visual-caret",t).toggleClass("mce-visual-caret-hidden"):Ze("div.mce-visual-caret",t).addClass("mce-visual-caret-hidden")}),500)};return{show:function(n,i){var l,u;if(s(),function(t){return kr.isElement(t)&&/^(TD|TH)$/i.test(t.tagName)}(i))return null;if(!e(i))return r=function(t,e){var n,i,r;if(i=t.ownerDocument.createTextNode(mo),r=t.parentNode,e){if(n=t.previousSibling,yo(n)){if(wo(n))return n;if(Eo(n))return n.splitText(n.data.length-1)}r.insertBefore(i,t)}else{if(n=t.nextSibling,yo(n)){if(wo(n))return n;if(To(n))return n.splitText(1),n}t.nextSibling?r.insertBefore(i,t.nextSibling):r.appendChild(i)}return i}(i,n),u=i.ownerDocument.createRange(),qa(r.nextSibling)?(u.setStart(r,0),u.setEnd(r,0)):(u.setStart(r,1),u.setEnd(r,1)),u;r=So("p",i,n),l=Ua(t,i,n),Ze(r).css("top",l.top);var c=Ze('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(l).appendTo(t)[0];return o.set(k.some({caret:c,element:i,before:n})),o.get().each((function(t){n&&Ze(t.caret).addClass("mce-visual-caret-before")})),a(),(u=i.ownerDocument.createRange()).setStart(r,0),u.setEnd(r,0),u},hide:s,getCss:function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"},reposition:function(){o.get().each((function(e){var n=Ua(t,e.element,e.before);Ze(e.caret).css(n)}))},destroy:function(){return wt.clearInterval(i)}}},Ya=function(t){return qa(t)||kr.isTable(t)&&Oa()},Xa=kr.isContentEditableFalse,Ga=kr.matchStyleValues("display","block table table-cell table-caption list-item"),Ka=wo,Ja=bo,Qa=ts.curry,Za=kr.isElement,tl=Lo,el=function(t){return t>0},nl=function(t){return t<0},il=function(t,e){for(var n;n=t(e);)if(!Ja(n))return n;return null},rl=function(t,e,n,i,r){var o=new Qi(t,i);if(nl(e)){if((Xa(t)||Ja(t))&&n(t=il(o.prev,!0)))return t;for(;t=il(o.prev,r);)if(n(t))return t}if(el(e)){if((Xa(t)||Ja(t))&&n(t=il(o.next,!0)))return t;for(;t=il(o.next,r);)if(n(t))return t}return null},ol=function(t,e){for(;t&&t!==e;){if(Ga(t))return t;t=t.parentNode}return null},sl=function(t,e,n){return ol(t.container(),n)===ol(e.container(),n)},al=function(t,e){var n,i;return e?(n=e.container(),i=e.offset(),Za(n)?n.childNodes[i+t]:null):null},ll=function(t,e){var n=e.ownerDocument.createRange();return t?(n.setStartBefore(e),n.setEndBefore(e)):(n.setStartAfter(e),n.setEndAfter(e)),n},ul=function(t,e,n){return ol(e,t)===ol(n,t)},cl=function(t,e,n){var i,r;for(r=t?"previousSibling":"nextSibling";n&&n!==e;){if(i=n[r],Ka(i)&&(i=i[r]),Xa(i)){if(ul(e,i,n))return i;break}if(tl(i))break;n=n.parentNode}return null},fl=Qa(ll,!0),dl=Qa(ll,!1),hl=function(t,e,n){var i,r,o,s,a=Qa(cl,!0,e),l=Qa(cl,!1,e);if(r=n.startContainer,o=n.startOffset,bo(r)){if(Za(r)||(r=r.parentNode),"before"===(s=r.getAttribute("data-mce-caret"))&&(i=r.nextSibling,Ya(i)))return fl(i);if("after"===s&&(i=r.previousSibling,Ya(i)))return dl(i)}if(!n.collapsed)return n;if(kr.isText(r)){if(Ka(r)){if(1===t){if(i=l(r))return fl(i);if(i=a(r))return dl(i)}if(-1===t){if(i=a(r))return dl(i);if(i=l(r))return fl(i)}return n}if(Eo(r)&&o>=r.data.length-1)return 1===t&&(i=l(r))?fl(i):n;if(To(r)&&o<=1)return-1===t&&(i=a(r))?dl(i):n;if(o===r.data.length)return(i=l(r))?fl(i):n;if(0===o)return(i=a(r))?dl(i):n}return n},pl=function(t,e){var n=al(t,e);return Xa(n)&&!kr.isBogusAll(n)},ml=function(t,e){return kr.isTable(al(t,e))},gl=function(t,e){return k.from(al(t?0:-1,e)).filter(Xa)},vl=function(t,e,n){var i=hl(t,e,n);return-1===t?bs.fromRangeStart(i):bs.fromRangeEnd(i)},yl=Qa(pl,0),bl=Qa(pl,-1),xl=Qa(ml,0),wl=Qa(ml,-1);!function(t){t[t.Backwards=-1]="Backwards",t[t.Forwards=1]="Forwards"}(Us||(Us={}));var _l=kr.isContentEditableFalse,Cl=kr.isText,kl=kr.isElement,Sl=kr.isBr,Tl=Lo,El=function(t){return Mo(t)||function(t){return!!Fo(t)&&!0!==Ne.reduce(t.getElementsByTagName("*"),(function(t,e){return t||No(e)}),!1)}(t)},Dl=Ho,Nl=function(t,e){return t.hasChildNodes()&&e<t.childNodes.length?t.childNodes[e]:null},Al=function(t,e){if(el(t)){if(Tl(e.previousSibling)&&!Cl(e.previousSibling))return ws.before(e);if(Cl(e))return ws(e,0)}if(nl(t)){if(Tl(e.nextSibling)&&!Cl(e.nextSibling))return ws.after(e);if(Cl(e))return ws(e,e.data.length)}return nl(t)?Sl(e)?ws.before(e):ws.after(e):ws.before(e)},Pl=function(t,e,n){var i,r,o,s,a;if(!kl(n)||!e)return null;if(e.isEqual(ws.after(n))&&n.lastChild){if(a=ws.after(n.lastChild),nl(t)&&Tl(n.lastChild)&&kl(n.lastChild))return Sl(n.lastChild)?ws.before(n.lastChild):a}else a=e;var l=a.container(),u=a.offset();if(Cl(l)){if(nl(t)&&u>0)return ws(l,--u);if(el(t)&&u<l.length)return ws(l,++u);i=l}else{if(nl(t)&&u>0&&(r=Nl(l,u-1),Tl(r)))return!El(r)&&(o=rl(r,t,Dl,r))?Cl(o)?ws(o,o.data.length):ws.after(o):Cl(r)?ws(r,r.data.length):ws.before(r);if(el(t)&&u<l.childNodes.length&&(r=Nl(l,u),Tl(r)))return Sl(r)&&n.lastChild===r?null:function(t,e){var n;return!!kr.isBr(t)&&!!(n=Pl(1,ws.after(t),e))&&!sl(ws.before(t),ws.before(n),e)}(r,n)?Pl(t,ws.after(r),n):!El(r)&&(o=rl(r,t,Dl,r))?Cl(o)?ws(o,0):ws.before(o):Cl(r)?ws(r,0):ws.after(r);i=r||a.getNode()}return(el(t)&&a.isAtEnd()||nl(t)&&a.isAtStart())&&(i=rl(i,t,ts.constant(!0),n,!0),Dl(i,n))?Al(t,i):(r=rl(i,t,Dl,n),!(s=Ne.last(Ne.filter(function(t,e){for(var n=[];t&&t!==e;)n.push(t),t=t.parentNode;return n}(l,n),_l)))||r&&s.contains(r)?r?Al(t,r):null:a=el(t)?ws.after(s):ws.before(s))},Ol=function(t){return{next:function(e){return Pl(Us.Forwards,e,t)},prev:function(e){return Pl(Us.Backwards,e,t)}}},Il=function(t){return Me.grep(t.childNodes,(function(t){return"LI"===t.nodeName}))},Ml=function(t){return t&&t.firstChild&&t.firstChild===t.lastChild&&function(t){return"Â "===t.data||kr.isBr(t)}(t.firstChild)},Bl=function(t){return t.length>0&&(!(e=t[t.length-1]).firstChild||Ml(e))?t.slice(0,-1):t;var e},Rl=function(t,e){var n=t.getParent(e,t.isBlock);return n&&"LI"===n.nodeName?n:null},Ll=function(t,e){var n=ws.after(t),i=Ol(e).prev(n);return i?i.toRange():null},Fl=function(t,e,n){var i=t.parentNode;return Me.each(e,(function(e){i.insertBefore(e,t)})),function(t,e){var n=ws.before(t),i=Ol(e).next(n);return i?i.toRange():null}(t,n)},Hl=function(t,e){var n=e.firstChild,i=e.lastChild;return n&&"meta"===n.name&&(n=n.next),i&&"mce_marker"===i.attr("id")&&(i=i.prev),function(t,e){var n=t.getNonEmptyElements();return e&&(e.isEmpty(n)||function(t,e){return t.getBlockElements()[e.name]&&function(t){return t.firstChild&&t.firstChild===t.lastChild}(e)&&function(t){return"br"===t.name||"Â "===t.value}(e.firstChild)}(t,e))}(t,i)&&(i=i.prev),!(!n||n!==i||"ul"!==n.name&&"ol"!==n.name)},zl=function(t,e,n,i){var r=function(t,e,n){var i=e.serialize(n);return function(t){var e=t.firstChild,n=t.lastChild;return e&&"META"===e.nodeName&&e.parentNode.removeChild(e),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),t}(t.createFragment(i))}(e,t,i),o=Rl(e,n.startContainer),s=Bl(Il(r.firstChild)),a=e.getRoot(),l=function(t){var i=ws.fromRangeStart(n),r=Ol(e.getRoot()),s=1===t?r.prev(i):r.next(i);return!s||Rl(e,s.getNode())!==o};return l(1)?Fl(o,s,a):l(2)?function(t,e,n,i){return i.insertAfter(e.reverse(),t),Ll(e[0],n)}(o,s,a,e):function(t,e,n,i){var r=function(t,e){var n=e.cloneRange(),i=e.cloneRange();return n.setStartBefore(t),i.setEndAfter(t),[n.cloneContents(),i.cloneContents()]}(t,i),o=t.parentNode;return o.insertBefore(r[0],t),Me.each(e,(function(e){o.insertBefore(e,t)})),o.insertBefore(r[1],t),o.removeChild(t),Ll(e[e.length-1],n)}(o,s,a,n)},jl=function(t,e){return!!Rl(t,e)},Wl=kr.isText,$l=kr.isBogus,ql=oo.nodeIndex,Ul=function(t){var e=t.parentNode;return $l(e)?Ul(e):e},Vl=function(t){return t?Ne.reduce(t.childNodes,(function(t,e){return $l(e)&&"BR"!==e.nodeName?t=t.concat(Vl(e)):t.push(e),t}),[]):[]},Yl=function(t){return function(e){return t===e}},Xl=function(t){return(Wl(t)?"text()":t.nodeName.toLowerCase())+"["+function(t){var e,n,i;return e=Vl(Ul(t)),n=Ne.findIndex(e,Yl(t),t),e=e.slice(0,n+1),i=Ne.reduce(e,(function(t,n,i){return Wl(n)&&Wl(e[i-1])&&t++,t}),0),e=Ne.filter(e,kr.matchNodeNames(t.nodeName)),(n=Ne.findIndex(e,Yl(t),t))-i}(t)+"]"},Gl=function(t,e){var n,i,r,o,s,a=[];return n=e.container(),i=e.offset(),Wl(n)?r=function(t,e){for(;(t=t.previousSibling)&&Wl(t);)e+=t.data.length;return e}(n,i):(i>=(o=n.childNodes).length?(r="after",i=o.length-1):r="before",n=o[i]),a.push(Xl(n)),s=function(t,e,n){var i=[];for(e=e.parentNode;!(e===t||n&&n(e));e=e.parentNode)i.push(e);return i}(t,n),s=Ne.filter(s,ts.negate(kr.isBogus)),(a=a.concat(Ne.map(s,(function(t){return Xl(t)})))).reverse().join("/")+","+r},Kl=function(t,e){var n,i,r;return e?(n=e.split(","),e=n[0].split("/"),r=n.length>1?n[1]:"before",(i=Ne.reduce(e,(function(t,e){return(e=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(e))?("text()"===e[1]&&(e[1]="#text"),function(t,e,n){var i=Vl(t);return i=Ne.filter(i,(function(t,e){return!Wl(t)||!Wl(i[e-1])})),(i=Ne.filter(i,kr.matchNodeNames(e)))[n]}(t,e[1],parseInt(e[2],10))):null}),t))?Wl(i)?function(t,e){for(var n,i=t,r=0;Wl(i);){if(n=i.data.length,e>=r&&e<=r+n){t=i,e-=r;break}if(!Wl(i.nextSibling)){t=i,e=n;break}r+=n,i=i.nextSibling}return Wl(t)&&e>t.data.length&&(e=t.data.length),ws(t,e)}(i,parseInt(r,10)):(r="after"===r?ql(i)+1:ql(i),ws(i.parentNode,r)):null):null},Jl=kr.isContentEditableFalse,Ql=function(t,e,n,i,r){var o,s=i[r?"startContainer":"endContainer"],a=i[r?"startOffset":"endOffset"],l=[],u=0,c=t.getRoot();for(kr.isText(s)?l.push(n?function(t,e,n){var i,r;for(r=t(e.data.slice(0,n)).length,i=e.previousSibling;i&&kr.isText(i);i=i.previousSibling)r+=t(i.data).length;return r}(e,s,a):a):(a>=(o=s.childNodes).length&&o.length&&(u=1,a=Math.max(0,o.length-1)),l.push(t.nodeIndex(o[a],n)+u));s&&s!==c;s=s.parentNode)l.push(t.nodeIndex(s,n));return l},Zl=function(t){kr.isText(t)&&0===t.data.length&&t.parentNode.removeChild(t)},tu=function(t,e,n){var i=0;return Me.each(t.select(e),(function(t){if("all"!==t.getAttribute("data-mce-bogus"))return t!==n&&void i++})),i},eu=function(t,e){var n,i,r,o=e?"start":"end";n=t[o+"Container"],i=t[o+"Offset"],kr.isElement(n)&&"TR"===n.nodeName&&(n=(r=n.childNodes)[Math.min(e?i:i-1,r.length-1)])&&(i=e?0:n.childNodes.length,t["set"+(e?"Start":"End")](n,i))},nu=function(t){return eu(t,!0),eu(t,!1),t},iu=function(t,e){var n;if(kr.isElement(t)&&(t=Go(t,e),Jl(t)))return t;if(wo(t)){if(kr.isText(t)&&bo(t)&&(t=t.parentNode),n=t.previousSibling,Jl(n))return n;if(n=t.nextSibling,Jl(n))return n}},ru=function(t,e,n){var i=n.getNode(),r=i?i.nodeName:null,o=n.getRng();if(Jl(i)||"IMG"===r)return{name:r,index:tu(n.dom,r,i)};var s=function(t){return iu(t.startContainer,t.startOffset)||iu(t.endContainer,t.endOffset)}(o);return s?{name:r=s.tagName,index:tu(n.dom,r,s)}:function(t,e,n,i){var r=e.dom,o={};return o.start=Ql(r,t,n,i,!0),e.isCollapsed()||(o.end=Ql(r,t,n,i,!1)),o}(t,n,e,o)},ou=function(t,e,n){var i={"data-mce-type":"bookmark",id:e,style:"overflow:hidden;line-height:0px"};return n?t.create("span",i,"&#xFEFF;"):t.create("span",i)},su=function(t,e){var n=t.dom,i=t.getRng(),r=n.uniqueId(),o=t.isCollapsed(),s=t.getNode(),a=s.nodeName;if("IMG"===a)return{name:a,index:tu(n,a,s)};var l=nu(i.cloneRange());if(!o){l.collapse(!1);var u=ou(n,r+"_end",e);l.insertNode(u),Zl(u.nextSibling)}(i=nu(i)).collapse(!0);var c=ou(n,r+"_start",e);return i.insertNode(c),Zl(c.previousSibling),t.moveToBookmark({id:r,keep:1}),{id:r}},au={getBookmark:function(t,e,n){return 2===e?ru(go,n,t):3===e?function(t){var e=t.getRng();return{start:Gl(t.dom.getRoot(),ws.fromRangeStart(e)),end:Gl(t.dom.getRoot(),ws.fromRangeEnd(e))}}(t):e?function(t){return{rng:t.getRng()}}(t):su(t,!1)},getUndoBookmark:y.curry(ru,y.identity,!0),getPersistentBookmark:su},lu=function(t){return kr.isElement(t)&&"_mce_caret"===t.id},uu=function(t,e){for(;e&&e!==t;){if("_mce_caret"===e.id)return e;e=e.parentNode}return null},cu=function(t,e){return!t.isBlock(e)||e.innerHTML||gt.ie||(e.innerHTML='<br data-mce-bogus="1" />'),e},fu=function(t,e){return Fs.lastPositionIn(t).fold((function(){return!1}),(function(t){return e.setStart(t.container(),t.offset()),e.setEnd(t.container(),t.offset()),!0}))},du=function(t,e,n){return!(!function(t){return!1===t.hasChildNodes()}(e)||!uu(t,e)||(function(t,e){var n=t.ownerDocument.createTextNode(mo);t.appendChild(n),e.setStart(n,0),e.setEnd(n,0)}(e,n),0))},hu=function(t,e,n,i){var r,o,s,a,l=n[e?"start":"end"],u=t.getRoot();if(l){for(s=l[0],o=u,r=l.length-1;r>=1;r--){if(a=o.childNodes,du(u,o,i))return!0;if(l[r]>a.length-1)return!!du(u,o,i)||fu(o,i);o=a[l[r]]}3===o.nodeType&&(s=Math.min(l[0],o.nodeValue.length)),1===o.nodeType&&(s=Math.min(l[0],o.childNodes.length)),e?i.setStart(o,s):i.setEnd(o,s)}return!0},pu=function(t){return kr.isText(t)&&t.data.length>0},mu=function(t,e,n){var i,r,o,s,a,l,u=t.get(n.id+"_"+e),c=n.keep;if(u){if(i=u.parentNode,"start"===e?(c?u.hasChildNodes()?(i=u.firstChild,r=1):pu(u.nextSibling)?(i=u.nextSibling,r=0):pu(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=t.nodeIndex(u)+1):r=t.nodeIndex(u),a=i,l=r):(c?u.hasChildNodes()?(i=u.firstChild,r=1):pu(u.previousSibling)?(i=u.previousSibling,r=u.previousSibling.data.length):(i=u.parentNode,r=t.nodeIndex(u)):r=t.nodeIndex(u),a=i,l=r),!c){for(s=u.previousSibling,o=u.nextSibling,Me.each(Me.grep(u.childNodes),(function(t){kr.isText(t)&&(t.nodeValue=t.nodeValue.replace(/\uFEFF/g,""))}));u=t.get(n.id+"_"+e);)t.remove(u,!0);s&&o&&s.nodeType===o.nodeType&&kr.isText(s)&&!gt.opera&&(r=s.nodeValue.length,s.appendData(o.nodeValue),t.remove(o),a=s,l=r)}return k.some(ws(a,l))}return k.none()},gu=function(t,e){var n=t.dom;if(e){if(function(t){return Me.isArray(t.start)}(e))return function(t,e){var n=t.createRng();return hu(t,!0,e,n)&&hu(t,!1,e,n)?k.some(n):k.none()}(n,e);if(function(t){return"string"==typeof t.start}(e))return k.some(function(t,e){var n,i;return n=t.createRng(),i=Kl(t.getRoot(),e.start),n.setStart(i.container(),i.offset()),i=Kl(t.getRoot(),e.end),n.setEnd(i.container(),i.offset()),n}(n,e));if(function(t){return t.hasOwnProperty("id")}(e))return function(t,e){var n,i,r=mu(t,"start",e),o=mu(t,"end",e);return es([r,(n=o,i=r,n.isSome()?n:i)],(function(e,n){var i=t.createRng();return i.setStart(cu(t,e.container()),e.offset()),i.setEnd(cu(t,n.container()),n.offset()),i}))}(n,e);if(function(t){return t.hasOwnProperty("name")}(e))return function(t,e){return k.from(t.select(e.name)[e.index]).map((function(e){var n=t.createRng();return n.selectNode(e),n}))}(n,e);if(function(t){return t.hasOwnProperty("rng")}(e))return k.some(e.rng)}return k.none()},vu=function(t,e,n){return au.getBookmark(t,e,n)},yu=function(t,e){gu(t,e).each((function(e){t.setRng(e)}))},bu=function(t){return kr.isElement(t)&&"SPAN"===t.tagName&&"bookmark"===t.getAttribute("data-mce-type")},xu=Me.each,wu=function(t){this.compare=function(e,n){if(e.nodeName!==n.nodeName)return!1;var i=function(e){var n={};return xu(t.getAttribs(e),(function(i){var r=i.nodeName.toLowerCase();0!==r.indexOf("_")&&"style"!==r&&0!==r.indexOf("data-")&&(n[r]=t.getAttrib(e,r))})),n},r=function(t,e){var n,i;for(i in t)if(t.hasOwnProperty(i)){if(void 0===(n=e[i]))return!1;if(t[i]!==n)return!1;delete e[i]}for(i in e)if(e.hasOwnProperty(i))return!1;return!0};return!(!r(i(e),i(n))||!r(t.parseStyle(t.getAttrib(e,"style")),t.parseStyle(t.getAttrib(n,"style")))||bu(e)||bu(n))}},_u=function(t,e){z.each(e,(function(e){Aa.before(t,e)}))},Cu=function(t,e){z.each(e,(function(e){Aa.append(t,e)}))},ku=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},Su={empty:function(t){t.dom().textContent="",z.each(Li.children(t),(function(t){ku(t)}))},remove:ku,unwrap:function(t){var e=Li.children(t);e.length>0&&_u(t,e),ku(t)}},Tu=function(t,e){var n=function(e){return t(e)?k.from(e.dom().nodeValue):k.none()},i=On.detect().browser,r=i.isIE()&&10===i.version.major?function(t){try{return n(t)}catch(t){return k.none()}}:n;return{get:function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},getOption:r,set:function(n,i){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=i}}}(Un.isText,"text"),Eu=function(t){return Tu.get(t)},Du=function(t){var e=ia(t,"br"),n=z.filter(function(t){for(var e=[],n=t.dom();n;)e.push(Mn.fromDom(n)),n=n.lastChild;return e}(t).slice(-1),sr);e.length===n.length&&z.each(n,Su.remove)},Nu=function(t){Su.empty(t),Aa.append(t,Mn.fromHtml('<br data-mce-bogus="1">'))},Au=function(t){Li.lastChild(t).each((function(e){Li.prevSibling(e).each((function(n){rr(t)&&sr(e)&&rr(n)&&Su.remove(e)}))}))},Pu=Me.makeMap;function Ou(t){var e,n,i,r,o,s=[];return e=(t=t||{}).indent,n=Pu(t.indent_before||""),i=Pu(t.indent_after||""),r=Fr.getEncodeFunc(t.entity_encoding||"raw",t.entities),o="html"===t.element_format,{start:function(t,a,l){var u,c,f,d;if(e&&n[t]&&s.length>0&&(d=s[s.length-1]).length>0&&"\n"!==d&&s.push("\n"),s.push("<",t),a)for(u=0,c=a.length;u<c;u++)f=a[u],s.push(" ",f.name,'="',r(f.value,!0),'"');s[s.length]=!l||o?">":" />",l&&e&&i[t]&&s.length>0&&(d=s[s.length-1]).length>0&&"\n"!==d&&s.push("\n")},end:function(t){var n;s.push("</",t,">"),e&&i[t]&&s.length>0&&(n=s[s.length-1]).length>0&&"\n"!==n&&s.push("\n")},text:function(t,e){t.length>0&&(s[s.length]=e?t:r(t))},cdata:function(t){s.push("<![CDATA[",t,"]]>")},comment:function(t){s.push("\x3c!--",t,"--\x3e")},pi:function(t,n){n?s.push("<?",t," ",r(n),"?>"):s.push("<?",t,"?>"),e&&s.push("\n")},doctype:function(t){s.push("<!DOCTYPE",t,">",e?"\n":"")},reset:function(){s.length=0},getContent:function(){return s.join("").replace(/\n$/,"")}}}function Iu(t,e){void 0===e&&(e=Xr());var n=Ou(t);return(t=t||{}).validate=!("validate"in t)||t.validate,{serialize:function(i){var r,o;o=t.validate,r={3:function(t){n.text(t.value,t.raw)},8:function(t){n.comment(t.value)},7:function(t){n.pi(t.name,t.value)},10:function(t){n.doctype(t.value)},4:function(t){n.cdata(t.value)},11:function(t){if(t=t.firstChild)do{s(t)}while(t=t.next)}},n.reset();var s=function(t){var i,a,l,u,c,f,d,h,p,m=r[t.type];if(m)m(t);else{if(i=t.name,a=t.shortEnded,l=t.attributes,o&&l&&l.length>1&&((f=[]).map={},p=e.getElementRule(t.name))){for(d=0,h=p.attributesOrder.length;d<h;d++)(u=p.attributesOrder[d])in l.map&&(c=l.map[u],f.map[u]=c,f.push({name:u,value:c}));for(d=0,h=l.length;d<h;d++)(u=l[d].name)in f.map||(c=l.map[u],f.map[u]=c,f.push({name:u,value:c}));l=f}if(n.start(t.name,l,a),!a){if(t=t.firstChild)do{s(t)}while(t=t.next);n.end(i)}}};return 1!==i.type||t.inner?r[11](i):s(i),n.getContent()}}}var Mu=function(t){var e=ws.fromRangeStart(t),n=ws.fromRangeEnd(t),i=t.commonAncestorContainer;return Fs.fromPosition(!1,i,n).map((function(r){return!sl(e,n,i)&&sl(e,r,i)?function(t,e,n,i){var r=document.createRange();return r.setStart(t,e),r.setEnd(n,i),r}(e.container(),e.offset(),r.container(),r.offset()):t})).getOr(t)},Bu=function(t){return t.collapsed?t:Mu(t)},Ru=kr.matchNodeNames("td th"),Lu=function(t,e,n){var i,r,o,s,a,l,u,c,f,d,h,p,m=t.schema.getTextInlineElements(),g=t.selection,v=t.dom;if(/^ | $/.test(e)&&(e=function(t){var e,n,i;e=g.getRng(),n=e.startContainer,i=e.startOffset;var r=function(t){return n[t]&&3===n[t].nodeType};return 3===n.nodeType&&(i>0?t=t.replace(/^&nbsp;/," "):r("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),i<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):r("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t}(e)),i=t.parser,p=n.merge,r=Iu({validate:t.settings.validate},t.schema),h='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',l={content:e,format:"html",selection:!0,paste:n.paste},(l=t.fire("BeforeSetContent",l)).isDefaultPrevented())t.fire("SetContent",{content:l.content,format:"html",selection:!0,paste:n.paste});else{-1===(e=l.content).indexOf("{$caret}")&&(e+="{$caret}"),e=e.replace(/\{\$caret\}/,h);var y=(c=g.getRng()).startContainer||(c.parentElement?c.parentElement():null),b=t.getBody();y===b&&g.isCollapsed()&&v.isBlock(b.firstChild)&&function(e){return e&&!t.schema.getShortEndedElements()[e.nodeName]}(b.firstChild)&&v.isEmpty(b.firstChild)&&((c=v.createRng()).setStart(b.firstChild,0),c.setEnd(b.firstChild,0),g.setRng(c)),g.isCollapsed()||(t.selection.setRng(Bu(t.selection.getRng())),t.getDoc().execCommand("Delete",!1,null),function(){var t,n,i;n=(t=g.getRng()).startContainer,i=t.startOffset,3===n.nodeType&&t.collapsed&&("Â "===n.data[i]?(n.deleteData(i,1),/[\u00a0| ]$/.test(e)||(e+=" ")):"Â "===n.data[i-1]&&(n.deleteData(i-1,1),/[\u00a0| ]$/.test(e)||(e=" "+e)))}());var x,w={context:(o=g.getNode()).nodeName.toLowerCase(),data:n.data,insert:!0};if(a=i.parse(e,w),!0===n.paste&&Hl(t.schema,a)&&jl(v,o))return c=zl(r,v,t.selection.getRng(),a),t.selection.setRng(c),void t.fire("SetContent",l);if(function(t){for(var e=t;e=e.walk();)1===e.type&&e.attr("data-mce-fragment","1")}(a),"mce_marker"===(f=a.lastChild).attr("id"))for(u=f,f=f.prev;f;f=f.walk(!0))if(3===f.type||!v.isBlock(f.name)){t.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(u,f,"br"===f.name);break}if(t._selectionOverrides.showBlockCaretContainer(o),w.invalid){for(g.setContent(h),o=g.getNode(),s=t.getBody(),9===o.nodeType?o=f=s:f=o;f!==s;)o=f,f=f.parentNode;e=o===s?s.innerHTML:v.getOuterHTML(o),e=r.serialize(i.parse(e.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,(function(){return r.serialize(a)})))),o===s?v.setHTML(s,e):v.setOuterHTML(o,e)}else e=r.serialize(a),function(t,e,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(t.dom.createFragment(e),n);else{var i=n.firstChild,r=n.lastChild;!i||i===r&&"BR"===i.nodeName?t.dom.setHTML(n,e):t.selection.setContent(e)}}(t,e,o);!function(){if(p){var e=t.getBody(),n=new wu(v);Me.each(v.select("*[data-mce-fragment]"),(function(t){for(var i=t.parentNode;i&&i!==e;i=i.parentNode)m[t.nodeName.toLowerCase()]&&n.compare(i,t)&&v.remove(t,!0)}))}}(),function(e){var n,i,r;if(e){if(g.scrollIntoView(e),n=function(e){for(var n=t.getBody();e&&e!==n;e=e.parentNode)if("false"===t.dom.getContentEditable(e))return e;return null}(e))return v.remove(e),void g.select(n);c=v.createRng(),(f=e.previousSibling)&&3===f.nodeType?(c.setStart(f,f.nodeValue.length),gt.ie||(d=e.nextSibling)&&3===d.nodeType&&(f.appendData(d.data),d.parentNode.removeChild(d))):(c.setStartBefore(e),c.setEndBefore(e)),i=v.getParent(e,v.isBlock),v.remove(e),i&&v.isEmpty(i)&&(t.$(i).empty(),c.setStart(i,0),c.setEnd(i,0),Ru(i)||function(t){return!!t.getAttribute("data-mce-fragment")}(i)||!(r=function(e){var n=ws.fromRangeStart(e);if(n=Ol(t.getBody()).next(n))return n.toRange()}(c))?v.add(i,v.create("br",{"data-mce-bogus":"1"})):(c=r,v.remove(i))),g.setRng(c)}}(v.get("mce_marker")),x=t.getBody(),Me.each(x.getElementsByTagName("*"),(function(t){t.removeAttribute("data-mce-fragment")})),function(t,e){k.from(t.getParent(e,"td,th")).map(Mn.fromDom).each(Au)}(t.dom,t.selection.getStart()),t.fire("SetContent",l),t.addVisual()}},Fu=function(t,e){var n=function(t){var e;return"string"!=typeof t?(e=Me.extend({paste:t.paste,data:{paste:t.paste}},t),{content:t.content,details:e}):{content:t,details:{}}}(e);Lu(t,n.content,n.details)};function Hu(t,e,n,i,r){return t(n,i)?k.some(n):T.isFunction(r)&&r(n)?k.none():e(n,i,r)}var zu=function(t,e,n){for(var i=t.dom(),r=T.isFunction(n)?n:y.constant(!1);i.parentNode;){i=i.parentNode;var o=Mn.fromDom(i);if(e(o))return k.some(o);if(r(o))break}return k.none()},ju=function(t,e){return z.find(t.dom().childNodes,y.compose(e,Mn.fromDom)).map(Mn.fromDom)},Wu=function(t,e){var n=function(t){for(var i=0;i<t.childNodes.length;i++){if(e(Mn.fromDom(t.childNodes[i])))return k.some(Mn.fromDom(t.childNodes[i]));var r=n(t.childNodes[i]);if(r.isSome())return r}return k.none()};return n(t.dom())},$u={first:function(t){return Wu(oi.body(),t)},ancestor:zu,closest:function(t,e,n){return Hu((function(t){return e(t)}),zu,t,e,n)},sibling:function(t,e){var n=t.dom();return n.parentNode?ju(Mn.fromDom(n.parentNode),(function(n){return!Ni.eq(t,n)&&e(n)})):k.none()},child:ju,descendant:Wu},qu=yi.immutable("sections","settings"),Uu=On.detect(),Vu=Uu.deviceType.isTouch(),Yu=["lists","autolink","autosave"],Xu={theme:"mobile"},Gu=function(t){var e=T.isArray(t)?t.join(" "):t,n=z.map(T.isString(e)?e.split(" "):[],Sn);return z.filter(n,(function(t){return t.length>0}))},Ku=function(t,e){var n=Jn.bifilter(e,(function(e,n){return z.contains(t,n)}));return qu(n.t,n.f)},Ju=function(t,e){return t.sections().hasOwnProperty(e)},Qu=function(t,e){var n=e.external_plugins?e.external_plugins:{};return t&&t.external_plugins?Me.extend({},t.external_plugins,n):n},Zu=function(t,e,n,i){var r=Gu(n.forced_plugins),o=Gu(i.plugins),s=function(t,e){return[].concat(Gu(t)).concat(Gu(e))}(r,t&&Ju(e,"mobile")?function(t){return z.filter(t,y.curry(z.contains,Yu))}(o):o);return Me.extend(i,{plugins:s.join(" ")})},tc=function(t,e,n,i){var r=Ku(["mobile"],i),o=Me.extend(e,n,r.settings(),function(t,e){var n=e.settings().inline;return t&&Ju(e,"mobile")&&!n}(t,r)?function(t,e,n){var i=t.sections(),r=i.hasOwnProperty(e)?i[e]:{};return Me.extend({},n,r)}(r,"mobile",Xu):{},{validate:!0,content_editable:r.settings().inline,external_plugins:Qu(n,r.settings())});return Zu(t,r,n,o)},ec=function(t,e,n){return k.from(e.settings[n]).filter(t)},nc=y.curry(ec,T.isString),ic=function(t,e,n,i){var r,o=e in t.settings?t.settings[e]:n;return"hash"===i?function(t){var e={};return"string"==typeof t?z.each(t.indexOf("=")>0?t.split(/[;,](?![^=;,]*(?:[;,]|$))/):t.split(","),(function(t){var n=t.split("=");n.length>1?e[Me.trim(n[0])]=Me.trim(n[1]):e[Me.trim(n[0])]=Me.trim(n)})):e=t,e}(o):"string"===i?ec(T.isString,t,e).getOr(n):"number"===i?ec(T.isNumber,t,e).getOr(n):"boolean"===i?ec(T.isBoolean,t,e).getOr(n):"object"===i?ec(T.isObject,t,e).getOr(n):"array"===i?ec(T.isArray,t,e).getOr(n):"string[]"===i?ec((r=T.isString,function(t){return T.isArray(t)&&z.forall(t,r)}),t,e).getOr(n):"function"===i?ec(T.isFunction,t,e).getOr(n):o},rc=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,oc=function(t,e){var n=e.container(),i=e.offset();return t?xo(n)?kr.isText(n.nextSibling)?ws(n.nextSibling,0):ws.after(n):Co(e)?ws(n,i+1):e:xo(n)?kr.isText(n.previousSibling)?ws(n.previousSibling,n.previousSibling.data.length):ws.before(n):ko(e)?ws(n,i-1):e},sc=y.curry(oc,!0),ac=y.curry(oc,!1),lc={isInlineTarget:function(t,e){var n=nc(t,"inline_boundaries_selector").getOr("a[href],code");return Ti.is(Mn.fromDom(e),n)},findRootInline:function(t,e,n){var i=function(t,e,n){return z.filter(oo.DOM.getParents(n.container(),"*",e),t)}(t,e,n);return k.from(i[i.length-1])},isRtl:function(t){return"rtl"===oo.DOM.getStyle(t,"direction",!0)||(e=t.textContent,rc.test(e));var e},isAtZwsp:function(t){return Co(t)||ko(t)},normalizePosition:oc,normalizeForwards:sc,normalizeBackwards:ac,hasSameParentBlock:function(t,e,n){var i=ol(e,t),r=ol(n,t);return i&&i===r}},uc=function(t,e){return Ni.contains(t,e)?$u.closest(e,(function(t){return ar(t)||ur(t)}),function(t){return function(e){return Ni.eq(t,Mn.fromDom(e.dom().parentNode))}}(t)):k.none()},cc=function(t){t.dom.isEmpty(t.getBody())&&(t.setContent(""),function(t){var e=t.getBody(),n=e.firstChild&&t.dom.isBlock(e.firstChild)?e.firstChild:e;t.selection.setCursorLocation(n,0)}(t))},fc=function(t,e,n){return es([Fs.firstPositionIn(n),Fs.lastPositionIn(n)],(function(i,r){var o=lc.normalizePosition(!0,i),s=lc.normalizePosition(!1,r),a=lc.normalizePosition(!1,e);return t?Fs.nextPosition(n,a).map((function(t){return t.isEqual(s)&&e.isEqual(o)})).getOr(!1):Fs.prevPosition(n,a).map((function(t){return t.isEqual(o)&&e.isEqual(s)})).getOr(!1)})).getOr(!0)},dc=function(t,e,n){return $u.ancestor(t,(function(t){return Ti.is(t,e)}),n)},hc=dc,pc=function(t,e){return Ti.one(e,t)},mc=function(t,e,n){return Hu(Ti.is,dc,t,e,n)},gc=function(t,e,n){return hc(t,e,n).isSome()},vc=function(t,e){return kr.isText(e)&&/^[ \t\r\n]*$/.test(e.data)&&!1===function(t,e){var n=Mn.fromDom(t),i=Mn.fromDom(e);return gc(i,"pre,code",y.curry(Ni.eq,n))}(t,e)},yc=function(t,e){return Lo(e)&&!1===vc(t,e)||function(t){return kr.isElement(t)&&"A"===t.nodeName&&t.hasAttribute("name")}(e)||bc(e)},bc=kr.hasAttribute("data-mce-bookmark"),xc=kr.hasAttribute("data-mce-bogus"),wc=kr.hasAttributeValue("data-mce-bogus","all"),_c=function(t){return function(t){var e,n,i=0;if(yc(t,t))return!1;if(!(n=t.firstChild))return!0;e=new Qi(n,t);do{if(wc(n))n=e.next(!0);else if(xc(n))n=e.next();else if(kr.isBr(n))i++,n=e.next();else{if(yc(t,n))return!1;n=e.next()}}while(n);return i<=1}(t.dom())},Cc=yi.immutable("block","position"),kc=yi.immutable("from","to"),Sc=function(t,e){var n=Mn.fromDom(t),i=Mn.fromDom(e.container());return uc(n,i).map((function(t){return Cc(t,e)}))},Tc=function(t,e,n){var i=Sc(t,ws.fromRangeStart(n)),r=i.bind((function(n){return Fs.fromPosition(e,t,n.position()).bind((function(n){return Sc(t,n).map((function(n){return function(t,e,n){return kr.isBr(n.position().getNode())&&!1===_c(n.block())?Fs.positionIn(!1,n.block().dom()).bind((function(i){return i.isEqual(n.position())?Fs.fromPosition(e,t,i).bind((function(e){return Sc(t,e)})):k.some(n)})).getOr(n):n}(t,e,n)}))}))}));return es([i,r],kc).filter((function(t){return function(t){return!1===Ni.eq(t.from().block(),t.to().block())}(t)&&function(t){return Li.parent(t.from().block()).bind((function(e){return Li.parent(t.to().block()).filter((function(t){return Ni.eq(e,t)}))})).isSome()}(t)&&function(t){return!1===kr.isContentEditableFalse(t.from().block())&&!1===kr.isContentEditableFalse(t.to().block())}(t)}))},Ec=function(t,e,n){return n.collapsed?Tc(t,e,n):k.none()},Dc=function(t,e,n){return Ni.contains(e,t)?Li.parents(t,(function(t){return n(t)||Ni.eq(t,e)})).slice(0,-1):[]},Nc=function(t,e){return Dc(t,e,y.constant(!1))},Ac=Nc,Pc=function(t,e){return[t].concat(Nc(t,e))},Oc=function(t){var e=function(t){var e=Li.children(t);return z.findIndex(e,rr).fold((function(){return e}),(function(t){return e.slice(0,t)}))}(t);return z.each(e,(function(t){Su.remove(t)})),e},Ic=function(t,e){Fs.positionIn(t,e.dom()).each((function(t){var e=t.getNode();kr.isBr(e)&&Su.remove(Mn.fromDom(e))}))},Mc=function(t,e){var n=Pc(e,t);return z.find(n.reverse(),_c).each(Su.remove)},Bc=function(t,e){return Ni.contains(e,t)?Li.parent(t).bind((function(n){return Ni.eq(n,e)?k.some(t):function(t,e){var n=Li.parents(e,(function(e){return Ni.eq(e,t)}));return k.from(n[n.length-2])}(e,t)})):k.none()},Rc=function(t,e,n){if(_c(n))return Su.remove(n),_c(e)&&Nu(e),Fs.firstPositionIn(e.dom());Ic(!0,e),Ic(!1,n);var i=Oc(e);return Bc(e,n).fold((function(){Mc(t,e);var r=Fs.lastPositionIn(n.dom());return z.each(i,(function(t){Aa.append(n,t)})),r}),(function(r){var o=Fs.prevPosition(n.dom(),ws.before(r.dom()));return z.each(i,(function(t){Aa.before(r,t)})),Mc(t,e),o}))},Lc=function(t,e,n,i){return e?Rc(t,i,n):Rc(t,n,i)},Fc=function(t,e){var n,i=Mn.fromDom(t.getBody());return(n=Ec(i.dom(),e,t.selection.getRng()).bind((function(t){return Lc(i,e,t.from().block(),t.to().block())}))).each((function(e){t.selection.setRng(e.toRange())})),n.isSome()},Hc=function(t,e){var n=Mn.fromDom(e),i=y.curry(Ni.eq,t);return $u.ancestor(n,dr,i).isSome()},zc=function(t,e){var n=Fs.prevPosition(t.dom(),ws.fromRangeStart(e)).isNone(),i=Fs.nextPosition(t.dom(),ws.fromRangeEnd(e)).isNone();return!function(t,e){return Hc(t,e.startContainer)||Hc(t,e.endContainer)}(t,e)&&n&&i},jc=function(t){var e=Mn.fromDom(t.getBody()),n=t.selection.getRng();return zc(e,n)?function(t){return t.setContent(""),t.selection.setCursorLocation(),!0}(t):function(t,e){var n=e.getRng();return es([uc(t,Mn.fromDom(n.startContainer)),uc(t,Mn.fromDom(n.endContainer))],(function(i,r){return!1===Ni.eq(i,r)&&(n.deleteContents(),Lc(t,!0,i,r).each((function(t){e.setRng(t.toRange())})),!0)})).getOr(!1)}(e,t.selection)},Wc=function(t,e){return!t.selection.isCollapsed()&&jc(t)},$c=function(t){if(!T.isArray(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return z.each(t,(function(i,r){var o=Jn.keys(i);if(1!==o.length)throw new Error("one and only one name per case");var s=o[0],a=i[s];if(void 0!==n[s])throw new Error("duplicate key detected:"+s);if("cata"===s)throw new Error("cannot have a case named cata (sorry)");if(!T.isArray(a))throw new Error("case arguments must be an array");e.push(s),n[s]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+s+". Expected "+a.length+" ("+a+"), got "+n);for(var i=new Array(n),o=0;o<i.length;o++)i[o]=arguments[o];var l=function(t){var n=Jn.keys(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));if(!z.forall(e,(function(t){return z.contains(n,t)})))throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[s].apply(null,i)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[r];return e.apply(null,i)},match:l,log:function(t){console.log(t,{constructors:e,constructor:s,params:i})}}}})),n},qc=$c([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Uc=function(t,e,n,i){var r=i.getNode(!1===e);return uc(Mn.fromDom(t),Mn.fromDom(n.getNode())).map((function(t){return _c(t)?qc.remove(t.dom()):qc.moveToElement(r)})).orThunk((function(){return k.some(qc.moveToElement(r))}))},Vc=function(t,e,n){return Fs.fromPosition(e,t,n).bind((function(i){return function(t){return dr(Mn.fromDom(t))||ur(Mn.fromDom(t))}(i.getNode())?k.none():function(t,e,n,i){var r=function(e){return or(Mn.fromDom(e))&&!sl(n,i,t)};return gl(!e,n).fold((function(){return gl(e,i).fold(y.constant(!1),r)}),r)}(t,e,n,i)?k.none():e&&kr.isContentEditableFalse(i.getNode())?Uc(t,e,n,i):!1===e&&kr.isContentEditableFalse(i.getNode(!0))?Uc(t,e,n,i):e&&bl(n)?k.some(qc.moveToPosition(i)):!1===e&&yl(n)?k.some(qc.moveToPosition(i)):k.none()}))},Yc=function(t,e,n){return function(t,e){var n=e.getNode(!1===t),i=t?"after":"before";return kr.isElement(n)&&n.getAttribute("data-mce-caret")===i}(e,n)?function(t,e){return t&&kr.isContentEditableFalse(e.nextSibling)?k.some(qc.moveToElement(e.nextSibling)):!1===t&&kr.isContentEditableFalse(e.previousSibling)?k.some(qc.moveToElement(e.previousSibling)):k.none()}(e,n.getNode(!1===e)).fold((function(){return Vc(t,e,n)}),k.some):Vc(t,e,n).bind((function(e){return function(t,e,n){return n.fold((function(t){return k.some(qc.remove(t))}),(function(t){return k.some(qc.moveToElement(t))}),(function(n){return sl(e,n,t)?k.none():k.some(qc.moveToPosition(n))}))}(t,n,e)}))},Xc=function(t,e){return function(t,e){var n=t.container(),i=t.offset();return!1===ws.isTextPosition(t)&&n===e.parentNode&&i>ws.before(e).offset()}(e,t)?ws(e.container(),e.offset()-1):e},Gc=function(t){return Lo(t.previousSibling)?k.some(function(t){return kr.isText(t)?ws(t,t.data.length):ws.after(t)}(t.previousSibling)):t.previousSibling?Fs.lastPositionIn(t.previousSibling):k.none()},Kc=function(t){return Lo(t.nextSibling)?k.some(function(t){return kr.isText(t)?ws(t,0):ws.before(t)}(t.nextSibling)):t.nextSibling?Fs.firstPositionIn(t.nextSibling):k.none()},Jc=function(t,e){return Gc(e).orThunk((function(){return Kc(e)})).orThunk((function(){return function(t,e){var n=ws.before(e.previousSibling?e.previousSibling:e.parentNode);return Fs.prevPosition(t,n).fold((function(){return Fs.nextPosition(t,ws.after(e))}),k.some)}(t,e)}))},Qc=function(t,e){return Kc(e).orThunk((function(){return Gc(e)})).orThunk((function(){return function(t,e){return Fs.nextPosition(t,ws.after(e)).fold((function(){return Fs.prevPosition(t,ws.before(e))}),k.some)}(t,e)}))},Zc=function(t,e,n){return function(t,e,n){return t?Qc(e,n):Jc(e,n)}(t,e,n).map(y.curry(Xc,n))},tf=function(t,e,n){n.fold((function(){t.focus()}),(function(n){t.selection.setRng(n.toRange(),e)}))},ef=function(t,e){return e&&t.schema.getBlockElements().hasOwnProperty(Un.name(e))},nf=function(t){if(_c(t)){var e=Mn.fromHtml('<br data-mce-bogus="1">');return Su.empty(t),Aa.append(t,e),k.some(ws.before(e.dom()))}return k.none()},rf=function(t,e,n){var i,r=Zc(e,t.getBody(),n.dom()),o=$u.ancestor(n,y.curry(ef,t),(i=t.getBody(),function(t){return t.dom()===i})),s=function(t,e){return es([Li.prevSibling(t),Li.nextSibling(t),e],(function(e,n,i){var r,o=e.dom(),s=n.dom();return kr.isText(o)&&kr.isText(s)?(r=o.data.length,o.appendData(s.data),Su.remove(n),Su.remove(t),i.container()===s?ws(o,r):i):(Su.remove(t),i)})).orThunk((function(){return Su.remove(t),e}))}(n,r);t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):o.bind(nf).fold((function(){tf(t,e,s)}),(function(n){tf(t,e,k.some(n))}))},of=function(t,e){return function(t,e,n){var i=hl(e?1:-1,t,n),r=ws.fromRangeStart(i);return!1===e&&bl(r)?k.some(qc.remove(r.getNode(!0))):e&&yl(r)?k.some(qc.remove(r.getNode())):Yc(t,e,r)}(t.getBody(),e,t.selection.getRng()).map((function(n){return n.fold(function(t,e){return function(n){return t._selectionOverrides.hideFakeCaret(),rf(t,e,Mn.fromDom(n)),!0}}(t,e),function(t,e){return function(n){var i=e?ws.before(n):ws.after(n);return t.selection.setRng(i.toRange()),!0}}(t,e),function(t){return function(e){return t.selection.setRng(e.toRange()),!0}}(t))})).getOr(!1)},sf=function(t,e){var n,i=t.selection.getNode();return!!kr.isContentEditableFalse(i)&&(n=Mn.fromDom(t.getBody()),z.each(ia(n,".mce-offscreen-selection"),Su.remove),rf(t,e,Mn.fromDom(t.selection.getNode())),cc(t),!0)},af=function(t,e){return t.selection.isCollapsed()?of(t,e):sf(t,e)},lf=function(t){var e,n=function(t,e){for(;e&&e!==t;){if(kr.isContentEditableTrue(e)||kr.isContentEditableFalse(e))return e;e=e.parentNode}return null}(t.getBody(),t.selection.getNode());return kr.isContentEditableTrue(n)&&t.dom.isBlock(n)&&t.dom.isEmpty(n)&&(e=t.dom.create("br",{"data-mce-bogus":"1"}),t.dom.setHTML(n,""),n.appendChild(e),t.selection.setRng(ws.before(e).toRange())),!0},uf=kr.isText,cf=function(t){return uf(t)&&t.data[0]===mo},ff=function(t){return uf(t)&&t.data[t.data.length-1]===mo},df=function(t){return t.ownerDocument.createTextNode(mo)},hf=function(t,e){return t?function(t){if(uf(t.previousSibling))return ff(t.previousSibling)?t.previousSibling:(t.previousSibling.appendData(mo),t.previousSibling);if(uf(t))return cf(t)?t:(t.insertData(0,mo),t);var e=df(t);return t.parentNode.insertBefore(e,t),e}(e):function(t){if(uf(t.nextSibling))return cf(t.nextSibling)?t.nextSibling:(t.nextSibling.insertData(0,mo),t.nextSibling);if(uf(t))return ff(t)?t:(t.appendData(mo),t);var e=df(t);return t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e}(e)},pf=y.curry(hf,!0),mf=y.curry(hf,!1),gf=function(t,e){return kr.isText(t.container())?hf(e,t.container()):hf(e,t.getNode())},vf=function(t,e){var n=e.get();return n&&t.container()===n&&xo(n)},yf=function(t,e){return e.fold((function(e){Ps.remove(t.get());var n=pf(e);return t.set(n),k.some(ws(n,n.length-1))}),(function(e){return Fs.firstPositionIn(e).map((function(e){if(vf(e,t))return ws(t.get(),1);Ps.remove(t.get());var n=gf(e,!0);return t.set(n),ws(n,1)}))}),(function(e){return Fs.lastPositionIn(e).map((function(e){if(vf(e,t))return ws(t.get(),t.get().length-1);Ps.remove(t.get());var n=gf(e,!1);return t.set(n),ws(n,n.length-1)}))}),(function(e){Ps.remove(t.get());var n=mf(e);return t.set(n),k.some(ws(n,1))}))},bf=function(t,e){for(var n=0;n<t.length;n++){var i=t[n].apply(null,e);if(i.isSome())return i}return k.none()},xf=$c([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),wf=function(t,e){var n=ol(e,t);return n||t},_f=function(t,e,n){var i=lc.normalizeForwards(n),r=wf(e,i.container());return lc.findRootInline(t,r,i).fold((function(){return Fs.nextPosition(r,i).bind(y.curry(lc.findRootInline,t,r)).map((function(t){return xf.before(t)}))}),k.none)},Cf=function(t,e){return null===uu(t,e)},kf=function(t,e,n){return lc.findRootInline(t,e,n).filter(y.curry(Cf,e))},Sf=function(t,e,n){var i=lc.normalizeBackwards(n);return kf(t,e,i).bind((function(t){return Fs.prevPosition(t,i).isNone()?k.some(xf.start(t)):k.none()}))},Tf=function(t,e,n){var i=lc.normalizeForwards(n);return kf(t,e,i).bind((function(t){return Fs.nextPosition(t,i).isNone()?k.some(xf.end(t)):k.none()}))},Ef=function(t,e,n){var i=lc.normalizeBackwards(n),r=wf(e,i.container());return lc.findRootInline(t,r,i).fold((function(){return Fs.prevPosition(r,i).bind(y.curry(lc.findRootInline,t,r)).map((function(t){return xf.after(t)}))}),k.none)},Df=function(t){return!1===lc.isRtl(Af(t))},Nf=function(t,e,n){return bf([_f,Sf,Tf,Ef],[t,e,n]).filter(Df)},Af=function(t){return t.fold(y.identity,y.identity,y.identity,y.identity)},Pf=function(t){return t.fold(y.constant("before"),y.constant("start"),y.constant("end"),y.constant("after"))},Of=function(t){return t.fold(xf.before,xf.before,xf.after,xf.after)},If=function(t,e,n,i,r,o){return es([lc.findRootInline(e,n,i),lc.findRootInline(e,n,r)],(function(e,i){return e!==i&&lc.hasSameParentBlock(n,e,i)?xf.after(t?e:i):o})).getOr(o)},Mf=function(t,e){return t.fold(y.constant(!0),(function(t){return i=e,!(Pf(n=t)===Pf(i)&&Af(n)===Af(i));var n,i}))},Bf=function(t,e){return t?e.fold(y.compose(k.some,xf.start),k.none,y.compose(k.some,xf.after),k.none):e.fold(k.none,y.compose(k.some,xf.before),k.none,y.compose(k.some,xf.end))},Rf=function(t,e,n,i){var r=lc.normalizePosition(t,i),o=Nf(e,n,r);return Nf(e,n,r).bind(y.curry(Bf,t)).orThunk((function(){return function(t,e,n,i,r){var o=lc.normalizePosition(t,r);return Fs.fromPosition(t,n,o).map(y.curry(lc.normalizePosition,t)).fold((function(){return i.map(Of)}),(function(r){return Nf(e,n,r).map(y.curry(If,t,e,n,o,r)).filter(y.curry(Mf,i))})).filter(Df)}(t,e,n,o,i)}))},Lf=Nf,Ff=Rf,Hf=(y.curry(Rf,!1),y.curry(Rf,!0),Of),zf=function(t){return t.fold(xf.start,xf.start,xf.end,xf.end)},jf=function(t){return T.isFunction(t.selection.getSel().modify)},Wf=function(t,e,n){var i=t?1:-1;return e.setRng(ws(n.container(),n.offset()+i).toRange()),e.getSel().modify("move",t?"forward":"backward","word"),!0},$f=function(t,e){var n=e.selection.getRng(),i=t?ws.fromRangeEnd(n):ws.fromRangeStart(n);return!!jf(e)&&(t&&Co(i)?Wf(!0,e.selection,i):!(t||!ko(i))&&Wf(!1,e.selection,i))},qf=function(t,e){var n=t.dom.createRng();n.setStart(e.container(),e.offset()),n.setEnd(e.container(),e.offset()),t.selection.setRng(n)},Uf=function(t){return!1!==t.settings.inline_boundaries},Vf=function(t,e){t?e.setAttribute("data-mce-selected","inline-boundary"):e.removeAttribute("data-mce-selected")},Yf=function(t,e,n){return yf(e,n).map((function(e){return qf(t,e),n}))},Xf=function(t,e,n){return function(){return!!Uf(e)&&$f(t,e)}},Gf={move:function(t,e,n){return function(){return!!Uf(t)&&function(t,e,n){var i=t.getBody(),r=ws.fromRangeStart(t.selection.getRng()),o=y.curry(lc.isInlineTarget,t);return Ff(n,o,i,r).bind((function(n){return Yf(t,e,n)}))}(t,e,n).isSome()}},moveNextWord:y.curry(Xf,!0),movePrevWord:y.curry(Xf,!1),setupSelectedState:function(t){var e=$a(null),n=y.curry(lc.isInlineTarget,t);return t.on("NodeChange",(function(i){Uf(t)&&(function(t,e,n){var i=z.filter(e.select('*[data-mce-selected="inline-boundary"]'),t),r=z.filter(n,t);z.each(z.difference(i,r),y.curry(Vf,!1)),z.each(z.difference(r,i),y.curry(Vf,!0))}(n,t.dom,i.parents),function(t,e){if(t.selection.isCollapsed()&&!0!==t.composing&&e.get()){var n=ws.fromRangeStart(t.selection.getRng());ws.isTextPosition(n)&&!1===lc.isAtZwsp(n)&&(qf(t,Ps.removeAndReposition(e.get(),n)),e.set(null))}}(t,e),function(t,e,n,i){if(e.selection.isCollapsed()){var r=z.filter(i,t);z.each(r,(function(i){var r=ws.fromRangeStart(e.selection.getRng());Lf(t,e.getBody(),r).bind((function(t){return Yf(e,n,t)}))}))}}(n,t,e,i.parents))})),e},setCaretPosition:qf},Kf=function(t,e){return function(n){return yf(e,n).map((function(e){return Gf.setCaretPosition(t,e),!0})).getOr(!1)}},Jf=function(t,e,n,i){var r=t.getBody(),o=y.curry(lc.isInlineTarget,t);t.undoManager.ignore((function(){t.selection.setRng(function(t,e){var n=document.createRange();return n.setStart(t.container(),t.offset()),n.setEnd(e.container(),e.offset()),n}(n,i)),t.execCommand("Delete"),Lf(o,r,ws.fromRangeStart(t.selection.getRng())).map(zf).map(Kf(t,e))})),t.nodeChanged()},Qf=function(t,e,n,i){var r=function(t,e){var n=ol(e,t);return n||t}(t.getBody(),i.container()),o=y.curry(lc.isInlineTarget,t),s=Lf(o,r,i);return s.bind((function(t){return n?t.fold(y.constant(k.some(zf(t))),k.none,y.constant(k.some(Hf(t))),k.none):t.fold(k.none,y.constant(k.some(Hf(t))),k.none,y.constant(k.some(zf(t))))})).map(Kf(t,e)).getOrThunk((function(){var a=Fs.navigate(n,r,i),l=a.bind((function(t){return Lf(o,r,t)}));return s.isSome()&&l.isSome()?lc.findRootInline(o,r,i).map((function(e){return!!function(t){return es([Fs.firstPositionIn(t),Fs.lastPositionIn(t)],(function(e,n){var i=lc.normalizePosition(!0,e),r=lc.normalizePosition(!1,n);return Fs.nextPosition(t,i).map((function(t){return t.isEqual(r)})).getOr(!0)})).getOr(!0)}(e)&&(rf(t,n,Mn.fromDom(e)),!0)})).getOr(!1):l.bind((function(r){return a.map((function(r){return n?Jf(t,e,i,r):Jf(t,e,r,i),!0}))})).getOr(!1)}))},Zf=function(t,e,n){if(t.selection.isCollapsed()&&function(t){return!1!==t.settings.inline_boundaries}(t)){var i=ws.fromRangeStart(t.selection.getRng());return Qf(t,e,n,i)}return!1},td=yi.immutable("start","end"),ed=yi.immutable("rng","table","cells"),nd=$c([{removeTable:["element"]},{emptyCells:["cells"]}]),id=function(t,e){return mc(Mn.fromDom(t),"td,th",e)},rd=function(t,e){return hc(t,"table",e)},od=function(t){return!1===Ni.eq(t.start(),t.end())},sd=function(t,e){return rd(t.start(),e).bind((function(n){return rd(t.end(),e).bind((function(t){return Ni.eq(n,t)?k.some(n):k.none()}))}))},ad=function(t){return ia(t,"td,th")},ld=function(t,e){var n=id(e.startContainer,t),i=id(e.endContainer,t);return e.collapsed?k.none():es([n,i],td).fold((function(){return n.fold((function(){return i.bind((function(e){return rd(e,t).bind((function(t){return z.head(ad(t)).map((function(t){return td(t,e)}))}))}))}),(function(e){return rd(e,t).bind((function(t){return z.last(ad(t)).map((function(t){return td(e,t)}))}))}))}),(function(e){return ud(t,e)?k.none():function(t,e){return rd(t.start(),e).bind((function(e){return z.last(ad(e)).map((function(e){return td(t.start(),e)}))}))}(e,t)}))},ud=function(t,e){return sd(e,t).isSome()},cd=function(t,e){var n=function(t){return y.curry(Ni.eq,t)}(t);return function(t,e){var n=id(t.startContainer,e),i=id(t.endContainer,e);return es([n,i],td).filter(od).filter((function(t){return ud(e,t)})).orThunk((function(){return ld(e,t)}))}(e,n).bind((function(t){return function(t,e){return sd(t,e).map((function(e){return ed(t,e,ad(e))}))}(t,n)}))},fd=function(t,e){return z.findIndex(t,(function(t){return Ni.eq(t,e)}))},dd=function(t){return function(t){return es([fd(t.cells(),t.rng().start()),fd(t.cells(),t.rng().end())],(function(e,n){return t.cells().slice(e,n+1)}))}(t).map((function(e){var n=t.cells();return e.length===n.length?nd.removeTable(t.table()):nd.emptyCells(e)}))},hd=function(t,e){return cd(t,e).bind(dd)},pd=function(t){var e=[];if(t)for(var n=0;n<t.rangeCount;n++)e.push(t.getRangeAt(n));return e},md=pd,gd=function(t){return z.bind(t,(function(t){var e=Xo(t);return e?[Mn.fromDom(e)]:[]}))},vd=function(t){return pd(t).length>1},yd=function(t){return z.filter(gd(t),dr)},bd=function(t){return ia(t,"td[data-mce-selected],th[data-mce-selected]")},xd=function(t,e){var n=bd(e),i=yd(t);return n.length>0?n:i},wd=xd,_d=function(t){return xd(md(t.selection.getSel()),Mn.fromDom(t.getBody()))},Cd=function(t,e){return z.each(e,Nu),t.selection.setCursorLocation(e[0].dom(),0),!0},kd=function(t,e){return rf(t,!1,e),!0},Sd=function(t,e,n,i){return Ed(e,i).fold((function(){return function(t,e,n){return hd(e,n).map((function(e){return e.fold(y.curry(kd,t),y.curry(Cd,t))}))}(t,e,n)}),(function(e){return function(t,e){return Dd(t,e)}(t,e)})).getOr(!1)},Td=function(t,e){return z.find(Pc(e,t),dr)},Ed=function(t,e){return z.find(Pc(e,t),(function(t){return"caption"===Un.name(t)}))},Dd=function(t,e){return Nu(e),t.selection.setCursorLocation(e.dom(),0),k.some(!0)},Nd=function(t,e,n,i,r){return Fs.navigate(n,t.getBody(),r).bind((function(o){return function(t,e,n,i){return Fs.firstPositionIn(t.dom()).bind((function(r){return Fs.lastPositionIn(t.dom()).map((function(t){return e?n.isEqual(r)&&i.isEqual(t):n.isEqual(t)&&i.isEqual(r)}))})).getOr(!0)}(i,n,r,o)?function(t,e){return Dd(t,e)}(t,i):function(t,e,n){return Ed(t,Mn.fromDom(n.getNode())).map((function(t){return!1===Ni.eq(t,e)}))}(e,i,o)})).or(k.some(!0))},Ad=function(t,e,n,i){var r=ws.fromRangeStart(t.selection.getRng());return Td(n,i).bind((function(i){return _c(i)?Dd(t,i):function(t,e,n,i,r){return Fs.navigate(n,t.getBody(),r).bind((function(t){return Td(e,Mn.fromDom(t.getNode())).map((function(t){return!1===Ni.eq(t,i)}))}))}(t,n,e,i,r)}))},Pd=function(t,e,n){var i=Mn.fromDom(t.getBody());return Ed(i,n).fold((function(){return Ad(t,e,i,n)}),(function(n){return function(t,e,n,i){var r=ws.fromRangeStart(t.selection.getRng());return _c(i)?Dd(t,i):Nd(t,n,e,i,r)}(t,e,i,n)})).getOr(!1)},Od=function(t,e){var n=Mn.fromDom(t.selection.getStart(!0)),i=_d(t);return t.selection.isCollapsed()&&0===i.length?Pd(t,e,n):function(t,e){var n=Mn.fromDom(t.getBody()),i=t.selection.getRng(),r=_d(t);return 0!==r.length?Cd(t,r):Sd(t,n,i,e)}(t,n)},Id=function(t,e){t.getDoc().execCommand(e,!1,null)},Md=function(t){af(t,!1)||Zf(t,!1)||Fc(t,!1)||Od(t)||Wc(t,!1)||(Id(t,"Delete"),cc(t))},Bd=function(t){af(t,!0)||Zf(t,!0)||Fc(t,!0)||Od(t)||Wc(t,!0)||Id(t,"ForwardDelete")},Rd=function(t){return function(e,n){return k.from(n).map(Mn.fromDom).filter(Un.isElement).bind((function(n){return function(t,e,n){var i=function(e){return di(e,t)};return $u.closest(Mn.fromDom(n),(function(t){return i(t).isSome()}),(function(t){return Ni.eq(Mn.fromDom(e),t)})).bind(i)}(t,e,n.dom()).or(function(t,e){return k.from(oo.DOM.getStyle(e,t,!0))}(t,n.dom()))})).getOr("")}},Ld={getFontSize:Rd("font-size"),getFontFamily:y.compose((function(t){return t.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")}),Rd("font-family")),toPt:function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t}},Fd=function(t){return Fs.firstPositionIn(t.getBody()).map((function(t){var e=t.container();return kr.isText(e)?e.parentNode:e}))},Hd=function(t){return k.from(t.selection.getRng()).bind((function(e){return function(t,e){return t.startContainer===e&&0===t.startOffset}(e,t.getBody())?k.none():k.from(t.selection.getStart(!0))}))},zd=function(t,e){if(/^[0-9\.]+$/.test(e)){var n=parseInt(e,10);if(n>=1&&n<=7){var i=Ta(t),r=Ea(t);return r?r[n-1]||e:i[n-1]||e}return e}return e},jd=function(t,e){return t&&e&&t.startContainer===e.startContainer&&t.startOffset===e.startOffset&&t.endContainer===e.endContainer&&t.endOffset===e.endOffset},Wd=function(t,e,n){return null!==function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(t,e,n)},$d=function(t,e,n){return Wd(t,e,(function(t){return t.nodeName===n}))},qd=function(t){return t&&"TABLE"===t.nodeName},Ud=function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)},Vd=function(t,e){return wo(t)&&!1===Wd(t,e,lu)},Yd=function(t,e,n){for(var i=new Qi(e,t.getParent(e.parentNode,t.isBlock)||t.getRoot());e=i[n?"prev":"next"]();)if(kr.isBr(e))return!0},Xd=function(t,e,n,i,r){var o,s,a,l,u=t.getRoot(),c=t.schema.getNonEmptyElements();if(a=t.getParent(r.parentNode,t.isBlock)||u,i&&kr.isBr(r)&&e&&t.isEmpty(a))return k.some(bs(r.parentNode,t.nodeIndex(r)));for(o=new Qi(r,a);l=o[i?"prev":"next"]();){if("false"===t.getContentEditableParent(l)||Vd(l,u))return k.none();if(kr.isText(l)&&l.nodeValue.length>0)return!1===$d(l,u,"A")?k.some(bs(l,i?l.nodeValue.length:0)):k.none();if(t.isBlock(l)||c[l.nodeName.toLowerCase()])return k.none();s=l}return n&&s?k.some(bs(s,0)):k.none()},Gd=function(t,e,n,i){var r,o,s,a,l,u,c,f=t.getRoot(),d=!1;if(r=i[(n?"start":"end")+"Container"],o=i[(n?"start":"end")+"Offset"],c=kr.isElement(r)&&o===r.childNodes.length,l=t.schema.getNonEmptyElements(),u=n,wo(r))return k.none();if(kr.isElement(r)&&o>r.childNodes.length-1&&(u=!1),kr.isDocument(r)&&(r=f,o=0),r===f){if(u&&(a=r.childNodes[o>0?o-1:0])){if(wo(a))return k.none();if(l[a.nodeName]||qd(a))return k.none()}if(r.hasChildNodes()){if(o=Math.min(!u&&o>0?o-1:o,r.childNodes.length-1),r=r.childNodes[o],o=kr.isText(r)&&c?r.data.length:0,!e&&r===f.lastChild&&qd(r))return k.none();if(function(t,e){for(;e&&e!==t;){if(kr.isContentEditableFalse(e))return!0;e=e.parentNode}return!1}(f,r)||wo(r))return k.none();if(r.hasChildNodes()&&!1===qd(r)){a=r,s=new Qi(r,f);do{if(kr.isContentEditableFalse(a)||wo(a)){d=!1;break}if(kr.isText(a)&&a.nodeValue.length>0){o=u?0:a.nodeValue.length,r=a,d=!0;break}if(l[a.nodeName.toLowerCase()]&&!Ud(a)){o=t.nodeIndex(a),r=a.parentNode,u||o++,d=!0;break}}while(a=u?s.next():s.prev())}}}return e&&(kr.isText(r)&&0===o&&Xd(t,c,e,!0,r).each((function(t){r=t.container(),o=t.offset(),d=!0})),kr.isElement(r)&&((a=r.childNodes[o])||(a=r.childNodes[o-1]),!a||!kr.isBr(a)||function(t,e){return t.previousSibling&&t.previousSibling.nodeName===e}(a,"A")||Yd(t,a,!1)||Yd(t,a,!0)||Xd(t,c,e,!0,a).each((function(t){r=t.container(),o=t.offset(),d=!0})))),u&&!e&&kr.isText(r)&&o===r.nodeValue.length&&Xd(t,c,e,!1,r).each((function(t){r=t.container(),o=t.offset(),d=!0})),d?k.some(bs(r,o)):k.none()},Kd=function(t,e){var n=e.collapsed,i=e.cloneRange(),r=bs.fromRangeStart(e);return Gd(t,n,!0,i).each((function(t){n&&bs.isAbove(r,t)||i.setStart(t.container(),t.offset())})),n||Gd(t,n,!1,i).each((function(t){i.setEnd(t.container(),t.offset())})),n&&i.collapse(!0),jd(e,i)?k.none():k.some(i)},Jd=function(t,e,n){var i=t.create("span",{},"&nbsp;");n.parentNode.insertBefore(i,n),e.scrollIntoView(i),t.remove(i)},Qd=function(t,e,n,i){var r=t.createRng();i?(r.setStartBefore(n),r.setEndBefore(n)):(r.setStartAfter(n),r.setEndAfter(n)),e.setRng(r)},Zd=function(t,e){var n,i,r=t.selection,o=t.dom,s=r.getRng();Kd(o,s).each((function(t){s.setStart(t.startContainer,t.startOffset),s.setEnd(t.endContainer,t.endOffset)}));var a=s.startOffset,l=s.startContainer;if(1===l.nodeType&&l.hasChildNodes()){var u=a>l.childNodes.length-1;l=l.childNodes[Math.min(a,l.childNodes.length-1)]||l,a=u&&3===l.nodeType?l.nodeValue.length:0}var c=o.getParent(l,o.isBlock),f=c?o.getParent(c.parentNode,o.isBlock):null,d=f?f.nodeName.toUpperCase():"",h=e&&e.ctrlKey;"LI"!==d||h||(c=f),l&&3===l.nodeType&&a>=l.nodeValue.length&&(function(t,e,n){for(var i,r=new Qi(e,n),o=t.getNonEmptyElements();i=r.next();)if(o[i.nodeName.toLowerCase()]||i.length>0)return!0}(t.schema,l,c)||(n=o.create("br"),s.insertNode(n),s.setStartAfter(n),s.setEndAfter(n),i=!0)),n=o.create("br"),s.insertNode(n),Jd(o,r,n),Qd(o,r,n,i),t.undoManager.add()},th=function(t,e){var n=Mn.fromTag("br");Aa.before(Mn.fromDom(e),n),t.undoManager.add()},eh=function(t,e){nh(t.getBody(),e)||Aa.after(Mn.fromDom(e),Mn.fromTag("br"));var n=Mn.fromTag("br");Aa.after(Mn.fromDom(e),n),Jd(t.dom,t.selection,n.dom()),Qd(t.dom,t.selection,n.dom(),!1),t.undoManager.add()},nh=function(t,e){return n=ws.after(e),!!kr.isBr(n.getNode())||Fs.nextPosition(t,ws.after(e)).map((function(t){return kr.isBr(t.getNode())})).getOr(!1);var n},ih=function(t){return t&&"A"===t.nodeName&&"href"in t},rh=function(t){return t.fold(y.constant(!1),ih,ih,y.constant(!1))},oh=function(t,e){e.fold(y.noop,y.curry(th,t),y.curry(eh,t),y.noop)},sh=function(t,e){var n=function(t){var e=y.curry(lc.isInlineTarget,t),n=ws.fromRangeStart(t.selection.getRng());return Lf(e,t.getBody(),n).filter(rh)}(t);n.isSome()?n.each(y.curry(oh,t)):Zd(t,e)},ah=$c([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),lh=(ah.before,ah.on,ah.after,function(t){return t.fold(y.identity,y.identity,y.identity)}),uh=$c([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ch=yi.immutable("start","soffset","finish","foffset"),fh={domRange:uh.domRange,relative:uh.relative,exact:uh.exact,exactFromRange:function(t){return uh.exact(t.start(),t.soffset(),t.finish(),t.foffset())},range:ch,getWin:function(t){var e=function(t){return t.match({domRange:function(t){return Mn.fromDom(t.startContainer)},relative:function(t,e){return lh(t)},exact:function(t,e,n,i){return t}})}(t);return Li.defaultView(e)}},dh=On.detect().browser,hh=function(t,e){var n=Un.isText(e)?Eu(e).length:Li.children(e).length+1;return t>n?n:t<0?0:t},ph=function(t){return fh.range(t.start(),hh(t.soffset(),t.start()),t.finish(),hh(t.foffset(),t.finish()))},mh=function(t,e){return Ni.contains(t,e)||Ni.eq(t,e)},gh=function(t){return function(e){return mh(t,e.start())&&mh(t,e.finish())}},vh=function(t){return!0===t.inline||dh.isIE()},yh=function(t){return fh.range(Mn.fromDom(t.startContainer),t.startOffset,Mn.fromDom(t.endContainer),t.endOffset)},bh=function(t){var e=t.getSelection();return(e&&0!==e.rangeCount?k.from(e.getRangeAt(0)):k.none()).map(yh)},xh=function(t){var e=Li.defaultView(t);return bh(e.dom()).filter(gh(t))},wh=function(t,e){return k.from(e).filter(gh(t)).map(ph)},_h=function(t){var e=document.createRange();try{return e.setStart(t.start().dom(),t.soffset()),e.setEnd(t.finish().dom(),t.foffset()),k.some(e)}catch(t){return k.none()}},Ch=function(t){return(t.bookmark?t.bookmark:k.none()).bind(y.curry(wh,Mn.fromDom(t.getBody()))).bind(_h)},kh=function(t){var e=vh(t)?xh(Mn.fromDom(t.getBody())):k.none();t.bookmark=e.isSome()?e:t.bookmark},Sh=function(t){Ch(t).each((function(e){t.selection.setRng(e)}))},Th=Ch,Eh=function(t,e){var n=t.settings,i=t.dom,r=t.selection,o=t.formatter,s=/[a-z%]+$/i.exec(n.indentation)[0],a=parseInt(n.indentation,10),l=t.getParam("indent_use_margin",!1);t.queryCommandState("InsertUnorderedList")||t.queryCommandState("InsertOrderedList")||(n.forced_root_block||i.getParent(r.getNode(),i.isBlock)||o.apply("div"),z.each(r.getSelectedBlocks(),(function(t){return function(t,e,n,i,r,o){if("false"!==t.getContentEditable(o)&&"LI"!==o.nodeName){var s=n?"margin":"padding";if(s="TABLE"===o.nodeName?"margin":s,s+="rtl"===t.getStyle(o,"direction",!0)?"Right":"Left","outdent"===e){var a=Math.max(0,parseInt(o.style[s]||0,10)-i);t.setStyle(o,s,a?a+r:"")}else a=parseInt(o.style[s]||0,10)+i+r,t.setStyle(o,s,a)}}(i,e,l,a,s,t)})))},Dh=Me.each,Nh=Me.extend,Ah=Me.map,Ph=Me.inArray;function Oh(t){var e,n,i,r,o={state:{},exec:{},value:{}},s=t.settings;t.on("PreInit",(function(){e=t.dom,n=t.selection,s=t.settings,i=t.formatter}));var a=function(e){var n;if(!t.quirks.isHidden()&&!t.removed){if(e=e.toLowerCase(),n=o.state[e])return n(e);try{return t.getDoc().queryCommandState(e)}catch(t){}return!1}},l=function(t,e){e=e||"exec",Dh(t,(function(t,n){Dh(n.toLowerCase().split(","),(function(n){o[e][n]=t}))}))},u=function(e,n,i){e=e.toLowerCase(),o.value[e]=function(){return n.call(i||t)}};Nh(this,{execCommand:function(e,n,i,r){var s,a,l=!1;if(!t.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(e)||r&&r.skip_focus?Sh(t):t.focus(),(r=t.fire("BeforeExecCommand",{command:e,ui:n,value:i})).isDefaultPrevented())return!1;if(a=e.toLowerCase(),s=o.exec[a])return s(a,n,i),t.fire("ExecCommand",{command:e,ui:n,value:i}),!0;if(Dh(t.plugins,(function(r){if(r.execCommand&&r.execCommand(e,n,i))return t.fire("ExecCommand",{command:e,ui:n,value:i}),l=!0,!1})),l)return l;if(t.theme&&t.theme.execCommand&&t.theme.execCommand(e,n,i))return t.fire("ExecCommand",{command:e,ui:n,value:i}),!0;try{l=t.getDoc().execCommand(e,n,i)}catch(t){}return!!l&&(t.fire("ExecCommand",{command:e,ui:n,value:i}),!0)}},queryCommandState:a,queryCommandValue:function(e){var n;if(!t.quirks.isHidden()&&!t.removed){if(e=e.toLowerCase(),n=o.value[e])return n(e);try{return t.getDoc().queryCommandValue(e)}catch(t){}}},queryCommandSupported:function(e){if(e=e.toLowerCase(),o.exec[e])return!0;try{return t.getDoc().queryCommandSupported(e)}catch(t){}return!1},addCommands:l,addCommand:function(e,n,i){e=e.toLowerCase(),o.exec[e]=function(e,r,o,s){return n.call(i||t,r,o,s)}},addQueryStateHandler:function(e,n,i){e=e.toLowerCase(),o.state[e]=function(){return n.call(i||t)}},addQueryValueHandler:u,hasCustomCommand:function(t){return t=t.toLowerCase(),!!o.exec[t]}});var c=function(e,n,i){return void 0===n&&(n=!1),void 0===i&&(i=null),t.getDoc().execCommand(e,n,i)},f=function(t){return i.match(t)},d=function(e,n){i.toggle(e,n?{value:n}:void 0),t.nodeChanged()},h=function(t){r=n.getBookmark(t)},p=function(){n.moveToBookmark(r)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){t.undoManager.add()},"Cut,Copy,Paste":function(e){var n,i=t.getDoc();try{c(e)}catch(t){n=!0}if("paste"!==e||i.queryCommandEnabled(e)||(n=!0),n||!i.queryCommandSupported(e)){var r=t.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");gt.mac&&(r=r.replace(/Ctrl\+/g,"â+")),t.notificationManager.open({text:r,type:"error"})}},unlink:function(){if(n.isCollapsed()){var e=t.dom.getParent(t.selection.getStart(),"a");e&&t.dom.remove(e,!0)}else i.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(t){var e=t.substring(7);"full"===e&&(e="justify"),Dh("left,center,right,justify".split(","),(function(t){e!==t&&i.remove("align"+t)})),"none"!==e&&d("align"+e)},"InsertUnorderedList,InsertOrderedList":function(t){var i,r;c(t),(i=e.getParent(n.getNode(),"ol,ul"))&&(r=i.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(r.nodeName)&&(h(),e.split(r,i),p()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){d(t)},"ForeColor,HiliteColor":function(t,e,n){d(t,n)},FontName:function(e,n,i){!function(t,e){t.formatter.toggle("fontname",{value:zd(t,e)}),t.nodeChanged()}(t,i)},FontSize:function(e,n,i){!function(t,e){t.formatter.toggle("fontsize",{value:zd(t,e)}),t.nodeChanged()}(t,i)},RemoveFormat:function(t){i.remove(t)},mceBlockQuote:function(){d("blockquote")},FormatBlock:function(t,e,n){return d(n||"p")},mceCleanup:function(){var e=n.getBookmark();t.setContent(t.getContent()),n.moveToBookmark(e)},mceRemoveNode:function(e,i,r){var o=r||n.getNode();o!==t.getBody()&&(h(),t.dom.remove(o,!0),p())},mceSelectNodeDepth:function(i,r,o){var s=0;e.getParent(n.getNode(),(function(t){if(1===t.nodeType&&s++===o)return n.select(t),!1}),t.getBody())},mceSelectNode:function(t,e,i){n.select(i)},mceInsertContent:function(e,n,i){Fu(t,i)},mceInsertRawHTML:function(e,i,r){var o=t.getContent();n.setContent("tiny_mce_marker"),t.setContent(o.replace(/tiny_mce_marker/g,(function(){return r})))},mceToggleFormat:function(t,e,n){d(n)},mceSetContent:function(e,n,i){t.setContent(i)},"Indent,Outdent":function(e){Eh(t,e)},mceRepaint:function(){},InsertHorizontalRule:function(){t.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){t.hasVisual=!t.hasVisual,t.addVisual()},mceReplaceContent:function(e,i,r){t.execCommand("mceInsertContent",!1,r.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(t,r,o){var s;"string"==typeof o&&(o={href:o}),s=e.getParent(n.getNode(),"a"),o.href=o.href.replace(" ","%20"),s&&o.href||i.remove("link"),o.href&&i.apply("link",o,s)},selectAll:function(){var t=e.getParent(n.getStart(),kr.isContentEditableTrue);if(t){var i=e.createRng();i.selectNodeContents(t),n.setRng(i)}},delete:function(){Md(t)},forwardDelete:function(){Bd(t)},mceNewDocument:function(){t.setContent("")},InsertLineBreak:function(e,n,i){return sh(t,i),!0}});var m=function(t){return function(){var r=n.isCollapsed()?[e.getParent(n.getNode(),e.isBlock)]:n.getSelectedBlocks(),o=Ah(r,(function(e){return!!i.matchNode(e,t)}));return-1!==Ph(o,!0)}};l({JustifyLeft:m("alignleft"),JustifyCenter:m("aligncenter"),JustifyRight:m("alignright"),JustifyFull:m("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(t){return f(t)},mceBlockQuote:function(){return f("blockquote")},Outdent:function(){var t;if(s.inline_styles){if((t=e.getParent(n.getStart(),e.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return!0;if((t=e.getParent(n.getEnd(),e.isBlock))&&parseInt(t.style.paddingLeft,10)>0)return!0}return a("InsertUnorderedList")||a("InsertOrderedList")||!s.inline_styles&&!!e.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(t){var i=e.getParent(n.getNode(),"ul,ol");return i&&("insertunorderedlist"===t&&"UL"===i.tagName||"insertorderedlist"===t&&"OL"===i.tagName)}},"state"),l({Undo:function(){t.undoManager.undo()},Redo:function(){t.undoManager.redo()}}),u("FontName",(function(){return function(t){return Hd(t).fold((function(){return Fd(t).map((function(e){return Ld.getFontFamily(t.getBody(),e)})).getOr("")}),(function(e){return Ld.getFontFamily(t.getBody(),e)}))}(t)}),this),u("FontSize",(function(){return function(t){return Hd(t).fold((function(){return Fd(t).map((function(e){return Ld.getFontSize(t.getBody(),e)})).getOr("")}),(function(e){return Ld.getFontSize(t.getBody(),e)}))}(t)}),this)}var Ih=Me.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Mh=function(t){var e,n,i=this,r={},o=function(){return!1},s=function(){return!0};e=(t=t||{}).scope||i,n=t.toggleEvent||o;var a=function(t,e,s,a){var l,u,c;if(!1===e&&(e=o),e)for(e={func:e},a&&Me.extend(e,a),c=(u=t.toLowerCase().split(" ")).length;c--;)t=u[c],(l=r[t])||(l=r[t]=[],n(t,!0)),s?l.unshift(e):l.push(e);return i},l=function(t,e){var o,s,a,l,u;if(t)for(o=(l=t.toLowerCase().split(" ")).length;o--;){if(t=l[o],s=r[t],!t){for(a in r)n(a,!1),delete r[a];return i}if(s){if(e)for(u=s.length;u--;)s[u].func===e&&(s=s.slice(0,u).concat(s.slice(u+1)),r[t]=s);else s.length=0;s.length||(n(t,!1),delete r[t])}}else{for(t in r)n(t,!1);r={}}return i};i.fire=function(n,i){var a,u,c,f;if(n=n.toLowerCase(),(i=i||{}).type=n,i.target||(i.target=e),i.preventDefault||(i.preventDefault=function(){i.isDefaultPrevented=s},i.stopPropagation=function(){i.isPropagationStopped=s},i.stopImmediatePropagation=function(){i.isImmediatePropagationStopped=s},i.isDefaultPrevented=o,i.isPropagationStopped=o,i.isImmediatePropagationStopped=o),t.beforeFire&&t.beforeFire(i),a=r[n])for(u=0,c=a.length;u<c;u++){if((f=a[u]).once&&l(n,f.func),i.isImmediatePropagationStopped())return i.stopPropagation(),i;if(!1===f.func.call(e,i))return i.preventDefault(),i}return i},i.on=a,i.off=l,i.once=function(t,e,n){return a(t,e,n,{once:!0})},i.has=function(t){return t=t.toLowerCase(),!(!r[t]||0===r[t].length)}};Mh.isNative=function(t){return!!Ih[t.toLowerCase()]};var Bh,Rh=function(t){return t._eventDispatcher||(t._eventDispatcher=new Mh({scope:t,toggleEvent:function(e,n){Mh.isNative(e)&&t.toggleNativeEvent&&t.toggleNativeEvent(e,n)}})),t._eventDispatcher},Lh={fire:function(t,e,n){if(this.removed&&"remove"!==t)return e;if(e=Rh(this).fire(t,e,n),!1!==n&&this.parent)for(var i=this.parent();i&&!e.isPropagationStopped();)i.fire(t,e,!1),i=i.parent();return e},on:function(t,e,n){return Rh(this).on(t,e,n)},off:function(t,e){return Rh(this).off(t,e)},once:function(t,e){return Rh(this).once(t,e)},hasEventListeners:function(t){return Rh(this).has(t)}},Fh=function(t,e){var n=ni.get(t,e);return void 0===n||""===n?[]:n.split(" ")},Hh=Fh,zh=function(t,e,n){var i=Fh(t,e).concat([n]);ni.set(t,e,i.join(" "))},jh=function(t,e,n){var i=z.filter(Fh(t,e),(function(t){return t!==n}));i.length>0?ni.set(t,e,i.join(" ")):ni.remove(t,e)},Wh=function(t){return Hh(t,"class")},$h=function(t,e){return zh(t,"class",e)},qh=function(t,e){return jh(t,"class",e)},Uh=Wh,Vh=$h,Yh=qh,Xh=function(t,e){z.contains(Wh(t),e)?qh(t,e):$h(t,e)},Gh=function(t){return void 0!==t.dom().classList},Kh=function(t,e){return Gh(t)&&t.dom().classList.contains(e)},Jh={add:function(t,e){Gh(t)?t.dom().classList.add(e):Vh(t,e)},remove:function(t,e){Gh(t)?t.dom().classList.remove(e):Yh(t,e),function(t){0===(Gh(t)?t.dom().classList:Uh(t)).length&&ni.remove(t,"class")}(t)},toggle:function(t,e){return Gh(t)?t.dom().classList.toggle(e):Xh(t,e)},toggler:function(t,e){var n=Gh(t),i=t.dom().classList;return function(t,e,n){var i=n||!1,r=function(){e(),i=!0},o=function(){t(),i=!1};return{on:r,off:o,toggle:function(){(i?o:r)()},isOn:function(){return i}}}((function(){n?i.remove(e):Yh(t,e)}),(function(){n?i.add(e):Vh(t,e)}),Kh(t,e))},has:Kh},Qh=function(t,e){return t.fire("PreProcess",e)},Zh=function(t,e){return t.fire("PostProcess",e)},tp=function(t){return t.fire("remove")},ep=function(t,e){return t.fire("SwitchMode",{mode:e})},np=function(t,e,n,i){t.fire("ObjectResizeStart",{target:e,width:n,height:i})},ip=function(t,e,n,i){t.fire("ObjectResized",{target:e,width:n,height:i})},rp=function(t,e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},op=function(t,e){!function(t,e,n){Jh.has(t,e)&&!1===n?Jh.remove(t,e):n&&Jh.add(t,e)}(Mn.fromDom(t.getBody()),"mce-content-readonly",e),e?(t.selection.controlSelection.hideResizeRect(),t.readonly=!0,t.getBody().contentEditable="false"):(t.readonly=!1,t.getBody().contentEditable="true",rp(t,"StyleWithCSS",!1),rp(t,"enableInlineTableEditing",!1),rp(t,"enableObjectResizing",!1),t.focus(),t.nodeChanged())},sp=function(t){return t.readonly?"readonly":"design"},ap=oo.DOM,lp=function(t,e){return"selectionchange"===e?t.getDoc():!t.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(e)?t.getDoc().documentElement:t.settings.event_root?(t.eventRoot||(t.eventRoot=ap.select(t.settings.event_root)[0]),t.eventRoot):t.getBody()},up=function(t,e,n){!function(t){return!t.hidden&&!t.readonly}(t)?function(t){return!0===t.readonly}(t)&&n.preventDefault():t.fire(e,n)},cp=function(t,e){var n,i;if(t.delegates||(t.delegates={}),!t.delegates[e]&&!t.removed)if(n=lp(t,e),t.settings.event_root){if(Bh||(Bh={},t.editorManager.on("removeEditor",(function(){var e;if(!t.editorManager.activeEditor&&Bh){for(e in Bh)t.dom.unbind(lp(t,e));Bh=null}}))),Bh[e])return;i=function(n){for(var i=n.target,r=t.editorManager.get(),o=r.length;o--;){var s=r[o].getBody();(s===i||ap.isChildOf(i,s))&&up(r[o],e,n)}},Bh[e]=i,ap.bind(n,e,i)}else i=function(n){up(t,e,n)},ap.bind(n,e,i),t.delegates[e]=i},fp={bindPendingEventDelegates:function(){var t=this;Me.each(t._pendingNativeEvents,(function(e){cp(t,e)}))},toggleNativeEvent:function(t,e){"focus"!==t&&"blur"!==t&&(e?this.initialized?cp(this,t):this._pendingNativeEvents?this._pendingNativeEvents.push(t):this._pendingNativeEvents=[t]:this.initialized&&(this.dom.unbind(lp(this,t),t,this.delegates[t]),delete this.delegates[t]))},unbindAllNativeEvents:function(){var t,e=this.getBody(),n=this.dom;if(this.delegates){for(t in this.delegates)this.dom.unbind(lp(this,t),t,this.delegates[t]);delete this.delegates}!this.inline&&e&&n&&(e.onload=null,n.unbind(this.getWin()),n.unbind(this.getDoc())),n&&(n.unbind(e),n.unbind(this.getContainer()))}},dp=fp=Me.extend({},Lh,fp),hp=Me.each,pp=Me.explode,mp={f9:120,f10:121,f11:122},gp=Me.makeMap("alt,ctrl,shift,meta,access");function vp(t){var e={},n=[],i=function(t){var e,n,i={};for(n in hp(pp(t,"+"),(function(t){t in gp?i[t]=!0:/^[0-9]{2,}$/.test(t)?i.keyCode=parseInt(t,10):(i.charCode=t.charCodeAt(0),i.keyCode=mp[t]||t.toUpperCase().charCodeAt(0))})),e=[i.keyCode],gp)i[n]?e.push(n):i[n]=!1;return i.id=e.join(","),i.access&&(i.alt=!0,gt.mac?i.ctrl=!0:i.shift=!0),i.meta&&(gt.mac?i.meta=!0:(i.ctrl=!0,i.meta=!1)),i},r=function(e,n,r,o){var s;return(s=Me.map(pp(e,">"),i))[s.length-1]=Me.extend(s[s.length-1],{func:r,scope:o||t}),Me.extend(s[0],{desc:t.translate(n),subpatterns:s.slice(1)})},o=function(t,e){return!!e&&e.ctrl===t.ctrlKey&&e.meta===t.metaKey&&e.alt===t.altKey&&e.shift===t.shiftKey&&!!(t.keyCode===e.keyCode||t.charCode&&t.charCode===e.charCode)&&(t.preventDefault(),!0)},s=function(t){return t.func?t.func.call(t.scope):null};t.on("keyup keypress keydown",(function(t){!function(t){return t.altKey||t.ctrlKey||t.metaKey}(t)&&!function(t){return"keydown"===t.type&&t.keyCode>=112&&t.keyCode<=123}(t)||t.isDefaultPrevented()||(hp(e,(function(e){if(o(t,e))return n=e.subpatterns.slice(0),"keydown"===t.type&&s(e),!0})),o(t,n[0])&&(1===n.length&&"keydown"===t.type&&s(n[0]),n.shift()))})),this.add=function(n,i,o,s){var a;return a=o,"string"==typeof o?o=function(){t.execCommand(a,!1,null)}:Me.isArray(a)&&(o=function(){t.execCommand(a[0],a[1],a[2])}),hp(pp(Me.trim(n.toLowerCase())),(function(t){var n=r(t,i,o,s);e[n.id]=n})),!0},this.remove=function(t){var n=r(t);return!!e[n.id]&&(delete e[n.id],!0)}}var yp=function(t){var e=void 0!==t?t.dom():document;return k.from(e.activeElement).map(Mn.fromDom)},bp=function(t){var e=Li.owner(t).dom();return t.dom()===e.activeElement},xp=function(t){return yp(Li.owner(t)).filter((function(e){return t.dom().contains(e.dom())}))},wp=function(t,e){return function(t){return t.collapsed?k.from(Go(t.startContainer,t.startOffset)).map(Mn.fromDom):k.none()}(e).bind((function(e){return fr(e)?k.some(e):!1===Ni.contains(t,e)?k.some(t):k.none()}))},_p=function(t,e){wp(Mn.fromDom(t.getBody()),e).bind((function(t){return Fs.firstPositionIn(t.dom())})).fold((function(){t.selection.normalize()}),(function(e){return t.selection.setRng(e.toRange())}))},Cp=function(t){if(t.setActive)try{t.setActive()}catch(e){t.focus()}else t.focus()},kp=function(t){var e,n=t.getBody();return n&&(e=Mn.fromDom(n),bp(e)||xp(e).isSome())},Sp=function(t){return t.inline?kp(t):function(t){return t.iframeElement&&bp(Mn.fromDom(t.iframeElement))}(t)},Tp=function(t){return t.editorManager.setActive(t)},Ep=function(t,e){t.removed||(e?Tp(t):function(t){var e=t.selection,n=t.settings.content_editable,i=t.getBody(),r=e.getRng();t.quirks.refreshContentEditable();var o=function(t,e){return t.dom.getParent(e,(function(e){return"true"===t.dom.getContentEditable(e)}))}(t,e.getNode());if(t.$.contains(i,o))return Cp(o),_p(t,r),void Tp(t);void 0!==t.bookmark&&!1===Sp(t)&&Th(t).each((function(e){t.selection.setRng(e),r=e})),n||(gt.opera||Cp(i),t.getWin().focus()),(gt.gecko||n)&&(Cp(i),_p(t,r)),Tp(t)}(t))},Dp=Sp,Np=function(t,e){return e.dom()[t]},Ap=function(t,e){return parseInt(fi(e,t),10)},Pp=y.curry(Np,"clientWidth"),Op=y.curry(Np,"clientHeight"),Ip=y.curry(Ap,"margin-top"),Mp=y.curry(Ap,"margin-left"),Bp=function(t,e,n){var i=Mn.fromDom(t.getBody()),r=t.inline?i:Li.documentElement(i),o=function(t,e,n,i){var r=function(t){return t.dom().getBoundingClientRect()}(e);return{x:n-(t?r.left+e.dom().clientLeft+Mp(e):0),y:i-(t?r.top+e.dom().clientTop+Ip(e):0)}}(t.inline,r,e,n);return function(t,e,n){var i=Pp(t),r=Op(t);return e>=0&&n>=0&&e<=i&&n<=r}(r,o.x,o.y)},Rp=function(t){return function(t){return k.from(t).map(Mn.fromDom)}(t.inline?t.getBody():t.getContentAreaContainer()).map((function(t){return Ni.contains(Li.owner(t),t)})).getOr(!1)};function Lp(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getNotificationManagerImpl?n.getNotificationManagerImpl():{open:e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")},close:e,reposition:e,getArgs:e}},i=function(){e.length>0&&n().reposition(e)},r=function(t){z.findIndex(e,(function(e){return e===t})).each((function(t){e.splice(t,1)}))},o=function(o){if(!t.removed&&Rp(t))return z.find(e,(function(t){return e=n().getArgs(t),i=o,!(e.type!==i.type||e.text!==i.text||e.progressBar||e.timeout||i.progressBar||i.timeout);var e,i})).getOrThunk((function(){t.editorManager.setActive(t);var s=n().open(o,(function(){r(s),i()}));return function(t){e.push(t)}(s),i(),s}))};return function(t){t.on("SkinLoaded",(function(){var e=t.settings.service_message;e&&o({text:e,type:"warning",timeout:0,icon:""})})),t.on("ResizeEditor ResizeWindow",(function(){wt.requestAnimationFrame(i)})),t.on("remove",(function(){z.each(e,(function(t){n().close(t)}))}))}(t),{open:o,close:function(){k.from(e[0]).each((function(t){n().close(t),r(t),i()}))},getNotifications:function(){return e}}}function Fp(t){var e=[],n=function(){var e,n=t.theme;return n&&n.getWindowManagerImpl?n.getWindowManagerImpl():{open:e=function(){throw new Error("Theme did not provide a WindowManager implementation.")},alert:e,confirm:e,close:e,getParams:e,setParams:e}},i=function(t,e){return function(){return e?e.apply(t,arguments):void 0}},r=function(n){e.push(n),function(e){t.fire("OpenWindow",{win:e})}(n)},o=function(n){z.findIndex(e,(function(t){return t===n})).each((function(i){e.splice(i,1),function(e){t.fire("CloseWindow",{win:e})}(n),0===e.length&&t.focus()}))},s=function(){return k.from(e[e.length-1])};return t.on("remove",(function(){z.each(e.slice(0),(function(t){n().close(t)}))})),{windows:e,open:function(e,i){t.editorManager.setActive(t),kh(t);var s=n().open(e,i,o);return r(s),s},alert:function(t,e,s){var a=n().alert(t,i(s||this,e),o);r(a)},confirm:function(t,e,s){var a=n().confirm(t,i(s||this,e),o);r(a)},close:function(){s().each((function(t){n().close(t),o(t)}))},getParams:function(){return s().map(n().getParams).getOr(null)},setParams:function(t){s().each((function(e){n().setParams(e,t)}))},getWindows:function(){return e}}}var Hp=ho.PluginManager,zp=function(t,e){var n=function(t,e){for(var n in Hp.urls)if(Hp.urls[n]+"/plugin"+e+".js"===t)return n;return null}(e,t.suffix);return n?"Failed to load plugin: "+n+" from url "+e:"Failed to load plugin url: "+e},jp=function(t,e){t.notificationManager.open({type:"error",text:e})},Wp=function(t,e){t._skinLoaded?jp(t,e):t.on("SkinLoaded",(function(){jp(t,e)}))},$p=function(t,e){Wp(t,zp(t,e))},qp=function(t,e){Wp(t,"Failed to upload image: "+e)},Up=Wp,Vp=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=window.console;i&&(i.error?i.error.apply(i,arguments):i.log.apply(i,arguments))},Yp=ho.PluginManager,Xp=ho.ThemeManager;function Gp(){return new(q("XMLHttpRequest"))}function Kp(t,e){var n={},i=function(t,n,i,r){var o,s;(o=new Gp).open("POST",e.url),o.withCredentials=e.credentials,o.upload.onprogress=function(t){r(t.loaded/t.total*100)},o.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var t,r,s;o.status<200||o.status>=300?i("HTTP Error: "+o.status):(t=JSON.parse(o.responseText))&&"string"==typeof t.location?n((r=e.basePath,s=t.location,r?r.replace(/\/$/,"")+"/"+s.replace(/^\//,""):s)):i("Invalid JSON: "+o.responseText)},(s=new FormData).append("file",t.blob(),t.filename()),o.send(s)},r=function(t,e){return{url:e,blobInfo:t,status:!0}},o=function(t,e){return{url:"",blobInfo:t,status:!1,error:e}},s=function(t,e){Me.each(n[t],(function(t){t(e)})),delete n[t]},a=function(i,a){return i=Me.grep(i,(function(e){return!t.isUploaded(e.blobUri())})),vt.all(Me.map(i,(function(i){return t.isPending(i.blobUri())?function(t){var e=t.blobUri();return new vt((function(t){n[e]=n[e]||[],n[e].push(t)}))}(i):function(e,n,i){return t.markPending(e.blobUri()),new vt((function(a){var l;try{var u=function(){l&&l.close()};n(e,(function(n){u(),t.markUploaded(e.blobUri(),n),s(e.blobUri(),r(e,n)),a(r(e,n))}),(function(n){u(),t.removeFailed(e.blobUri()),s(e.blobUri(),o(e,n)),a(o(e,n))}),(function(t){t<0||t>100||(l||(l=i()),l.progressBar.value(t))}))}catch(t){a(o(e,t.message))}}))}(i,e.handler,a)})))};return e=Me.extend({credentials:!1,handler:i},e),{upload:function(t,n){return e.url||e.handler!==i?a(t,n):new vt((function(t){t([])}))}}}function Jp(t,e){return new(q("Blob"))(t,e)}function Qp(){return new(q("FileReader"))}function Zp(t){return new(q("Uint8Array"))(t)}var tm=function(t){return q("atob")(t)},em=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},nm=function(t){return 0===t.indexOf("blob:")?function(t){return new vt((function(e,n){var i=function(){n("Cannot convert "+t+" to Blob. Resource might not exist or is inaccessible.")};try{var r=new Gp;r.open("GET",t,!0),r.responseType="blob",r.onload=function(){200===this.status?e(this.response):i()},r.onerror=i,r.send()}catch(t){i()}}))}(t):0===t.indexOf("data:")?(e=t,new vt((function(t){var n,i,r;e=em(e);try{n=tm(e.data)}catch(e){return void t(new Jp([]))}for(i=new Zp(n.length),r=0;r<i.length;r++)i[r]=n.charCodeAt(r);t(new Jp([i],{type:e.type}))}))):null;var e},im=function(t){return new vt((function(e){var n=new Qp;n.onloadend=function(){e(n.result)},n.readAsDataURL(t)}))},rm=em,om=0,sm=function(t){return(t||"blobid")+om++};function am(t,e){var n={};return{findAll:function(i,r){var o;r||(r=ts.constant(!0)),o=Ne.filter(function(t){return t?t.getElementsByTagName("img"):[]}(i),(function(e){var n=e.src;return!!gt.fileApi&&!e.hasAttribute("data-mce-bogus")&&!e.hasAttribute("data-mce-placeholder")&&!(!n||n===gt.transparentSrc)&&(0===n.indexOf("blob:")?!t.isUploaded(n):0===n.indexOf("data:")&&r(e))}));var s=Ne.map(o,(function(t){if(n[t.src])return new vt((function(e){n[t.src].then((function(n){if("string"==typeof n)return n;e({image:t,blobInfo:n.blobInfo})}))}));var i=new vt((function(n,i){!function(t,e,n,i){var r,o;0!==e.src.indexOf("blob:")?(r=rm(e.src).data,(o=t.findFirst((function(t){return t.base64()===r})))?n({image:e,blobInfo:o}):nm(e.src).then((function(i){o=t.create(sm(),i,r),t.add(o),n({image:e,blobInfo:o})}),(function(t){i(t)}))):(o=t.getByUri(e.src))?n({image:e,blobInfo:o}):nm(e.src).then((function(i){im(i).then((function(s){r=rm(s).data,o=t.create(sm(),i,r),t.add(o),n({image:e,blobInfo:o})}))}),(function(t){i(t)}))}(e,t,n,i)})).then((function(t){return delete n[t.image.src],t})).catch((function(e){return delete n[t.src],e}));return n[t.src]=i,i}));return vt.all(s)}}}var lm=0,um=function(t){return t+lm+++(e=function(){return Math.round(4294967295*Math.random()).toString(36)},"s"+(new Date).getTime().toString(36)+e()+e()+e());var e};function cm(t){var e,n,i,r,o,s=function(){var t=[],e=ts.constant,n=function(t){var n,i,r;if(!t.blob||!t.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=t.id||um("blobid"),i=t.name||n,{id:e(n),name:e(i),filename:e(i+"."+(r=t.blob.type,{"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"}[r.toLowerCase()]||"dat")),blob:e(t.blob),base64:e(t.base64),blobUri:e(t.blobUri||V(t.blob)),uri:e(t.uri)}},i=function(t){return r((function(e){return e.id()===t}))},r=function(e){return Ne.filter(t,e)[0]};return{create:function(t,e,i,r){return n("object"==typeof t?t:{id:t,name:r,blob:e,base64:i})},add:function(e){i(e.id())||t.push(e)},get:i,getByUri:function(t){return r((function(e){return e.blobUri()===t}))},findFirst:r,removeByUri:function(e){t=Ne.filter(t,(function(t){return t.blobUri()!==e||(Y(t.blobUri()),!1)}))},destroy:function(){Ne.each(t,(function(t){Y(t.blobUri())})),t=[]}}}(),a=t.settings,l=(i={},r=function(t,e){return{status:t,resultUri:e}},{hasBlobUri:o=function(t){return t in i},getResultUri:function(t){var e=i[t];return e?e.resultUri:null},isPending:function(t){return!!o(t)&&1===i[t].status},isUploaded:function(t){return!!o(t)&&2===i[t].status},markPending:function(t){i[t]=r(1,null)},markUploaded:function(t,e){i[t]=r(2,e)},removeFailed:function(t){delete i[t]},destroy:function(){i={}}}),u=function(e){return function(n){return t.selection?e(n):[]}},c=function(t,e,n){var i=0;do{-1!==(i=t.indexOf(e,i))&&(t=t.substring(0,i)+n+t.substr(i+e.length),i+=n.length-e.length+1)}while(-1!==i);return t},f=function(t,e,n){return t=c(t,'src="'+e+'"','src="'+n+'"'),t=c(t,'data-mce-src="'+e+'"','data-mce-src="'+n+'"')},d=function(e,n){Ne.each(t.undoManager.data,(function(t){"fragmented"===t.type?t.fragments=Ne.map(t.fragments,(function(t){return f(t,e,n)})):t.content=f(t.content,e,n)}))},h=function(){return t.notificationManager.open({text:t.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},p=function(n){return e||(e=Kp(l,{url:a.images_upload_url,basePath:a.images_upload_base_path,credentials:a.images_upload_credentials,handler:a.images_upload_handler})),v().then(u((function(i){var r;return r=Ne.map(i,(function(t){return t.blobInfo})),e.upload(r,h).then(u((function(e){var r=Ne.map(e,(function(e,n){var r=i[n].image;return e.status&&!1!==t.settings.images_replace_blob_uris?function(e,n){s.removeByUri(e.src),d(e.src,n),t.$(e).attr({src:a.images_reuse_filename?n+"?"+(new Date).getTime():n,"data-mce-src":t.convertURL(n,"src")})}(r,e.url):e.error&&qp(t,e.error),{element:r,status:e.status}}));return n&&n(r),r})))})))},m=function(t){if(!1!==a.automatic_uploads)return p(t)},g=function(t){return!a.images_dataimg_filter||a.images_dataimg_filter(t)},v=function(){return n||(n=am(l,s)),n.findAll(t.getBody(),g).then(u((function(e){return e=Ne.filter(e,(function(e){return"string"!=typeof e||(Up(t,e),!1)})),Ne.each(e,(function(t){d(t.image.src,t.blobInfo.blobUri()),t.image.src=t.blobInfo.blobUri(),t.image.removeAttribute("data-mce-src")})),e})))},y=function(e){return e.replace(/src="(blob:[^"]+)"/g,(function(e,n){var i=l.getResultUri(n);if(i)return'src="'+i+'"';var r=s.getByUri(n);return r||(r=Ne.reduce(t.editorManager.get(),(function(t,e){return t||e.editorUpload&&e.editorUpload.blobCache.getByUri(n)}),null)),r?'src="data:'+r.blob().type+";base64,"+r.base64()+'"':e}))};return t.on("setContent",(function(){!1!==t.settings.automatic_uploads?m():v()})),t.on("RawSaveContent",(function(t){t.content=y(t.content)})),t.on("getContent",(function(t){t.source_view||"raw"===t.format||(t.content=y(t.content))})),t.on("PostRender",(function(){t.parser.addNodeFilter("img",(function(t){Ne.each(t,(function(t){var e=t.attr("src");if(!s.getByUri(e)){var n=l.getResultUri(e);n&&t.attr("src",n)}}))}))})),{blobCache:s,uploadImages:p,uploadImagesAuto:m,scanForImages:v,destroy:function(){s.destroy(),l.destroy(),n=e=null}}}var fm=function(t,e){return t.hasOwnProperty(e.nodeName)},dm=function(t,e){return!!kr.isText(e)||!!kr.isElement(e)&&!fm(t,e)&&!bu(e)},hm=function(t,e){if(kr.isText(e)){if(0===e.nodeValue.length)return!0;if(/^\s+$/.test(e.nodeValue)&&(!e.nextSibling||fm(t,e.nextSibling)))return!0}return!1},pm=function(t){var e,n,i,r,o,s,a,l,u,c,f,d=t.settings,h=t.dom,p=t.selection,m=t.schema,g=m.getBlockElements(),v=p.getStart(),y=t.getBody();if(f=d.forced_root_block,v&&kr.isElement(v)&&f&&(c=y.nodeName.toLowerCase(),m.isValidChild(c,f.toLowerCase())&&!function(t,e,n){return z.exists(Ac(Mn.fromDom(n),Mn.fromDom(e)),(function(e){return fm(t,e.dom())}))}(g,y,v))){for(n=(e=p.getRng()).startContainer,i=e.startOffset,r=e.endContainer,o=e.endOffset,u=Dp(t),v=y.firstChild;v;)if(dm(g,v)){if(hm(g,v)){a=v,v=v.nextSibling,h.remove(a);continue}s||(s=h.create(f,t.settings.forced_root_block_attrs),v.parentNode.insertBefore(s,v),l=!0),a=v,v=v.nextSibling,s.appendChild(a)}else s=null,v=v.nextSibling;l&&u&&(e.setStart(n,i),e.setEnd(r,o),p.setRng(e),t.nodeChanged())}},mm=function(t){t.settings.forced_root_block&&t.on("NodeChange",y.curry(pm,t))},gm=function(t){var e=t.startContainer,n=t.startOffset;return kr.isText(e)?0===n?k.some(Mn.fromDom(e)):k.none():k.from(e.childNodes[n]).map(Mn.fromDom)},vm=function(t){var e=t.endContainer,n=t.endOffset;return kr.isText(e)?n===e.data.length?k.some(Mn.fromDom(e)):k.none():k.from(e.childNodes[n-1]).map(Mn.fromDom)},ym=function(t){return Li.firstChild(t).fold(y.constant([t]),(function(e){return[t].concat(ym(e))}))},bm=function(t){return Li.lastChild(t).fold(y.constant([t]),(function(e){return"br"===Un.name(e)?Li.prevSibling(e).map((function(e){return[t].concat(bm(e))})).getOr([]):[t].concat(bm(e))}))},xm=function(t,e,n,i){var r=n,o=new Qi(n,r),s=t.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==Me.trim(n.nodeValue).length)return void(i?e.setStart(n,0):e.setEnd(n,n.nodeValue.length));if(s[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(i?e.setStartBefore(n):"BR"===n.nodeName?e.setEndBefore(n):e.setEndAfter(n));if(gt.ie&&gt.ie<11&&t.isBlock(n)&&t.isEmpty(n))return void(i?e.setStart(n,0):e.setEnd(n,0))}while(n=i?o.next():o.prev());"BODY"===r.nodeName&&(i?e.setStart(r,0):e.setEnd(r,r.childNodes.length))},wm=function(t){var e=t.selection.getSel();return e&&e.rangeCount>0};function _m(t){var e,n=[];"onselectionchange"in t.getDoc()||t.on("NodeChange Click MouseUp KeyUp Focus",(function(n){var i,r;r={startContainer:(i=t.selection.getRng()).startContainer,startOffset:i.startOffset,endContainer:i.endContainer,endOffset:i.endOffset},"nodechange"!==n.type&&jd(r,e)||t.fire("SelectionChange"),e=r})),t.on("contextmenu",(function(){t.fire("SelectionChange")})),t.on("SelectionChange",(function(){var e=t.selection.getStart(!0);!e||!gt.range&&t.selection.isCollapsed()||wm(t)&&!function(e){var i,r;if((r=t.$(e).parentsUntil(t.getBody()).add(e)).length===n.length){for(i=r.length;i>=0&&r[i]===n[i];i--);if(-1===i)return n=r,!0}return n=r,!1}(e)&&t.dom.isChildOf(e,t.getBody())&&t.nodeChanged({selectionChange:!0})})),t.on("MouseUp",(function(e){!e.isDefaultPrevented()&&wm(t)&&("IMG"===t.selection.getNode().nodeName?wt.setEditorTimeout(t,(function(){t.nodeChanged()})):t.nodeChanged())})),this.nodeChanged=function(e){var n,i,r,o=t.selection;t.initialized&&o&&!t.settings.disable_nodechange&&!t.readonly&&(r=t.getBody(),(n=o.getStart(!0)||r).ownerDocument===t.getDoc()&&t.dom.isChildOf(n,r)||(n=r),i=[],t.dom.getParent(n,(function(t){if(t===r)return!0;i.push(t)})),(e=e||{}).element=n,e.parents=i,t.fire("NodeChange",e))}}var Cm,km=function(t){var e,n,i,r;return r=t.getBoundingClientRect(),n=(e=t.ownerDocument).documentElement,i=e.defaultView,{top:r.top+i.pageYOffset-n.clientTop,left:r.left+i.pageXOffset-n.clientLeft}},Sm=function(t,e){return function(t,e,n){return{pageX:n.left-t.left+e.left,pageY:n.top-t.top+e.top}}(function(t){return t.inline?km(t.getBody()):{left:0,top:0}}(t),function(t){var e=t.getBody();return t.inline?{left:e.scrollLeft,top:e.scrollTop}:{left:0,top:0}}(t),function(t,e){if(e.target.ownerDocument!==t.getDoc()){var n=km(t.getContentAreaContainer()),i=function(t){var e=t.getBody(),n=t.getDoc().documentElement,i={left:e.scrollLeft,top:e.scrollTop},r={left:e.scrollLeft||n.scrollLeft,top:e.scrollTop||n.scrollTop};return t.inline?i:r}(t);return{left:e.pageX-n.left+i.left,top:e.pageY-n.top+i.top}}return{left:e.pageX,top:e.pageY}}(t,e))},Tm=kr.isContentEditableFalse,Em=kr.isContentEditableTrue,Dm=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},Nm=function(t,e){return function(n){if(function(t){return 0===t.button}(n)){var i=Ne.find(e.dom.getParents(n.target),ts.or(Tm,Em));if(a=e.getBody(),Tm(l=i)&&l!==a){var r=e.dom.getPos(i),o=e.getBody(),s=e.getDoc().documentElement;t.element=i,t.screenX=n.screenX,t.screenY=n.screenY,t.maxX=(e.inline?o.scrollWidth:s.offsetWidth)-2,t.maxY=(e.inline?o.scrollHeight:s.offsetHeight)-2,t.relX=n.pageX-r.x,t.relY=n.pageY-r.y,t.width=i.offsetWidth,t.height=i.offsetHeight,t.ghost=function(t,e,n,i){var r=e.cloneNode(!0);t.dom.setStyles(r,{width:n,height:i}),t.dom.setAttrib(r,"data-mce-selected",null);var o=t.dom.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return t.dom.setStyles(o,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:i}),t.dom.setStyles(r,{margin:0,boxSizing:"border-box"}),o.appendChild(r),o}(e,i,t.width,t.height)}}var a,l}},Am=function(t,e){return function(n){if(t.dragging&&function(t,e,n){return e!==n&&!t.dom.isChildOf(e,n)&&!Tm(e)}(e,(a=e.selection,3===(l=a.getSel().getRangeAt(0).startContainer).nodeType?l.parentNode:l),t.element)){var i=(o=t.element,(s=o.cloneNode(!0)).removeAttribute("data-mce-selected"),s),r=e.fire("drop",{targetClone:i,clientX:n.clientX,clientY:n.clientY});r.isDefaultPrevented()||(i=r.targetClone,e.undoManager.transact((function(){Dm(t.element),e.insertContent(e.dom.getOuterHTML(i)),e._selectionOverrides.hideFakeCaret()})))}var o,s,a,l;Pm(t)}},Pm=function(t){t.dragging=!1,t.element=null,Dm(t.ghost)},Om=function(t){var e,n,i,r,o,s,a={};e=oo.DOM,s=document,n=Nm(a,t),i=function(t,e){var n=wt.throttle((function(t,n){e._selectionOverrides.hideFakeCaret(),e.selection.placeCaretAt(t,n)}),0);return function(i){var r,o,s=Math.max(Math.abs(i.screenX-t.screenX),Math.abs(i.screenY-t.screenY));if(function(t){return t.element}(t)&&!t.dragging&&s>10){if(e.fire("dragstart",{target:t.element}).isDefaultPrevented())return;t.dragging=!0,e.focus()}if(t.dragging){var a=function(t,e){return{pageX:e.pageX-t.relX,pageY:e.pageY+5}}(t,Sm(e,i));r=t.ghost,o=e.getBody(),r.parentNode!==o&&o.appendChild(r),function(t,e,n,i,r,o){var s=0,a=0;t.style.left=e.pageX+"px",t.style.top=e.pageY+"px",e.pageX+n>r&&(s=e.pageX+n-r),e.pageY+i>o&&(a=e.pageY+i-o),t.style.width=n-s+"px",t.style.height=i-a+"px"}(t.ghost,a,t.width,t.height,t.maxX,t.maxY),n(i.clientX,i.clientY)}}}(a,t),r=Am(a,t),o=function(t,e){return function(){t.dragging&&e.fire("dragend"),Pm(t)}}(a,t),t.on("mousedown",n),t.on("mousemove",i),t.on("mouseup",r),e.bind(s,"mousemove",i),e.bind(s,"mouseup",o),t.on("remove",(function(){e.unbind(s,"mousemove",i),e.unbind(s,"mouseup",o)}))},Im=function(t){Om(t),function(t){t.on("drop",(function(e){var n=void 0!==e.clientX?t.getDoc().elementFromPoint(e.clientX,e.clientY):null;(Tm(n)||Tm(t.dom.getContentEditableParent(n)))&&e.preventDefault()}))}(t)},Mm=function(t){return Ne.reduce(t,(function(t,e){return t.concat(function(t){var e=function(e){return Ne.map(e,(function(e){return(e=jo(e)).node=t,e}))};if(kr.isElement(t))return e(t.getClientRects());if(kr.isText(t)){var n=t.ownerDocument.createRange();return n.setStart(t,0),n.setEnd(t,t.data.length),e(n.getClientRects())}}(e))}),[])};!function(t){t[t.Up=-1]="Up",t[t.Down=1]="Down"}(Cm||(Cm={}));var Bm=function(t,e,n,i,r,o){var s,a,l=0,u=[],c=function(i){var o,s,c;for(c=Mm([i]),-1===t&&(c=c.reverse()),o=0;o<c.length;o++)if(s=c[o],!n(s,a)){if(u.length>0&&e(s,Ne.last(u))&&l++,s.line=l,r(s))return!0;u.push(s)}};return(a=Ne.last(o.getClientRects()))?(c(s=o.getNode()),function(t,e,n,i){for(;i=rl(i,t,Ho,e);)if(n(i))return}(t,i,c,s),u):u},Rm=y.curry(Bm,Cm.Up,qo,Uo),Lm=y.curry(Bm,Cm.Down,Uo,qo),Fm=function(t){return function(e){return function(t,e){return e.line>t}(t,e)}},Hm=function(t){return function(e){return function(t,e){return e.line===t}(t,e)}},zm=kr.isContentEditableFalse,jm=rl,Wm=function(t,e){return Math.abs(t.left-e)},$m=function(t,e){return Math.abs(t.right-e)},qm=function(t,e){return t>=e.left&&t<=e.right},Um=function(t,e){return Ne.reduce(t,(function(t,n){var i,r;return i=Math.min(Wm(t,e),$m(t,e)),r=Math.min(Wm(n,e),$m(n,e)),qm(e,n)?n:qm(e,t)?t:r===i&&zm(n.node)?n:r<i?n:t}))},Vm=function(t,e,n,i){for(;i=jm(i,t,Ho,e);)if(n(i))return},Ym=function(t,e,n){var i,r=Mm(function(t){return Ne.filter(Ne.toArray(t.getElementsByTagName("*")),Ya)}(t)),o=Ne.filter(r,(function(t){return n>=t.top&&n<=t.bottom}));return(i=Um(o,e))&&(i=Um(function(t,e){var n=[],i=function(t,i){var r;return r=Ne.filter(Mm([i]),(function(n){return!t(n,e)})),n=n.concat(r),0===r.length};return n.push(e),Vm(Cm.Up,t,y.curry(i,qo),e.node),Vm(Cm.Down,t,y.curry(i,Uo),e.node),n}(t,i),e))&&Ya(i.node)?function(t,e){return{node:t.node,before:Wm(t,e)<$m(t,e)}}(i,e):null},Xm=function(t,e,n){return!n.collapsed&&z.foldl(n.getClientRects(),(function(n,i){return n||function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom}(i,t,e)}),!1)},Gm=function(t,e){var n=null;return{cancel:function(){null!==n&&(clearTimeout(n),n=null)},throttle:function(){var i=arguments;null===n&&(n=setTimeout((function(){t.apply(null,i),n=null,i=null}),e))}}},Km=function(t){var e=Gm((function(){if(!t.removed&&t.selection.getRng().collapsed){var e=qs(t,t.selection.getRng(),!1);t.selection.setRng(e)}}),0);t.on("focus",(function(){e.throttle()})),t.on("blur",(function(){e.cancel()}))},Jm={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(t){return t.shiftKey||t.ctrlKey||t.altKey||this.metaKeyPressed(t)},metaKeyPressed:function(t){return gt.mac?t.metaKey:t.ctrlKey&&!t.altKey}},Qm=kr.isContentEditableTrue,Zm=kr.isContentEditableFalse,tg=bl,eg=yl,ng=function(t,e){for(var n=t.getBody();e&&e!==n;){if(Qm(e)||Zm(e))return e;e=e.parentNode}return null},ig=function(t){var e,n,i=t.getBody(),r=Va(t.getBody(),(function(e){return t.dom.isBlock(e)}),(function(){return Dp(t)})),o="sel-"+t.dom.uniqueId(),s=function(e){e&&t.selection.setRng(e)},a=function(){return t.selection.getRng()},l=function(e,n,i,o){return void 0===o&&(o=!0),t.fire("ShowCaret",{target:n,direction:e,before:i}).isDefaultPrevented()?null:(o&&t.selection.scrollIntoView(n,-1===e),r.show(i,n))},u=function(t,e){return e=hl(t,i,e),-1===t?ws.fromRangeStart(e):ws.fromRangeEnd(e)},c=function(t){return wo(t)||To(t)||Eo(t)},f=function(t){return c(t.startContainer)||c(t.endContainer)},d=function(n,i){var r,s,a,c,d,h,m,g,v,y,b=t.$,x=t.dom;if(!n)return null;if(n.collapsed){if(!f(n))if(!1===i){if(g=u(-1,n),Ya(g.getNode(!0)))return l(-1,g.getNode(!0),!1,!1);if(Ya(g.getNode()))return l(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=u(1,n),Ya(g.getNode()))return l(1,g.getNode(),!g.isAtEnd(),!1);if(Ya(g.getNode(!0)))return l(1,g.getNode(!0),!1,!1)}return null}return c=n.startContainer,d=n.startOffset,h=n.endOffset,3===c.nodeType&&0===d&&Zm(c.parentNode)&&(c=c.parentNode,d=x.nodeIndex(c),c=c.parentNode),1!==c.nodeType?null:(h===d+1&&(r=c.childNodes[d]),Zm(r)?(v=y=r.cloneNode(!0),(m=t.fire("ObjectSelected",{target:r,targetClone:v})).isDefaultPrevented()?null:(s=pc(Mn.fromDom(t.getBody()),"#"+o).fold((function(){return b([])}),(function(t){return b([t.dom()])})),v=m.targetClone,0===s.length&&(s=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",o)).appendTo(t.getBody()),n=t.dom.createRng(),v===y&&gt.ie?(s.empty().append('<p style="font-size: 0" data-mce-bogus="all">Â </p>').append(v),n.setStartAfter(s[0].firstChild.firstChild),n.setEndAfter(v)):(s.empty().append("Â ").append(v).append("Â "),n.setStart(s[0].firstChild,1),n.setEnd(s[0].lastChild,0)),s.css({top:x.getPos(r,t.getBody()).y}),s[0].focus(),(a=t.selection.getSel()).removeAllRanges(),a.addRange(n),z.each(ia(Mn.fromDom(t.getBody()),"*[data-mce-selected]"),(function(t){ni.remove(t,"data-mce-selected")})),r.setAttribute("data-mce-selected","1"),e=r,p(),n)):null)},h=function(){e&&e.removeAttribute("data-mce-selected"),pc(Mn.fromDom(t.getBody()),"#"+o).each(Su.remove),e=null},p=function(){r.hide()};return gt.ceFalse&&(function(){t.on("mouseup",(function(e){var n=a();n.collapsed&&Bp(t,e.clientX,e.clientY)&&s($s(t,n,!1))})),t.on("click",(function(e){var n;(n=ng(t,e.target))&&(Zm(n)&&(e.preventDefault(),t.focus()),Qm(n)&&t.dom.isChildOf(n,t.selection.getNode())&&h())})),t.on("blur NewBlock",(function(){h()})),t.on("ResizeWindow FullscreenStateChanged",(function(){return r.reposition()}));var n=function(e,n){var i,r,o=t.dom.getParent(e,t.dom.isBlock),s=t.dom.getParent(n,t.dom.isBlock);return!(!o||!t.dom.isChildOf(o,s)||!1!==Zm(ng(t,o)))||o&&(i=o,r=s,!(t.dom.getParent(i,t.dom.isBlock)===t.dom.getParent(r,t.dom.isBlock)))&&function(t){var e=Ol(t);if(!t.firstChild)return!1;var n=ws.before(t.firstChild),i=e.next(n);return i&&!eg(i)&&!tg(i)}(o)};!function(t){var e=!1;t.on("touchstart",(function(){e=!1})),t.on("touchmove",(function(){e=!0})),t.on("touchend",(function(n){var i=ng(t,n.target);Zm(i)&&(e||(n.preventDefault(),d(Ws(t,i))))}))}(t),t.on("mousedown",(function(e){var r,o=e.target;if((o===i||"HTML"===o.nodeName||t.dom.isChildOf(o,i))&&!1!==Bp(t,e.clientX,e.clientY))if(r=ng(t,o))Zm(r)?(e.preventDefault(),d(Ws(t,r))):(h(),Qm(r)&&e.shiftKey||Xm(e.clientX,e.clientY,t.selection.getRng())||(p(),t.selection.placeCaretAt(e.clientX,e.clientY)));else if(!1===Ya(o)){h(),p();var a=Ym(i,e.clientX,e.clientY);if(a&&!n(e.target,a.node)){e.preventDefault();var u=l(1,a.node,a.before,!1);t.getBody().focus(),s(u)}}})),t.on("keypress",(function(e){Jm.modifierPressed(e)||(e.keyCode,Zm(t.selection.getNode())&&e.preventDefault())})),t.on("getSelectionRange",(function(t){var n=t.range;if(e){if(!e.parentNode)return void(e=null);(n=n.cloneRange()).selectNode(e),t.range=n}})),t.on("setSelectionRange",(function(t){var e;(e=d(t.range,t.forward))&&(t.range=e)})),t.on("AfterSetSelectionRange",(function(e){var n,i=e.range;f(i)||p(),n=i.startContainer.parentNode,t.dom.hasClass(n,"mce-offscreen-selection")||h()})),t.on("copy",(function(e){var n,i=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!gt.ie){var r=(n=t.dom.get(o))?n.getElementsByTagName("*")[0]:n;r&&(e.preventDefault(),i.clearData(),i.setData("text/html",r.outerHTML),i.setData("text/plain",r.outerText))}})),Im(t),Km(t)}(),(n=t.contentStyles).push(r.getCss()),n.push(".mce-content-body .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}.mce-content-body *[contentEditable=false] {cursor: default;}.mce-content-body *[contentEditable=true] {cursor: text;}")),{showCaret:l,showBlockCaretContainer:function(e){e.hasAttribute("data-mce-caret")&&(Do(e),s(a()),t.selection.scrollIntoView(e[0]))},hideFakeCaret:p,destroy:function(){r.destroy(),e=null}}},rg=function(t){return t.replace(/<!--|-->/g,"")},og=function(t,e,n){var i,r,o,s,a=1;for(s=t.getShortEndedElements(),(o=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g).lastIndex=i=n;r=o.exec(e);){if(i=o.lastIndex,"/"===r[1])a--;else if(!r[1]){if(r[2]in s)continue;a++}if(0===a)break}return i};function sg(t,e){void 0===e&&(e=Xr());var n=function(){};!1!==(t=t||{}).fix_self_closing&&(t.fix_self_closing=!0);var i=t.comment?t.comment:n,r=t.cdata?t.cdata:n,o=t.text?t.text:n,s=t.start?t.start:n,a=t.end?t.end:n,l=t.pi?t.pi:n,u=t.doctype?t.doctype:n;return{parse:function(n){var c,f,d,h,p,m,g,v,y,b,x,w,_,C,k,S,T,E,D,N,A,P,O,I,M,B,R,L,F,H=0,z=[],j=0,W=Fr.decode,$=Me.makeMap("src,href,data,background,formaction,poster,xlink:href"),q=/((java|vb)script|mhtml):/i,U=function(t){var e,n;for(e=z.length;e--&&z[e].name!==t;);if(e>=0){for(n=z.length-1;n>=e;n--)(t=z[n]).valid&&a(t.name);z.length=e}},V=function(e,n,i,r,o){var s,a;if(i=(n=n.toLowerCase())in x?n:W(i||r||o||""),_&&!v&&!1===function(t){return 0===t.indexOf("data-")||0===t.indexOf("aria-")}(n)){if(!(s=E[n])&&D){for(a=D.length;a--&&!(s=D[a]).pattern.test(n););-1===a&&(s=null)}if(!s)return;if(s.validValues&&!(i in s.validValues))return}if($[n]&&!t.allow_script_urls){var l=i.replace(/[\s\u0000-\u001F]+/g,"");try{l=decodeURIComponent(l)}catch(t){l=unescape(l)}if(q.test(l))return;if(function(t,e){return!t.allow_html_data_urls&&(/^data:image\//i.test(e)?!1===t.allow_svg_data_urls&&/^data:image\/svg\+xml/i.test(e):/^data:/i.test(e))}(t,l))return}v&&(n in $||0===n.indexOf("on"))||(h.map[n]=i,h.push({name:n,value:i}))};for(M=new RegExp("<(?:(?:!--([\\w\\W]*?)--\x3e)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),B=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=e.getShortEndedElements(),I=t.self_closing_elements||e.getSelfClosingElements(),x=e.getBoolAttrs(),_=t.validate,y=t.remove_internals,F=t.fix_self_closing,R=e.getSpecialElements(),O=n+">";c=M.exec(O);){if(H<c.index&&o(W(n.substr(H,c.index-H))),f=c[6])":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),U(f);else if(f=c[7]){if(c.index+c[0].length>n.length){o(W(n.substr(c.index))),H=c.index+c[0].length;continue}if(":"===(f=f.toLowerCase()).charAt(0)&&(f=f.substr(1)),w=f in b,F&&I[f]&&z.length>0&&z[z.length-1].name===f&&U(f),!_||(C=e.getElementRule(f))){if(k=!0,_&&(E=C.attributes,D=C.attributePatterns),(T=c[8])?((v=-1!==T.indexOf("data-mce-type"))&&y&&(k=!1),(h=[]).map={},T.replace(B,V)):(h=[]).map={},_&&!v){if(N=C.attributesRequired,A=C.attributesDefault,P=C.attributesForced,C.removeEmptyAttrs&&!h.length&&(k=!1),P)for(p=P.length;p--;)g=(S=P[p]).name,"{$uid}"===(L=S.value)&&(L="mce_"+j++),h.map[g]=L,h.push({name:g,value:L});if(A)for(p=A.length;p--;)(g=(S=A[p]).name)in h.map||("{$uid}"===(L=S.value)&&(L="mce_"+j++),h.map[g]=L,h.push({name:g,value:L}));if(N){for(p=N.length;p--&&!(N[p]in h.map););-1===p&&(k=!1)}if(S=h.map["data-mce-bogus"]){if("all"===S){H=og(e,n,M.lastIndex),M.lastIndex=H;continue}k=!1}}k&&s(f,h,w)}else k=!1;if(d=R[f]){d.lastIndex=H=c.index+c[0].length,(c=d.exec(n))?(k&&(m=n.substr(H,c.index-H)),H=c.index+c[0].length):(m=n.substr(H),H=n.length),k&&(m.length>0&&o(m,!0),a(f)),M.lastIndex=H;continue}w||(T&&T.indexOf("/")===T.length-1?k&&a(f):z.push({name:f,valid:k}))}else(f=c[1])?(">"===f.charAt(0)&&(f=" "+f),t.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),i(f)):(f=c[2])?r(rg(f)):(f=c[3])?u(f):(f=c[4])&&l(f,c[5]);H=c.index+c[0].length}for(H<n.length&&o(W(n.substr(H))),p=z.length-1;p>=0;p--)(f=z[p]).valid&&a(f.name)}}}!function(t){t.findEndTag=og}(sg||(sg={}));var ag=sg,lg=function(t,e){var n,i,r,o,s,a=e,l=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,u=t.schema;for(a=function(t,e){var n=new RegExp(["\\s?("+t.join("|")+')="[^"]+"'].join("|"),"gi");return e.replace(n,"")}(t.getTempAttrs(),a),s=u.getShortEndedElements();o=l.exec(a);)i=l.lastIndex,r=o[0].length,n=s[o[1]]?i:ag.findEndTag(u,a,i),a=a.substring(0,i-r)+a.substring(n),l.lastIndex=i-r;return go(a)},ug={trimExternal:lg,trimInternal:lg},cg=0,fg=2,dg=1,hg=function(t,e){var n=t.length+e.length+2,i=new Array(n),r=new Array(n),o=function(n,i,r,s,l){var u=a(n,i,r,s);if(null===u||u.start===i&&u.diag===i-s||u.end===n&&u.diag===n-r)for(var c=n,f=r;c<i||f<s;)c<i&&f<s&&t[c]===e[f]?(l.push([0,t[c]]),++c,++f):i-n>s-r?(l.push([2,t[c]]),++c):(l.push([1,e[f]]),++f);else{o(n,u.start,r,u.start-u.diag,l);for(var d=u.start;d<u.end;++d)l.push([0,t[d]]);o(u.end,i,u.end-u.diag,s,l)}},s=function(n,i,r,o){for(var s=n;s-i<o&&s<r&&t[s]===e[s-i];)++s;return function(t,e,n){return{start:t,end:e,diag:n}}(n,s,i)},a=function(n,o,a,l){var u=o-n,c=l-a;if(0===u||0===c)return null;var f,d,h,p,m,g=u-c,v=c+u,y=(v%2==0?v:v+1)/2;for(i[1+y]=n,r[1+y]=o+1,f=0;f<=y;++f){for(d=-f;d<=f;d+=2){for(h=d+y,d===-f||d!==f&&i[h-1]<i[h+1]?i[h]=i[h+1]:i[h]=i[h-1]+1,m=(p=i[h])-n+a-d;p<o&&m<l&&t[p]===e[m];)i[h]=++p,++m;if(g%2!=0&&g-f<=d&&d<=g+f&&r[h-g]<=i[h])return s(r[h-g],d+n-a,o,l)}for(d=g-f;d<=g+f;d+=2){for(h=d+y-g,d===g-f||d!==g+f&&r[h+1]<=r[h-1]?r[h]=r[h+1]-1:r[h]=r[h-1],m=(p=r[h]-1)-n+a-d;p>=n&&m>=a&&t[p]===e[m];)r[h]=p--,m--;if(g%2==0&&-f<=d&&d<=f&&r[h]<=i[h+g])return s(r[h],d+n-a,o,l)}}},l=[];return o(0,t.length,0,e.length,l),l},pg=function(t){return kr.isElement(t)?t.outerHTML:kr.isText(t)?Fr.encodeRaw(t.data,!1):kr.isComment(t)?"\x3c!--"+t.data+"--\x3e":""},mg=function(t,e,n){var i=function(t){var e,n,i;for(i=document.createElement("div"),e=document.createDocumentFragment(),t&&(i.innerHTML=t);n=i.firstChild;)e.appendChild(n);return e}(e);if(t.hasChildNodes()&&n<t.childNodes.length){var r=t.childNodes[n];r.parentNode.insertBefore(i,r)}else t.appendChild(i)},gg=function(t){return Ne.filter(Ne.map(t.childNodes,pg),(function(t){return t.length>0}))},vg=function(t,e){var n=Ne.map(e.childNodes,pg);return function(t,e){var n=0;Ne.each(t,(function(t){t[0]===cg?n++:t[0]===dg?(mg(e,t[1],n),n++):t[0]===fg&&function(t,e){if(t.hasChildNodes()&&e<t.childNodes.length){var n=t.childNodes[e];n.parentNode.removeChild(n)}}(e,n)}))}(hg(n,t),e),e},yg=function(t,e){var n=(e||document).createElement("div");return n.innerHTML=t,Li.children(Mn.fromDom(n))},bg=function(t){return t.dom().innerHTML},xg=bg,wg=function(t,e){var n=Li.owner(t).dom(),i=Mn.fromDom(n.createDocumentFragment()),r=yg(e,n);Cu(i,r),Su.empty(t),Aa.append(t,i)},_g=$a(k.none()),Cg=function(t){return{type:"fragmented",fragments:t,content:"",bookmark:null,beforeBookmark:null}},kg=function(t){return{type:"complete",fragments:null,content:t,bookmark:null,beforeBookmark:null}},Sg=function(t){return"fragmented"===t.type?t.fragments.join(""):t.content},Tg=function(t){var e=Mn.fromTag("body",_g.get().getOrThunk((function(){var t=document.implementation.createHTMLDocument("undo");return _g.set(k.some(t)),t})));return wg(e,Sg(t)),z.each(ia(e,"*[data-mce-bogus]"),Su.unwrap),xg(e)},Eg=function(t){var e,n,i;return e=gg(t.getBody()),-1!==(n=(i=z.bind(e,(function(e){var n=ug.trimInternal(t.serializer,e);return n.length>0?[n]:[]}))).join("")).indexOf("</iframe>")?Cg(i):kg(n)},Dg=function(t,e,n){"fragmented"===e.type?vg(e.fragments,t.getBody()):t.setContent(e.content,{format:"raw"}),t.selection.moveToBookmark(n?e.beforeBookmark:e.bookmark)},Ng=function(t,e){return!(!t||!e)&&(!!function(t,e){return Sg(t)===Sg(e)}(t,e)||function(t,e){return Tg(t)===Tg(e)}(t,e))};function Ag(t){var e,n,i=this,r=0,o=[],s=0,a=function(){return 0===s},l=function(t){a()&&(i.typing=t)},u=function(e){t.setDirty(e)},c=function(t){l(!1),i.add({},t)},f=function(){i.typing&&(l(!1),i.add())};return t.on("init",(function(){i.add()})),t.on("BeforeExecCommand",(function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&(f(),i.beforeChange())})),t.on("ExecCommand",(function(t){var e=t.command;"Undo"!==e&&"Redo"!==e&&"mceRepaint"!==e&&c(t)})),t.on("ObjectResizeStart Cut",(function(){i.beforeChange()})),t.on("SaveContent ObjectResized blur",c),t.on("DragEnd",c),t.on("KeyUp",(function(e){var r=e.keyCode;e.isDefaultPrevented()||((r>=33&&r<=36||r>=37&&r<=40||45===r||e.ctrlKey)&&(c(),t.nodeChanged()),46!==r&&8!==r||t.nodeChanged(),n&&i.typing&&!1===Ng(Eg(t),o[0])&&(!1===t.isDirty()&&(u(!0),t.fire("change",{level:o[0],lastLevel:null})),t.fire("TypingUndo"),n=!1,t.nodeChanged()))})),t.on("KeyDown",(function(t){var e=t.keyCode;if(!t.isDefaultPrevented())if(e>=33&&e<=36||e>=37&&e<=40||45===e)i.typing&&c(t);else{var r=t.ctrlKey&&!t.altKey||t.metaKey;!(e<16||e>20)||224===e||91===e||i.typing||r||(i.beforeChange(),l(!0),i.add({},t),n=!0)}})),t.on("MouseDown",(function(t){i.typing&&c(t)})),t.on("input",(function(t){t.inputType&&("insertReplacementText"===t.inputType||function(t){return"insertText"===t.inputType&&null===t.data}(t))&&c(t)})),t.addShortcut("meta+z","","Undo"),t.addShortcut("meta+y,meta+shift+z","","Redo"),t.on("AddUndo Undo Redo ClearUndos",(function(e){e.isDefaultPrevented()||t.nodeChanged()})),i={data:o,typing:!1,beforeChange:function(){a()&&(e=au.getUndoBookmark(t.selection))},add:function(n,i){var s,l,c,f=t.settings;if(c=Eg(t),n=n||{},n=Me.extend(n,c),!1===a()||t.removed)return null;if(l=o[r],t.fire("BeforeAddUndo",{level:n,lastLevel:l,originalEvent:i}).isDefaultPrevented())return null;if(l&&Ng(l,n))return null;if(o[r]&&(o[r].beforeBookmark=e),f.custom_undo_redo_levels&&o.length>f.custom_undo_redo_levels){for(s=0;s<o.length-1;s++)o[s]=o[s+1];o.length--,r=o.length}n.bookmark=au.getUndoBookmark(t.selection),r<o.length-1&&(o.length=r+1),o.push(n),r=o.length-1;var d={level:n,lastLevel:l,originalEvent:i};return t.fire("AddUndo",d),r>0&&(u(!0),t.fire("change",d)),n},undo:function(){var e;return i.typing&&(i.add(),i.typing=!1,l(!1)),r>0&&(e=o[--r],Dg(t,e,!0),u(!0),t.fire("undo",{level:e})),e},redo:function(){var e;return r<o.length-1&&(e=o[++r],Dg(t,e,!1),u(!0),t.fire("redo",{level:e})),e},clear:function(){o=[],r=0,i.typing=!1,i.data=o,t.fire("ClearUndos")},hasUndo:function(){return r>0||i.typing&&o[0]&&!Ng(Eg(t),o[0])},hasRedo:function(){return r<o.length-1&&!i.typing},transact:function(t){return f(),i.beforeChange(),i.ignore(t),i.add()},ignore:function(t){try{s++,t()}finally{s--}},extra:function(e,n){var s,a;i.transact(e)&&(a=o[r].bookmark,s=o[r-1],Dg(t,s,!0),i.transact(n)&&(o[r-1].beforeBookmark=a))}}}var Pg=function(t){return t&&/^(IMG)$/.test(t.nodeName)},Og=function(t){return t&&3===t.nodeType&&/^([\t \r\n]+|)$/.test(t.nodeValue)},Ig=function(t,e,n){return"color"!==n&&"backgroundColor"!==n||(e=t.toHex(e)),"fontWeight"===n&&700===e&&(e="bold"),"fontFamily"===n&&(e=e.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+e},Mg={isInlineBlock:Pg,moveStart:function(t,e,n){var i,r,o,s=n.startOffset,a=n.startContainer;if((n.startContainer!==n.endContainer||!Pg(n.startContainer.childNodes[n.startOffset]))&&1===a.nodeType)for(s<(o=a.childNodes).length?i=new Qi(a=o[s],t.getParent(a,t.isBlock)):(i=new Qi(a=o[o.length-1],t.getParent(a,t.isBlock))).next(!0),r=i.current();r;r=i.next())if(3===r.nodeType&&!Og(r))return n.setStart(r,0),void e.setRng(n)},getNonWhiteSpaceSibling:function(t,e,n){if(t)for(e=e?"nextSibling":"previousSibling",t=n?t:t[e];t;t=t[e])if(1===t.nodeType||!Og(t))return t},isTextBlock:function(t,e){return e.nodeType&&(e=e.nodeName),!!t.schema.getTextBlockElements()[e.toLowerCase()]},isValid:function(t,e,n){return t.schema.isValidChild(e,n)},isWhiteSpaceNode:Og,replaceVars:function(t,e){return"string"!=typeof t?t=t(e):e&&(t=t.replace(/%(\w+)/g,(function(t,n){return e[n]||t}))),t},isEq:function(t,e){return e=e||"",t=""+((t=t||"").nodeName||t),e=""+(e.nodeName||e),t.toLowerCase()===e.toLowerCase()},normalizeStyleValue:Ig,getStyle:function(t,e,n){return Ig(t,t.getStyle(e,n),n)},getTextDecoration:function(t,e){var n;return t.getParent(e,(function(e){return(n=t.getStyle(e,"text-decoration"))&&"none"!==n})),n},getParents:function(t,e,n){return t.getParents(e,n,t.getRoot())}},Bg=bu,Rg=Mg.getParents,Lg=Mg.isWhiteSpaceNode,Fg=Mg.isTextBlock,Hg=function(t,e){for(void 0===e&&(e=3===t.nodeType?t.length:t.childNodes.length);t&&t.hasChildNodes();)(t=t.childNodes[e])&&(e=3===t.nodeType?t.length:t.childNodes.length);return{node:t,offset:e}},zg=function(t){return"BR"===t.nodeName&&t.getAttribute("data-mce-bogus")&&!t.nextSibling},jg=function(t,e){for(var n=e;n;){if(1===n.nodeType&&t.getContentEditable(n))return"false"===t.getContentEditable(n)?n:e;n=n.parentNode}return e},Wg=function(t,e,n,i){var r,o,s=n.nodeValue;return void 0===i&&(i=t?s.length:0),t?-1===(r=(r=s.lastIndexOf(" ",i))>(o=s.lastIndexOf("Â ",i))?r:o)||e||r++:(r=s.indexOf(" ",i),o=s.indexOf("Â ",i),r=-1!==r&&(-1===o||r<o)?r:o),r},$g=function(t,e,n,i,r,o){var s,a,l,u;if(3===n.nodeType){if(-1!==(l=Wg(r,o,n,i)))return{container:n,offset:l};u=n}for(s=new Qi(n,t.getParent(n,t.isBlock)||e);a=s[r?"prev":"next"]();)if(3===a.nodeType){if(u=a,-1!==(l=Wg(r,o,a)))return{container:a,offset:l}}else if(t.isBlock(a))break;if(u)return{container:u,offset:i=r?0:u.length}},qg=function(t,e,n,i,r){var o,s,a,l;for(3===i.nodeType&&0===i.nodeValue.length&&i[r]&&(i=i[r]),o=Rg(t,i),s=0;s<o.length;s++)for(a=0;a<e.length;a++)if(!("collapsed"in(l=e[a])&&l.collapsed!==n.collapsed)&&t.is(o[s],l.selector))return o[s];return i},Ug=function(t,e,n,i){var r,o=t.dom,s=o.getRoot();if(e[0].wrapper||(r=o.getParent(n,e[0].block,s)),!r){var a=o.getParent(n,"LI,TD,TH");r=o.getParent(3===n.nodeType?n.parentNode:n,(function(e){return e!==s&&Fg(t,e)}),a)}if(r&&e[0].wrapper&&(r=Rg(o,r,"ul,ol").reverse()[0]||r),!r)for(r=n;r[i]&&!o.isBlock(r[i])&&(r=r[i],!Mg.isEq(r,"br")););return r||n},Vg=function(t,e,n,i,r,o,s){var a,l,u,c,f;if(a=l=s?n:r,c=s?"previousSibling":"nextSibling",f=t.getRoot(),3===a.nodeType&&!Lg(a)&&(s?i>0:o<a.nodeValue.length))return a;for(;;){if(!e[0].block_expand&&t.isBlock(l))return l;for(u=l[c];u;u=u[c])if(!Bg(u)&&!Lg(u)&&!zg(u))return l;if(l===f||l.parentNode===f){a=l;break}l=l.parentNode}return a},Yg=function(t,e,n,i){var r,o=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,u=t.dom;return 1===o.nodeType&&o.hasChildNodes()&&3===(o=Go(o,s)).nodeType&&(s=0),1===a.nodeType&&a.hasChildNodes()&&3===(a=Go(a,e.collapsed?l:l-1)).nodeType&&(l=a.nodeValue.length),o=jg(u,o),a=jg(u,a),(Bg(o.parentNode)||Bg(o))&&3===(o=(o=Bg(o)?o:o.parentNode).nextSibling||o).nodeType&&(s=0),(Bg(a.parentNode)||Bg(a))&&3===(a=(a=Bg(a)?a:a.parentNode).previousSibling||a).nodeType&&(l=a.length),n[0].inline&&(e.collapsed&&((r=$g(u,t.getBody(),o,s,!0,i))&&(o=r.container,s=r.offset),(r=$g(u,t.getBody(),a,l,!1,i))&&(a=r.container,l=r.offset)),a=i?a:function(t,e){var n=Hg(t,e);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Hg(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(t=n.node).splitText(n.offset-1)}return t}(a,l)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===o.nodeType&&0!==s||(o=Vg(u,n,o,s,a,l,!0)),n[0].inline&&3===a.nodeType&&l!==a.nodeValue.length||(a=Vg(u,n,o,s,a,l,!1))),n[0].selector&&!1!==n[0].expand&&!n[0].inline&&(o=qg(u,n,e,o,"previousSibling"),a=qg(u,n,e,a,"nextSibling")),(n[0].block||n[0].selector)&&(o=Ug(t,n,o,"previousSibling"),a=Ug(t,n,a,"nextSibling"),n[0].block&&(u.isBlock(o)||(o=Vg(u,n,o,s,a,l,!0)),u.isBlock(a)||(a=Vg(u,n,o,s,a,l,!1)))),1===o.nodeType&&(s=u.nodeIndex(o),o=o.parentNode),1===a.nodeType&&(l=u.nodeIndex(a)+1,a=a.parentNode),{startContainer:o,startOffset:s,endContainer:a,endOffset:l}},Xg=Mg.isEq,Gg=function(t,e,n){var i=t.formatter.get(n);if(i)for(var r=0;r<i.length;r++)if(!1===i[r].inherit&&t.dom.is(e,i[r].selector))return!0;return!1},Kg=function(t,e,n,i){var r=t.dom.getRoot();return e!==r&&(e=t.dom.getParent(e,(function(e){return!!Gg(t,e,n)||e.parentNode===r||!!Zg(t,e,n,i,!0)})),Zg(t,e,n,i))},Jg=function(t,e,n){return!!Xg(e,n.inline)||!!Xg(e,n.block)||(n.selector?1===e.nodeType&&t.is(e,n.selector):void 0)},Qg=function(t,e,n,i,r,o){var s,a,l,u=n[i];if(n.onmatch)return n.onmatch(e,n,i);if(u)if(void 0===u.length){for(s in u)if(u.hasOwnProperty(s)){if(a="attributes"===i?t.getAttrib(e,s):Mg.getStyle(t,e,s),r&&!a&&!n.exact)return;if((!r||n.exact)&&!Xg(a,Mg.normalizeStyleValue(t,Mg.replaceVars(u[s],o),s)))return}}else for(l=0;l<u.length;l++)if("attributes"===i?t.getAttrib(e,u[l]):Mg.getStyle(t,e,u[l]))return n;return n},Zg=function(t,e,n,i,r){var o,s,a,l,u=t.formatter.get(n),c=t.dom;if(u&&e)for(s=0;s<u.length;s++)if(o=u[s],Jg(t.dom,e,o)&&Qg(c,e,o,"attributes",r,i)&&Qg(c,e,o,"styles",r,i)){if(l=o.classes)for(a=0;a<l.length;a++)if(!t.dom.hasClass(e,l[a]))return;return o}},tv={matchNode:Zg,matchName:Jg,match:function(t,e,n,i){var r;return i?Kg(t,i,e,n):(i=t.selection.getNode(),!!Kg(t,i,e,n)||!((r=t.selection.getStart())===i||!Kg(t,r,e,n)))},matchAll:function(t,e,n){var i,r=[],o={};return i=t.selection.getStart(),t.dom.getParent(i,(function(i){var s,a;for(s=0;s<e.length;s++)a=e[s],!o[a]&&Zg(t,i,a,n)&&(o[a]=!0,r.push(a))}),t.dom.getRoot()),r},canApply:function(t,e){var n,i,r,o,s,a=t.formatter.get(e),l=t.dom;if(a)for(n=t.selection.getStart(),i=Mg.getParents(l,n),o=a.length-1;o>=0;o--){if(!(s=a[o].selector)||a[o].defaultBlock)return!0;for(r=i.length-1;r>=0;r--)if(l.is(i[r],s))return!0}return!1},matchesUnInheritedFormatSelector:Gg},ev=function(t,e){return t.splitText(e)},nv=function(t){var e=t.startContainer,n=t.startOffset,i=t.endContainer,r=t.endOffset;return e===i&&kr.isText(e)?n>0&&n<e.nodeValue.length&&(e=(i=ev(e,n)).previousSibling,r>n?(e=i=ev(i,r-=n).previousSibling,r=i.nodeValue.length,n=0):r=0):(kr.isText(e)&&n>0&&n<e.nodeValue.length&&(e=ev(e,n),n=0),kr.isText(i)&&r>0&&r<i.nodeValue.length&&(r=(i=ev(i,r).previousSibling).nodeValue.length)),{startContainer:e,startOffset:n,endContainer:i,endOffset:r}},iv=mo,rv=function(t){return function(t){for(var e=[];t;){if(3===t.nodeType&&t.nodeValue!==iv||t.childNodes.length>1)return[];1===t.nodeType&&e.push(t),t=t.firstChild}return e}(t).length>0},ov=function(t){var e;if(t)for(t=(e=new Qi(t,t)).current();t;t=e.next())if(3===t.nodeType)return t;return null},sv=function(t){var e=Mn.fromTag("span");return ni.setAll(e,{id:"_mce_caret","data-mce-bogus":"1","data-mce-type":"format-caret"}),t&&Aa.append(e,Mn.fromText(iv)),e},av=function(t,e,n,i){var r,o,s;r=e.getRng(!0),o=t.getParent(n,t.isBlock),rv(n)?(!1!==i&&(r.setStartBefore(n),r.setEndBefore(n)),t.remove(n)):(s=function(t){var e=ov(t);return e&&e.nodeValue.charAt(0)===iv&&e.deleteData(0,1),e}(n),r.startContainer===s&&r.startOffset>0&&r.setStart(s,r.startOffset-1),r.endContainer===s&&r.endOffset>0&&r.setEnd(s,r.endOffset-1),t.remove(n,!0)),o&&t.isEmpty(o)&&Nu(Mn.fromDom(o)),e.setRng(r)},lv=function(t,e,n,i,r){if(i)av(e,n,i,r);else if(!(i=uu(t,n.getStart())))for(;i=e.get("_mce_caret");)av(e,n,i,!1)},uv=function(t,e,n){var i=t.dom,r=i.getParent(n,ts.curry(Mg.isTextBlock,t));r&&i.isEmpty(r)?n.parentNode.replaceChild(e,n):(Du(Mn.fromDom(n)),i.isEmpty(n)?n.parentNode.replaceChild(e,n):i.insertAfter(e,n))},cv=function(t,e){return t.appendChild(e),e},fv=function(t,e){var n=z.foldr(t,(function(t,e){return cv(t,e.cloneNode(!1))}),e);return cv(n,n.ownerDocument.createTextNode(iv))},dv=function(t){var e=t.dom,n=t.selection,i=t.getBody();t.on("mouseup keydown",(function(t){!function(t,e,n,i){lv(t,e,n,null,!1),8===i&&n.isCollapsed()&&n.getStart().innerHTML===iv&&lv(t,e,n,uu(t,n.getStart())),37!==i&&39!==i||lv(t,e,n,uu(t,n.getStart()))}(i,e,n,t.keyCode)}))},hv=function(t,e){return t.schema.getTextInlineElements().hasOwnProperty(Un.name(e))&&!lu(e.dom())&&!kr.isBogus(e.dom())},pv={},mv=Ne.filter,gv=Ne.each;!function(t,e){var n=pv[t];n||(pv[t]=n=[]),pv[t].push(e)}("pre",(function(t){var e,n,i=t.selection.getRng();e=kr.matchNodeNames("pre"),i.collapsed||(n=t.selection.getSelectedBlocks(),gv(mv(mv(n,e),(function(t){return e(t.previousSibling)&&-1!==Ne.indexOf(n,t.previousSibling)})),(function(t){var e,n;e=t.previousSibling,Ze(n=t).remove(),Ze(e).append("<br><br>").append(n.childNodes)})))}));var vv=function(t,e){gv(pv[t],(function(t){t(e)}))},yv=Me.each,bv=function(t,e,n){var i,r,o,s,a,l,u,c=e.startContainer,f=e.startOffset,d=e.endContainer,h=e.endOffset;if((u=t.select("td[data-mce-selected],th[data-mce-selected]")).length>0)yv(u,(function(t){n([t])}));else{var p,m,g,v=function(t){var e;return 3===(e=t[0]).nodeType&&e===c&&f>=e.nodeValue.length&&t.splice(0,1),e=t[t.length-1],0===h&&t.length>0&&e===d&&3===e.nodeType&&t.splice(t.length-1,1),t},y=function(t,e,n){for(var i=[];t&&t!==n;t=t[e])i.push(t);return i},b=function(t,e){do{if(t.parentNode===e)return t;t=t.parentNode}while(t)},x=function(t,e,i){var r=i?"nextSibling":"previousSibling";for(a=(s=t).parentNode;s&&s!==e;s=a)a=s.parentNode,(l=y(s===t?s:s[r],r)).length&&(i||l.reverse(),n(v(l)))};if(1===c.nodeType&&c.hasChildNodes()&&(c=c.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(m=h,g=(p=d).childNodes,--m>g.length-1?m=g.length-1:m<0&&(m=0),d=g[m]||p),c===d)return n(v([c]));for(i=t.findCommonAncestor(c,d),s=c;s;s=s.parentNode){if(s===d)return x(c,i,!0);if(s===i)break}for(s=d;s;s=s.parentNode){if(s===c)return x(d,i);if(s===i)break}r=b(c,i)||c,o=b(d,i)||d,x(c,r,!0),(l=y(r===c?r:r.nextSibling,"nextSibling",o===d?o.nextSibling:o)).length&&n(v(l)),x(d,o)}},xv=/^(src|href|style)$/,wv=Me.each,_v=Mg.isEq,Cv=function(t){return/^(TH|TD)$/.test(t.nodeName)},kv=function(t,e,n){var i,r,o;return i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],kr.isElement(i)&&(o=i.childNodes.length-1,!n&&r&&r--,i=i.childNodes[r>o?o:r]),kr.isText(i)&&n&&r>=i.nodeValue.length&&(i=new Qi(i,t.getBody()).next()||i),kr.isText(i)&&!n&&0===r&&(i=new Qi(i,t.getBody()).prev()||i),i},Sv=function(t,e,n,i){var r=t.create(n,i);return e.parentNode.insertBefore(r,e),r.appendChild(e),r},Tv=function(t,e,n,i){return!(e=Mg.getNonWhiteSpaceSibling(e,n,i))||"BR"===e.nodeName||t.isBlock(e)},Ev=function(t,e,n,i,r){var o,s,a,l=t.dom;if(!function(t,e,n){return!!_v(e,n.inline)||!!_v(e,n.block)||(n.selector?kr.isElement(e)&&t.is(e,n.selector):void 0)}(l,i,e)&&!function(t,e){return e.links&&"A"===t.tagName}(i,e))return!1;if("all"!==e.remove)for(wv(e.styles,(function(t,o){t=Mg.normalizeStyleValue(l,Mg.replaceVars(t,n),o),"number"==typeof o&&(o=t,r=0),(e.remove_similar||!r||_v(Mg.getStyle(l,r,o),t))&&l.setStyle(i,o,""),a=1})),a&&""===l.getAttrib(i,"style")&&(i.removeAttribute("style"),i.removeAttribute("data-mce-style")),wv(e.attributes,(function(t,e){var o;if(t=Mg.replaceVars(t,n),"number"==typeof e&&(e=t,r=0),!r||_v(l.getAttrib(r,e),t)){if("class"===e&&(t=l.getAttrib(i,e))&&(o="",wv(t.split(/\s+/),(function(t){/mce\-\w+/.test(t)&&(o+=(o?" ":"")+t)})),o))return void l.setAttrib(i,e,o);"class"===e&&i.removeAttribute("className"),xv.test(e)&&i.removeAttribute("data-mce-"+e),i.removeAttribute(e)}})),wv(e.classes,(function(t){t=Mg.replaceVars(t,n),r&&!l.hasClass(r,t)||l.removeClass(i,t)})),s=l.getAttribs(i),o=0;o<s.length;o++){var u=s[o].nodeName;if(0!==u.indexOf("_")&&0!==u.indexOf("data-"))return!1}return"none"!==e.remove?(function(t,e,n){var i,r=e.parentNode,o=t.dom,s=t.settings.forced_root_block;n.block&&(s?r===o.getRoot()&&(n.list_block&&_v(e,n.list_block)||wv(Me.grep(e.childNodes),(function(e){Mg.isValid(t,s,e.nodeName.toLowerCase())?i?i.appendChild(e):(i=Sv(o,e,s),o.setAttribs(i,t.settings.forced_root_block_attrs)):i=0}))):o.isBlock(e)&&!o.isBlock(r)&&(Tv(o,e,!1)||Tv(o,e.firstChild,!0,1)||e.insertBefore(o.create("br"),e.firstChild),Tv(o,e,!0)||Tv(o,e.lastChild,!1,1)||e.appendChild(o.create("br")))),n.selector&&n.inline&&!_v(n.inline,e)||o.remove(e,1)}(t,i,e),!0):void 0},Dv=Ev,Nv=function(t,e,n,i,r){var o,s,a=t.formatter.get(e),l=a[0],u=!0,c=t.dom,f=t.selection,d=function(i){var o=function(t,e,n,i,r){var o;return wv(Mg.getParents(t.dom,e.parentNode).reverse(),(function(e){var s;o||"_start"===e.id||"_end"===e.id||(s=tv.matchNode(t,e,n,i,r))&&!1!==s.split&&(o=e)})),o}(t,i,e,n,r);return function(t,e,n,i,r,o,s,a){var l,u,c,f,d,h,p=t.dom;if(n){for(h=n.parentNode,l=i.parentNode;l&&l!==h;l=l.parentNode){for(u=p.clone(l,!1),d=0;d<e.length;d++)if(Ev(t,e[d],a,u,u)){u=0;break}u&&(c&&u.appendChild(c),f||(f=u),c=u)}!o||s.mixed&&p.isBlock(n)||(i=p.split(n,i)),c&&(r.parentNode.insertBefore(c,r),f.appendChild(r))}return i}(t,a,o,i,i,!0,l,n)},h=function(e){var i,r,o,s,f;if(kr.isElement(e)&&c.getContentEditable(e)&&(s=u,u="true"===c.getContentEditable(e),f=!0),i=Me.grep(e.childNodes),u&&!f)for(r=0,o=a.length;r<o&&!Ev(t,a[r],n,e,e);r++);if(l.deep&&i.length){for(r=0,o=i.length;r<o;r++)h(i[r]);f&&(u=s)}},p=function(t){var e=c.get(t?"_start":"_end"),n=e[t?"firstChild":"lastChild"];return bu(n)&&(n=n[t?"firstChild":"lastChild"]),kr.isText(n)&&0===n.data.length&&(n=t?e.previousSibling||e.nextSibling:e.nextSibling||e.previousSibling),c.remove(e,!0),n},m=function(e){var n,i,r=e.commonAncestorContainer;if(e=Yg(t,e,a,!0),l.split){if((n=kv(t,e,!0))!==(i=kv(t,e))){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),r&&/^T(HEAD|BODY|FOOT|R)$/.test(r.nodeName)&&Cv(i)&&i.firstChild&&(i=i.firstChild||i),c.isChildOf(n,i)&&n!==i&&!c.isBlock(i)&&!Cv(n)&&!Cv(i))return n=Sv(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),d(n),void(n=p(!0));n=Sv(c,n,"span",{id:"_start","data-mce-type":"bookmark"}),i=Sv(c,i,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(i),n=p(!0),i=p()}else n=i=d(n);e.startContainer=n.parentNode?n.parentNode:n,e.startOffset=c.nodeIndex(n),e.endContainer=i.parentNode?i.parentNode:i,e.endOffset=c.nodeIndex(i)+1}bv(c,e,(function(e){wv(e,(function(e){h(e),kr.isElement(e)&&"underline"===t.dom.getStyle(e,"text-decoration")&&e.parentNode&&"underline"===Mg.getTextDecoration(c,e.parentNode)&&Ev(t,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,e)}))}))};if(i)i.nodeType?((s=c.createRng()).setStartBefore(i),s.setEndAfter(i),m(s)):m(i);else if("false"!==c.getContentEditable(f.getNode()))f.isCollapsed()&&l.inline&&!c.select("td[data-mce-selected],th[data-mce-selected]").length?function(t,e,n,i){var r,o,s,a,l,u,c,f=t.dom,d=t.selection,h=[],p=d.getRng();for(r=p.startContainer,o=p.startOffset,l=r,3===r.nodeType&&(o!==r.nodeValue.length&&(a=!0),l=l.parentNode);l;){if(tv.matchNode(t,l,e,n,i)){u=l;break}l.nextSibling&&(a=!0),h.push(l),l=l.parentNode}if(u)if(a){s=d.getBookmark(),p.collapse(!0);var m=Yg(t,p,t.formatter.get(e),!0);m=nv(m),t.formatter.remove(e,n,m),d.moveToBookmark(s)}else{c=uu(t.getBody(),u);var g=sv(!1).dom(),v=fv(h,g);uv(t,g,c||u),av(f,d,c,!1),d.setCursorLocation(v,1),f.isEmpty(u)&&f.remove(u)}}(t,e,n,r):(o=au.getPersistentBookmark(t.selection,!0),m(f.getRng()),f.moveToBookmark(o),l.inline&&tv.match(t,e,n,f.getStart())&&Mg.moveStart(c,f,f.getRng()),t.nodeChanged());else{i=f.getNode();for(var g=0,v=a.length;g<v&&(!a[g].ceFalseOverride||!Ev(t,a[g],n,i,i));g++);}},Av=Me.each,Pv=function(t){return t&&1===t.nodeType&&!bu(t)&&!lu(t)&&!kr.isBogus(t)},Ov=function(t,e){var n;for(n=t;n;n=n[e]){if(3===n.nodeType&&0!==n.nodeValue.length)return t;if(1===n.nodeType&&!bu(n))return n}return t},Iv=function(t,e,n){var i,r,o=new wu(t);if(e&&n&&(e=Ov(e,"previousSibling"),n=Ov(n,"nextSibling"),o.compare(e,n))){for(i=e.nextSibling;i&&i!==n;)r=i,i=i.nextSibling,e.appendChild(r);return t.remove(n),Me.each(Me.grep(n.childNodes),(function(t){e.appendChild(t)})),e}return n},Mv=function(t,e,n){Av(t.childNodes,(function(t){Pv(t)&&(e(t)&&n(t),t.hasChildNodes()&&Mv(t,e,n))}))},Bv=function(t,e){return y.curry((function(e,n){return!(!n||!Mg.getStyle(t,n,e))}),e)},Rv=function(t,e,n){return y.curry((function(e,n,i){t.setStyle(i,e,n),""===i.getAttribute("style")&&i.removeAttribute("style"),Lv(t,i)}),e,n)},Lv=function(t,e){"SPAN"===e.nodeName&&0===t.getAttribs(e).length&&t.remove(e,!0)},Fv=function(t,e){var n;1===e.nodeType&&e.parentNode&&1===e.parentNode.nodeType&&(n=Mg.getTextDecoration(t,e.parentNode),t.getStyle(e,"color")&&n?t.setStyle(e,"text-decoration",n):t.getStyle(e,"text-decoration")===n&&t.setStyle(e,"text-decoration",null))},Hv=function(t,e,n,i){Av(e,(function(e){Av(t.dom.select(e.inline,i),(function(i){Pv(i)&&Dv(t,e,n,i,e.exact?i:null)})),function(t,e,n){if(e.clear_child_styles){var i=e.links?"*:not(a)":"*";Av(t.select(i,n),(function(n){Pv(n)&&Av(e.styles,(function(e,i){t.setStyle(n,i,"")}))}))}}(t.dom,e,i)}))},zv=function(t,e,n,i){(e.styles.color||e.styles.textDecoration)&&(Me.walk(i,y.curry(Fv,t),"childNodes"),Fv(t,i))},jv=function(t,e,n,i){e.styles&&e.styles.backgroundColor&&Mv(i,Bv(t,"fontSize"),Rv(t,"backgroundColor",Mg.replaceVars(e.styles.backgroundColor,n)))},Wv=function(t,e,n,i){"sub"!==e.inline&&"sup"!==e.inline||(Mv(i,Bv(t,"fontSize"),Rv(t,"fontSize","")),t.remove(t.select("sup"===e.inline?"sub":"sup",i),!0))},$v=function(t,e,n,i){i&&!1!==e.merge_siblings&&(i=Iv(t,Mg.getNonWhiteSpaceSibling(i),i),i=Iv(t,i,Mg.getNonWhiteSpaceSibling(i,!0)))},qv=function(t,e,n,i,r){tv.matchNode(t,r.parentNode,n,i)&&Dv(t,e,i,r)||e.merge_with_parents&&t.dom.getParent(r.parentNode,(function(o){if(tv.matchNode(t,o,n,i))return Dv(t,e,i,r),!0}))},Uv=Me.each,Vv=function(t,e,n,i){var r,o,s=t.formatter.get(e),a=s[0],l=!i&&t.selection.isCollapsed(),u=t.dom,c=t.selection,f=function(t,e){if(e=e||a,t){if(e.onformat&&e.onformat(t,e,n,i),Uv(e.styles,(function(e,i){u.setStyle(t,i,Mg.replaceVars(e,n))})),e.styles){var r=u.getAttrib(t,"style");r&&t.setAttribute("data-mce-style",r)}Uv(e.attributes,(function(e,i){u.setAttrib(t,i,Mg.replaceVars(e,n))})),Uv(e.classes,(function(e){e=Mg.replaceVars(e,n),u.hasClass(t,e)||u.addClass(t,e)}))}},d=function(t,e){var n=!1;return!!a.selector&&(Uv(t,(function(t){if(!("collapsed"in t&&t.collapsed!==l))return u.is(e,t.selector)&&!lu(e)?(f(e,t),n=!0,!1):void 0})),n)},h=function(i,r,o,l){var u,c,h=[],p=!0;u=a.inline||a.block,c=i.create(u),f(c),bv(i,r,(function(r){var o,m=function(r){var g,v,y,b;if(b=p,g=r.nodeName.toLowerCase(),v=r.parentNode.nodeName.toLowerCase(),1===r.nodeType&&i.getContentEditable(r)&&(b=p,p="true"===i.getContentEditable(r),y=!0),Mg.isEq(g,"br"))return o=0,void(a.block&&i.remove(r));if(a.wrapper&&tv.matchNode(t,r,e,n))o=0;else{if(p&&!y&&a.block&&!a.wrapper&&Mg.isTextBlock(t,g)&&Mg.isValid(t,v,u))return r=i.rename(r,u),f(r),h.push(r),void(o=0);if(a.selector){var x=d(s,r);if(!a.inline||x)return void(o=0)}!p||y||!Mg.isValid(t,u,g)||!Mg.isValid(t,v,u)||!l&&3===r.nodeType&&1===r.nodeValue.length&&65279===r.nodeValue.charCodeAt(0)||lu(r)||a.inline&&i.isBlock(r)?(o=0,Uv(Me.grep(r.childNodes),m),y&&(p=b),o=0):(o||(o=i.clone(c,!1),r.parentNode.insertBefore(o,r),h.push(o)),o.appendChild(r))}};Uv(r,m)})),!0===a.links&&Uv(h,(function(t){var e=function(t){"A"===t.nodeName&&f(t,a),Uv(Me.grep(t.childNodes),e)};e(t)})),Uv(h,(function(r){var o,l=function(t){var e=!1;return Uv(t.childNodes,(function(t){if(function(t){return t&&1===t.nodeType&&!bu(t)&&!lu(t)&&!kr.isBogus(t)}(t))return e=t,!1})),e};o=function(t){var e=0;return Uv(t.childNodes,(function(t){Mg.isWhiteSpaceNode(t)||bu(t)||e++})),e}(r),!(h.length>1)&&i.isBlock(r)||0!==o?(a.inline||a.wrapper)&&(a.exact||1!==o||(r=function(t){var e,n;return(e=l(t))&&!bu(e)&&tv.matchName(i,e,a)&&(n=i.clone(e,!1),f(n),i.replace(n,t,!0),i.remove(e,1)),n||t}(r)),Hv(t,s,n,r),qv(t,a,e,n,r),jv(i,a,n,r),Wv(i,a,n,r),$v(i,a,n,r)):i.remove(r,1)}))};if("false"!==u.getContentEditable(c.getNode())){if(a){if(i)i.nodeType?d(s,i)||((o=u.createRng()).setStartBefore(i),o.setEndAfter(i),h(u,Yg(t,o,s),0,!0)):h(u,i,0,!0);else if(l&&a.inline&&!u.select("td[data-mce-selected],th[data-mce-selected]").length)!function(t,e,n){var i,r,o,s,a,l,u=t.selection;s=(i=u.getRng(!0)).startOffset,l=i.startContainer.nodeValue,(r=uu(t.getBody(),u.getStart()))&&(o=ov(r));var c=/[^\s\u00a0\u00ad\u200b\ufeff]/;l&&s>0&&s<l.length&&c.test(l.charAt(s))&&c.test(l.charAt(s-1))?(a=u.getBookmark(),i.collapse(!0),i=Yg(t,i,t.formatter.get(e)),i=nv(i),t.formatter.apply(e,n,i),u.moveToBookmark(a)):(r&&o.nodeValue===iv?t.formatter.apply(e,n,r):(o=(r=function(t,e){return t.importNode(e,!0)}(t.getDoc(),sv(!0).dom())).firstChild,i.insertNode(r),s=1,t.formatter.apply(e,n,r)),u.setCursorLocation(o,s))}(t,e,n);else{var p=t.selection.getNode();t.settings.forced_root_block||!s[0].defaultBlock||u.getParent(p,u.isBlock)||Vv(t,s[0].defaultBlock),t.selection.setRng(Bu(t.selection.getRng())),r=au.getPersistentBookmark(t.selection,!0),h(u,Yg(t,c.getRng(),s)),a.styles&&zv(u,a,n,p),c.moveToBookmark(r),Mg.moveStart(u,c,c.getRng()),t.nodeChanged()}vv(e,t)}}else{i=c.getNode();for(var m=0,g=s.length;m<g;m++)if(s[m].ceFalseOverride&&u.is(i,s[m].selector))return void f(i,s[m])}},Yv={applyFormat:Vv},Xv=Me.each,Gv=function(t,e,n,i,r){null===e.get()&&function(t,e){var n={};t.set({}),e.on("NodeChange",(function(i){var r=Mg.getParents(e.dom,i.element),o={};r=Me.grep(r,(function(t){return 1===t.nodeType&&!t.getAttribute("data-mce-bogus")})),Xv(t.get(),(function(t,i){Xv(r,(function(s){return e.formatter.matchNode(s,i,{},t.similar)?(n[i]||(Xv(t,(function(t){t(!0,{node:s,format:i,parents:r})})),n[i]=t),o[i]=t,!1):!tv.matchesUnInheritedFormatSelector(e,s,i)&&void 0}))})),Xv(n,(function(t,e){o[e]||(delete n[e],Xv(t,(function(t){t(!1,{node:i.element,format:e,parents:r})})))}))}))}(e,t),function(t,e,n,i){var r=t.get();Xv(e.split(","),(function(t){r[t]||(r[t]=[],r[t].similar=i),r[t].push(n)})),t.set(r)}(e,n,i,r)},Kv=function(t){var e={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(e,n,i){Me.each(i,(function(n,i){t.setAttrib(e,i,n)}))}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Me.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),(function(t){e[t]={block:t,remove:"all"}})),e},Jv=Me.each,Qv=oo.DOM,Zv=function(t,e){var n,i,r,o=e&&e.schema||Xr({}),s=function(t){var e;return i="string"==typeof t?{name:t,classes:[],attrs:{}}:t,function(t,e){e.classes.length&&Qv.addClass(t,e.classes.join(" ")),Qv.setAttribs(t,e.attrs)}(e=Qv.create(i.name),i),e},a=function(t,e,n){var i,r,l,u=e.length>0&&e[0],c=u&&u.name;if(l=function(t,e){var n="string"!=typeof t?t.nodeName.toLowerCase():t,i=o.getElementRule(n),r=i&&i.parentsRequired;return!(!r||!r.length)&&(e&&-1!==Me.inArray(r,e)?e:r[0])}(t,c))c===l?(r=e[0],e=e.slice(1)):r=l;else if(u)r=e[0],e=e.slice(1);else if(!n)return t;return r&&(i=s(r)).appendChild(t),n&&(i||(i=Qv.create("div")).appendChild(t),Me.each(n,(function(e){var n=s(e);i.insertBefore(n,t)}))),a(i,e,r&&r.siblings)};return t&&t.length?(i=t[0],n=s(i),(r=Qv.create("div")).appendChild(a(n,t.slice(1),i.siblings)),r):""},ty=function(t){var e,n={classes:[],attrs:{}};return"*"!==(t=n.selector=Me.trim(t))&&(e=t.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,(function(t,e,i,r,o){switch(e){case"#":n.attrs.id=i;break;case".":n.classes.push(i);break;case":":-1!==Me.inArray("checked disabled enabled read-only required".split(" "),i)&&(n.attrs[i]=i)}if("["===r){var s=o.match(/([\w\-]+)(?:\=\"([^\"]+))?/);s&&(n.attrs[s[1]]=s[2])}return""}))),n.name=e||"div",n},ey=function(t){return t&&"string"==typeof t?(t=(t=t.split(/\s*,\s*/)[0]).replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Me.map(t.split(/(?:>|\s+(?![^\[\]]+\]))/),(function(t){var e=Me.map(t.split(/(?:~\+|~|\+)/),ty),n=e.pop();return e.length&&(n.siblings=e),n})).reverse()):[]},ny=function(t,e){var n,i,r,o,s,a,l="";if(!1===(a=t.settings.preview_styles))return"";"string"!=typeof a&&(a="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var u=function(t){return t.replace(/%(\w+)/g,"")};if("string"==typeof e){if(!(e=t.formatter.get(e)))return;e=e[0]}return"preview"in e&&!1===(a=e.preview)?"":(n=e.block||e.inline||"span",(o=ey(e.selector)).length?(o[0].name||(o[0].name=n),n=e.selector,i=Zv(o,t)):i=Zv([n],t),r=Qv.select(n,i)[0]||i.firstChild,Jv(e.styles,(function(t,e){(t=u(t))&&Qv.setStyle(r,e,t)})),Jv(e.attributes,(function(t,e){(t=u(t))&&Qv.setAttrib(r,e,t)})),Jv(e.classes,(function(t){t=u(t),Qv.hasClass(r,t)||Qv.addClass(r,t)})),t.fire("PreviewFormats"),Qv.setStyles(i,{position:"absolute",left:-65535}),t.getBody().appendChild(i),s=Qv.getStyle(t.getBody(),"fontSize",!0),s=/px$/.test(s)?parseInt(s,10):0,Jv(a.split(" "),(function(e){var n=Qv.getStyle(r,e,!0);if(!("background-color"===e&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Qv.getStyle(t.getBody(),e,!0),"#ffffff"===Qv.toHex(n).toLowerCase())||"color"===e&&"#000000"===Qv.toHex(n).toLowerCase())){if("font-size"===e&&/em|%$/.test(n)){if(0===s)return;n=parseFloat(n)/(/%$/.test(n)?100:1)*s+"px"}"border"===e&&n&&(l+="padding:0 2px;"),l+=e+":"+n+";"}})),t.fire("AfterPreviewFormats"),Qv.remove(i),l)},iy=function(t,e,n,i,r){var o=e.get(n);!tv.match(t,n,i,r)||"toggle"in o[0]&&!o[0].toggle?Yv.applyFormat(t,n,i,r):Nv(t,n,i,r)},ry=function(t){t.addShortcut("meta+b","","Bold"),t.addShortcut("meta+i","","Italic"),t.addShortcut("meta+u","","Underline");for(var e=1;e<=6;e++)t.addShortcut("access+"+e,"",["FormatBlock",!1,"h"+e]);t.addShortcut("access+7","",["FormatBlock",!1,"p"]),t.addShortcut("access+8","",["FormatBlock",!1,"div"]),t.addShortcut("access+9","",["FormatBlock",!1,"address"])};function oy(t){var e=function(t){var e={},n=function(t,i){t&&("string"!=typeof t?Me.each(t,(function(t,e){n(e,t)})):(i=i.length?i:[i],Me.each(i,(function(t){void 0===t.deep&&(t.deep=!t.selector),void 0===t.split&&(t.split=!t.selector||t.inline),void 0===t.remove&&t.selector&&!t.inline&&(t.remove="none"),t.selector&&t.inline&&(t.mixed=!0,t.block_expand=!0),"string"==typeof t.classes&&(t.classes=t.classes.split(/\s+/))})),e[t]=i))};return n(Kv(t.dom)),n(t.settings.formats),{get:function(t){return t?e[t]:e},register:n,unregister:function(t){return t&&e[t]&&delete e[t],e}}}(t),n=$a(null);return ry(t),dv(t),{get:e.get,register:e.register,unregister:e.unregister,apply:y.curry(Yv.applyFormat,t),remove:y.curry(Nv,t),toggle:y.curry(iy,t,e),match:y.curry(tv.match,t),matchAll:y.curry(tv.matchAll,t),matchNode:y.curry(tv.matchNode,t),canApply:y.curry(tv.canApply,t),formatChanged:y.curry(Gv,t,n),getCssText:y.curry(ny,t)}}var sy=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var i={},r=0;r<e.length;r++){var o=e[r];for(var s in o)o.hasOwnProperty(s)&&(i[s]=t(i[s],o[s]))}return i}},ay=sy((function(t,e){return T.isObject(t)&&T.isObject(e)?ay(t,e):e})),ly=sy((function(t,e){return e})),uy={deepMerge:ay,merge:ly},cy=function(t,e,n){t.addAttributeFilter("data-mce-tabindex",(function(t,e){for(var n,i=t.length;i--;)(n=t[i]).attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(e,null)})),t.addAttributeFilter("src,href,style",(function(t,i){for(var r,o,s=t.length,a="data-mce-"+i,l=e.url_converter,u=e.url_converter_scope;s--;)void 0!==(o=(r=t[s]).attributes.map[a])?(r.attr(i,o.length>0?o:null),r.attr(a,null)):(o=r.attributes.map[i],"style"===i?o=n.serializeStyle(n.parseStyle(o),r.name):l&&(o=l.call(u,o,i,r.name)),r.attr(i,o.length>0?o:null))})),t.addAttributeFilter("class",(function(t){for(var e,n,i=t.length;i--;)(n=(e=t[i]).attr("class"))&&(n=e.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),e.attr("class",n.length>0?n:null))})),t.addAttributeFilter("data-mce-type",(function(t,e,n){for(var i,r=t.length;r--;)"bookmark"!==(i=t[r]).attributes.map["data-mce-type"]||n.cleanup||i.remove()})),t.addNodeFilter("noscript",(function(t){for(var e,n=t.length;n--;)(e=t[n].firstChild)&&(e.value=Fr.decode(e.value))})),t.addNodeFilter("script,style",(function(t,n){for(var i,r,o,s=t.length,a=function(t){return t.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};s--;)r=(i=t[s]).firstChild?i.firstChild.value:"","script"===n?((o=i.attr("type"))&&i.attr("type","mce-no/type"===o?null:o.replace(/^mce\-/,"")),"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="// <![CDATA[\n"+a(r)+"\n// ]]>")):"xhtml"===e.element_format&&r.length>0&&(i.firstChild.value="\x3c!--\n"+a(r)+"\n--\x3e")})),t.addNodeFilter("#comment",(function(t){for(var e,n=t.length;n--;)0===(e=t[n]).value.indexOf("[CDATA[")?(e.name="#cdata",e.type=4,e.value=e.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===e.value.indexOf("mce:protected ")&&(e.name="#text",e.type=3,e.raw=!0,e.value=unescape(e.value).substr(14))})),t.addNodeFilter("xml:namespace,input",(function(t,e){for(var n,i=t.length;i--;)7===(n=t[i]).type?n.remove():1===n.type&&("input"!==e||"type"in n.attributes.map||n.attr("type","text"))})),t.addAttributeFilter("data-mce-type",(function(e){z.each(e,(function(e){"format-caret"===e.attr("data-mce-type")&&(e.isEmpty(t.schema.getNonEmptyElements())?e.remove():e.unwrap())}))})),t.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)}))},fy=function(t){var e,n,i=function(t){return t&&"br"===t.name};i(e=t.lastChild)&&i(n=e.prev)&&(e.remove(),n.remove())},dy=function(t,e,n){return function(t,e){return t&&t.hasEventListeners("PreProcess")&&!e.no_events}(t,n)?function(t,e,n){var i,r,o,s=t.dom;return e=e.cloneNode(!0),(i=document.implementation).createHTMLDocument&&(r=i.createHTMLDocument(""),Me.each("BODY"===e.nodeName?e.childNodes:[e],(function(t){r.body.appendChild(r.importNode(t,!0))})),e="BODY"!==e.nodeName?r.body.firstChild:r.body,o=s.doc,s.doc=r),Qh(t,uy.merge(n,{node:e})),o&&(s.doc=o),e}(t,e,n):e},hy=function(t,e,n){t.addNodeFilter("font",(function(t){z.each(t,(function(t){var i=e.parse(t.attr("style")),r=t.attr("color"),o=t.attr("face"),s=t.attr("size");r&&(i.color=r),o&&(i["font-family"]=o),s&&(i["font-size"]=n[parseInt(t.attr("size"),10)-1]),t.name="span",t.attr("style",e.serialize(i)),function(t,e){z.each(e,(function(e){t.attr(e,null)}))}(t,["color","face","size"])}))}))},py=function(t,e){var n=Kr();e.convert_fonts_to_spans&&hy(t,n,Me.explode(e.font_size_legacy_values)),function(t,e){t.addNodeFilter("strike",(function(t){z.each(t,(function(t){var n=e.parse(t.attr("style"));n["text-decoration"]="line-through",t.name="span",t.attr("style",e.serialize(n))}))}))}(t,n)},my=function(t,e){e.inline_styles&&py(t,e)},gy=/^[ \t\r\n]*$/,vy={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},yy=function(t,e,n){var i,r,o=n?"lastChild":"firstChild",s=n?"prev":"next";if(t[o])return t[o];if(t!==e){if(i=t[s])return i;for(r=t.parent;r&&r!==e;r=r.parent)if(i=r[s])return i}},by=function(){function t(t,e){this.name=t,this.type=e,1===e&&(this.attributes=[],this.attributes.map={})}return t.create=function(e,n){var i,r;if(i=new t(e,vy[e]||1),n)for(r in n)i.attr(r,n[r]);return i},t.prototype.replace=function(t){return t.parent&&t.remove(),this.insert(t,this),this.remove(),this},t.prototype.attr=function(t,e){var n,i;if("string"!=typeof t){for(i in t)this.attr(i,t[i]);return this}if(n=this.attributes){if(void 0!==e){if(null===e){if(t in n.map)for(delete n.map[t],i=n.length;i--;)if(n[i].name===t)return n=n.splice(i,1),this;return this}if(t in n.map){for(i=n.length;i--;)if(n[i].name===t){n[i].value=e;break}}else n.push({name:t,value:e});return n.map[t]=e,this}return n.map[t]}},t.prototype.clone=function(){var e,n,i,r,o,s=new t(this.name,this.type);if(i=this.attributes){for((o=[]).map={},e=0,n=i.length;e<n;e++)"id"!==(r=i[e]).name&&(o[o.length]={name:r.name,value:r.value},o.map[r.name]=r.value);s.attributes=o}return s.value=this.value,s.shortEnded=this.shortEnded,s},t.prototype.wrap=function(t){return this.parent.insert(t,this),t.append(this),this},t.prototype.unwrap=function(){var t,e;for(t=this.firstChild;t;)e=t.next,this.insert(t,this,!0),t=e;this.remove()},t.prototype.remove=function(){var t=this.parent,e=this.next,n=this.prev;return t&&(t.firstChild===this?(t.firstChild=e,e&&(e.prev=null)):n.next=e,t.lastChild===this?(t.lastChild=n,n&&(n.next=null)):e.prev=n,this.parent=this.next=this.prev=null),this},t.prototype.append=function(t){var e;return t.parent&&t.remove(),(e=this.lastChild)?(e.next=t,t.prev=e,this.lastChild=t):this.lastChild=this.firstChild=t,t.parent=this,t},t.prototype.insert=function(t,e,n){var i;return t.parent&&t.remove(),i=e.parent||this,n?(e===i.firstChild?i.firstChild=t:e.prev.next=t,t.prev=e.prev,t.next=e,e.prev=t):(e===i.lastChild?i.lastChild=t:e.next.prev=t,t.next=e.next,t.prev=e,e.next=t),t.parent=i,t},t.prototype.getAll=function(t){var e,n=[];for(e=this.firstChild;e;e=yy(e,this))e.name===t&&n.push(e);return n},t.prototype.empty=function(){var t,e,n;if(this.firstChild){for(t=[],n=this.firstChild;n;n=yy(n,this))t.push(n);for(e=t.length;e--;)(n=t[e]).parent=n.firstChild=n.lastChild=n.next=n.prev=null}return this.firstChild=this.lastChild=null,this},t.prototype.isEmpty=function(t,e,n){var i,r,o=this.firstChild;if(e=e||{},o)do{if(1===o.type){if(o.attributes.map["data-mce-bogus"])continue;if(t[o.name])return!1;for(i=o.attributes.length;i--;)if("name"===(r=o.attributes[i].name)||0===r.indexOf("data-mce-bookmark"))return!1}if(8===o.type)return!1;if(3===o.type&&!gy.test(o.value))return!1;if(3===o.type&&o.parent&&e[o.parent.name]&&gy.test(o.value))return!1;if(n&&n(o))return!1}while(o=yy(o,this));return!0},t.prototype.walk=function(t){return yy(this,null,t)},t}(),xy=function(t,e,n,i){(t.padd_empty_with_br||e.insert)&&n[i.name]?i.empty().append(new by("br",1)).shortEnded=!0:i.empty().append(new by("#text",3)).value="Â "},wy=function(t,e){return t&&t.firstChild&&t.firstChild===t.lastChild&&t.firstChild.name===e},_y=function(t,e,n,i){return i.isEmpty(e,n,(function(e){return function(t,e){var n=t.getElementRule(e.name);return n&&n.paddEmpty}(t,e)}))},Cy=Me.makeMap,ky=Me.each,Sy=Me.explode,Ty=Me.extend;function Ey(t,e){void 0===e&&(e=Xr());var n={},i=[],r={},o={};(t=t||{}).validate=!("validate"in t)||t.validate,t.root_name=t.root_name||"body";var s=function(t){var e,s,a;s in n&&((a=r[s])?a.push(t):r[s]=[t]),e=i.length;for(;e--;)(s=i[e].name)in t.attributes.map&&((a=o[s])?a.push(t):o[s]=[t]);return t},a={schema:e,addAttributeFilter:function(t,e){ky(Sy(t),(function(t){var n;for(n=0;n<i.length;n++)if(i[n].name===t)return void i[n].callbacks.push(e);i.push({name:t,callbacks:[e]})}))},getAttributeFilters:function(){return[].concat(i)},addNodeFilter:function(t,e){ky(Sy(t),(function(t){var i=n[t];i||(n[t]=i=[]),i.push(e)}))},getNodeFilters:function(){var t=[];for(var e in n)n.hasOwnProperty(e)&&t.push({name:e,callbacks:n[e]});return t},filterNode:s,parse:function(a,l){var u,c,f,d,h,p,m,g,v,y,b,x=[];l=l||{},r={},o={},v=Ty(Cy("script,style,head,html,body,title,meta,param"),e.getBlockElements());var w=e.getNonEmptyElements(),_=e.children,C=t.validate,k="forced_root_block"in l?l.forced_root_block:t.forced_root_block,S=e.getWhiteSpaceElements(),T=/^[ \t\r\n]+/,E=/[ \t\r\n]+$/,D=/[ \t\r\n]+/g,N=/^[ \t\r\n]+$/;y=S.hasOwnProperty(l.context)||S.hasOwnProperty(t.root_name);var A=function(t,e){var i,o=new by(t,e);return t in n&&((i=r[t])?i.push(o):r[t]=[o]),o},P=function(t){var n,i,r,o,s=e.getBlockElements();for(n=t.prev;n&&3===n.type;){if((r=n.value.replace(E,"")).length>0)return void(n.value=r);if(i=n.next){if(3===i.type&&i.value.length){n=n.prev;continue}if(!s[i.name]&&"script"!==i.name&&"style"!==i.name){n=n.prev;continue}}o=n.prev,n.remove(),n=o}};u=ag({validate:C,allow_script_urls:t.allow_script_urls,allow_conditional_comments:t.allow_conditional_comments,self_closing_elements:function(t){var e,n={};for(e in t)"li"!==e&&"p"!==e&&(n[e]=t[e]);return n}(e.getSelfClosingElements()),cdata:function(t){b.append(A("#cdata",4)).value=t},text:function(t,e){var n;y||(t=t.replace(D," "),function(t,e){return t&&(e[t.name]||"br"===t.name)}(b.lastChild,v)&&(t=t.replace(T,""))),0!==t.length&&((n=A("#text",3)).raw=!!e,b.append(n).value=t)},comment:function(t){b.append(A("#comment",8)).value=t},pi:function(t,e){b.append(A(t,7)).value=e,P(b)},doctype:function(t){b.append(A("#doctype",10)).value=t,P(b)},start:function(t,n,r){var s,a,l,u,c;if(l=C?e.getElementRule(t):{}){for((s=A(l.outputName||t,1)).attributes=n,s.shortEnded=r,b.append(s),(c=_[b.name])&&_[s.name]&&!c[s.name]&&x.push(s),a=i.length;a--;)(u=i[a].name)in n.map&&((m=o[u])?m.push(s):o[u]=[s]);v[t]&&P(s),r||(b=s),!y&&S[t]&&(y=!0)}},end:function(n){var i,r,o,s,a;if(r=C?e.getElementRule(n):{}){if(v[n]&&!y){if((i=b.firstChild)&&3===i.type)if((o=i.value.replace(T,"")).length>0)i.value=o,i=i.next;else for(s=i.next,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.next,(0===o.length||N.test(o))&&(i.remove(),i=s),i=s;if((i=b.lastChild)&&3===i.type)if((o=i.value.replace(E,"")).length>0)i.value=o,i=i.prev;else for(s=i.prev,i.remove(),i=s;i&&3===i.type;)o=i.value,s=i.prev,(0===o.length||N.test(o))&&(i.remove(),i=s),i=s}if(y&&S[n]&&(y=!1),r.removeEmpty&&_y(e,w,S,b)&&!b.attributes.map.name&&!b.attr("id"))return a=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=a);r.paddEmpty&&(function(t){return wy(t,"#text")&&"Â "===t.firstChild.value}(b)||_y(e,w,S,b))&&xy(t,l,v,b),b=b.parent}}},e);var O=b=new by(l.context||t.root_name,11);if(u.parse(a),C&&x.length&&(l.context?l.invalid=!0:function(t){var n,i,r,o,a,l,u,c,f,d,h,p,m,g,v,y;for(p=Cy("tr,td,th,tbody,thead,tfoot,table"),d=e.getNonEmptyElements(),h=e.getWhiteSpaceElements(),m=e.getTextBlockElements(),g=e.getSpecialElements(),n=0;n<t.length;n++)if((i=t[n]).parent&&!i.fixed)if(m[i.name]&&"li"===i.parent.name){for(v=i.next;v&&m[v.name];)v.name="li",v.fixed=!0,i.parent.insert(v,i.parent),v=v.next;i.unwrap(i)}else{for(o=[i],r=i.parent;r&&!e.isValidChild(r.name,i.name)&&!p[r.name];r=r.parent)o.push(r);if(r&&o.length>1){for(o.reverse(),a=l=s(o[0].clone()),f=0;f<o.length-1;f++){for(e.isValidChild(l.name,o[f].name)?(u=s(o[f].clone()),l.append(u)):u=l,c=o[f].firstChild;c&&c!==o[f+1];)y=c.next,u.append(c),c=y;l=u}_y(e,d,h,a)?r.insert(i,o[0],!0):(r.insert(a,o[0],!0),r.insert(i,a)),r=o[0],(_y(e,d,h,r)||wy(r,"br"))&&r.empty().remove()}else if(i.parent){if("li"===i.name){if((v=i.prev)&&("ul"===v.name||"ul"===v.name)){v.append(i);continue}if((v=i.next)&&("ul"===v.name||"ul"===v.name)){v.insert(i,v.firstChild,!0);continue}i.wrap(s(new by("ul",1)));continue}e.isValidChild(i.parent.name,"div")&&e.isValidChild("div",i.name)?i.wrap(s(new by("div",1))):g[i.name]?i.empty().remove():i.unwrap()}}}(x)),k&&("body"===O.name||l.isRootContent)&&function(){var n,i,r=O.firstChild,o=function(t){t&&((r=t.firstChild)&&3===r.type&&(r.value=r.value.replace(T,"")),(r=t.lastChild)&&3===r.type&&(r.value=r.value.replace(E,"")))};if(e.isValidChild(O.name,k.toLowerCase())){for(;r;)n=r.next,3===r.type||1===r.type&&"p"!==r.name&&!v[r.name]&&!r.attr("data-mce-type")?i?i.append(r):((i=A(k,1)).attr(t.forced_root_block_attrs),O.insert(i,r),i.append(r)):(o(i),i=null),r=n;o(i)}}(),!l.invalid){for(g in r){for(m=n[g],h=(c=r[g]).length;h--;)c[h].parent||c.splice(h,1);for(f=0,d=m.length;f<d;f++)m[f](c,g,l)}for(f=0,d=i.length;f<d;f++)if((m=i[f]).name in o){for(h=(c=o[m.name]).length;h--;)c[h].parent||c.splice(h,1);for(h=0,p=m.callbacks.length;h<p;h++)m.callbacks[h](c,m.name,l)}}return O}};return function(t,e){var n=t.schema;e.remove_trailing_brs&&t.addNodeFilter("br",(function(t,i,r){var o,s,a,l,u,c,f,d,h=t.length,p=Me.extend({},n.getBlockElements()),m=n.getNonEmptyElements(),g=n.getNonEmptyElements();for(p.body=1,o=0;o<h;o++)if(a=(s=t[o]).parent,p[s.parent.name]&&s===a.lastChild){for(u=s.prev;u;){if("span"!==(c=u.name)||"bookmark"!==u.attr("data-mce-type")){if("br"!==c)break;if("br"===c){s=null;break}}u=u.prev}s&&(s.remove(),_y(n,m,g,a)&&(f=n.getElementRule(a.name))&&(f.removeEmpty?a.remove():f.paddEmpty&&xy(e,r,p,a)))}else{for(l=s;a&&a.firstChild===l&&a.lastChild===l&&(l=a,!p[a.name]);)a=a.parent;l===a&&!0!==e.padd_empty_with_br&&((d=new by("#text",3)).value="Â ",s.replace(d))}})),t.addAttributeFilter("href",(function(t){var n,i,r,o=t.length;if(!e.allow_unsafe_link_target)for(;o--;)"a"===(n=t[o]).name&&"_blank"===n.attr("target")&&n.attr("rel",(i=n.attr("rel"),r=void 0,r=i?Me.trim(i):"",/\b(noopener)\b/g.test(r)?r:function(t){return t.split(" ").filter((function(t){return t.length>0})).concat(["noopener"]).sort().join(" ")}(r)))})),e.allow_html_in_named_anchor||t.addAttributeFilter("id,name",(function(t){for(var e,n,i,r,o=t.length;o--;)if("a"===(r=t[o]).name&&r.firstChild&&!r.attr("href")){i=r.parent,e=r.lastChild;do{n=e.prev,i.insert(e,r),e=n}while(e)}})),e.fix_list_elements&&t.addNodeFilter("ul,ol",(function(t){for(var e,n,i=t.length;i--;)if("ul"===(n=(e=t[i]).parent).name||"ol"===n.name)if(e.prev&&"li"===e.prev.name)e.prev.append(e);else{var r=new by("li",1);r.attr("style","list-style-type: none"),e.wrap(r)}})),e.validate&&n.getValidClasses()&&t.addAttributeFilter("class",(function(t){for(var e,i,r,o,s,a,l,u=t.length,c=n.getValidClasses();u--;){for(i=(e=t[u]).attr("class").split(" "),s="",r=0;r<i.length;r++)o=i[r],l=!1,(a=c["*"])&&a[o]&&(l=!0),a=c[e.name],!l&&a&&a[o]&&(l=!0),l&&(s&&(s+=" "),s+=o);s.length||(s=null),e.attr("class",s)}}))}(a,t),my(a,t),a}var Dy=function(t,e,n){-1===Me.inArray(e,n)&&(t.addAttributeFilter(n,(function(t,e){for(var n=t.length;n--;)t[n].attr(e,null)})),e.push(n))},Ny=function(t,e,n,i,r){return function(t,e,n){return!e.no_events&&t?Zh(t,uy.merge(e,{content:n})).content:n}(t,r,function(t,e,n){return Iu(t,e).serialize(n)}(e,n,i))};function Ay(t,e){var n,i,r,o=["data-mce-selected"];return n=e&&e.dom?e.dom:oo.DOM,i=e&&e.schema?e.schema:Xr(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,r=Ey(t,i),cy(r,t,n),{schema:i,addNodeFilter:r.addNodeFilter,addAttributeFilter:r.addAttributeFilter,serialize:function(o,s){var a=uy.merge({format:"html"},s||{}),l=dy(e,o,a),u=function(t,e,n){var i=go(n.getInner?e.innerHTML:t.getOuterHTML(e));return n.selection||hr(Mn.fromDom(e))?i:Me.trim(i)}(n,l,a),c=function(t,e,n){var i=n.selection?uy.merge({forced_root_block:!1},n):n,r=t.parse(e,i);return fy(r),r}(r,u,a);return"tree"===a.format?c:Ny(e,t,i,c,a)},addRules:function(t){i.addValidElements(t)},setRules:function(t){i.setValidElements(t)},addTempAttr:y.curry(Dy,r,o),getTempAttrs:function(){return o}}}function Py(t,e){var n=Ay(t,e);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function Oy(t){return{getBookmark:y.curry(vu,t),moveToBookmark:y.curry(yu,t)}}!function(t){t.isBookmarkNode=bu}(Oy||(Oy={}));var Iy=Oy,My=kr.isContentEditableFalse,By=kr.isContentEditableTrue,Ry=function(t,e){var n,i,r,o,s,a,l,u,c,f,d,h,p,m,g,v,y,b=e.dom,x=Me.each,w=e.getDoc(),_=document,C=Math.abs,k=Math.round,S=e.getBody();o={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var T=".mce-content-body";e.contentStyles.push(T+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+T+" .mce-resizehandle:hover {background: #000}"+T+" img[data-mce-selected],"+T+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+T+" .mce-clonedresizable {position: absolute;"+(gt.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+T+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var E=function(t){return t&&("IMG"===t.nodeName||e.dom.is(t,"figure.image"))},D=function(t){var n=t.target;(function(t,e){return E(t.target)&&!Xm(t.clientX,t.clientY,e)})(t,e.selection.getRng())&&!t.isDefaultPrevented()&&(t.preventDefault(),e.selection.select(n))},N=function(t){return e.dom.is(t,"figure.image")?t.querySelector("img"):t},A=function(t){var n=e.settings.object_resizing;return!1!==n&&!gt.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==t.getAttribute("data-mce-resize")&&t!==e.getBody()&&Ti.is(Mn.fromDom(t),n))},P=function(t){var o,x,w,_;o=t.screenX-a,x=t.screenY-l,m=o*s[2]+f,g=x*s[3]+d,m=m<5?5:m,g=g<5?5:g,(E(n)&&!1!==e.settings.resize_img_proportional?!Jm.modifierPressed(t):Jm.modifierPressed(t)||E(n)&&s[2]*s[3]!=0)&&(C(o)>C(x)?(g=k(m*h),m=k(g/h)):(m=k(g/h),g=k(m*h))),b.setStyles(N(i),{width:m,height:g}),w=(w=s.startPos.x+o)>0?w:0,_=(_=s.startPos.y+x)>0?_:0,b.setStyles(r,{left:w,top:_,display:"block"}),r.innerHTML=m+" &times; "+g,s[2]<0&&i.clientWidth<=m&&b.setStyle(i,"left",u+(f-m)),s[3]<0&&i.clientHeight<=g&&b.setStyle(i,"top",c+(d-g)),(o=S.scrollWidth-v)+(x=S.scrollHeight-y)!=0&&b.setStyles(r,{left:w-o,top:_-x}),p||(np(e,n,f,d),p=!0)},O=function(){p=!1;var t=function(t,i){i&&(n.style[t]||!e.schema.isValid(n.nodeName.toLowerCase(),t)?b.setStyle(N(n),t,i):b.setAttrib(N(n),t,i))};t("width",m),t("height",g),b.unbind(w,"mousemove",P),b.unbind(w,"mouseup",O),_!==w&&(b.unbind(_,"mousemove",P),b.unbind(_,"mouseup",O)),b.remove(i),b.remove(r),I(n),ip(e,n,m,g),b.setAttrib(n,"style",b.getAttrib(n,"style")),e.nodeChanged()},I=function(t){var p,C,k,T,E;M(),L(),p=b.getPos(t,S),u=p.x,c=p.y,E=t.getBoundingClientRect(),C=E.width||E.right-E.left,k=E.height||E.bottom-E.top,n!==t&&(n=t,m=g=0),T=e.fire("ObjectSelected",{target:t}),A(t)&&!T.isDefaultPrevented()?x(o,(function(t,e){var o;(o=b.get("mceResizeHandle"+e))&&b.remove(o),o=b.add(S,"div",{id:"mceResizeHandle"+e,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+e+"-resize; margin:0; padding:0"}),11===gt.ie&&(o.contentEditable=!1),b.bind(o,"mousedown",(function(e){e.stopImmediatePropagation(),e.preventDefault(),function(e){a=e.screenX,l=e.screenY,f=N(n).clientWidth,d=N(n).clientHeight,h=d/f,s=t,t.startPos={x:C*t[0]+u,y:k*t[1]+c},v=S.scrollWidth,y=S.scrollHeight,i=n.cloneNode(!0),b.addClass(i,"mce-clonedresizable"),b.setAttrib(i,"data-mce-bogus","all"),i.contentEditable=!1,i.unSelectabe=!0,b.setStyles(i,{left:u,top:c,margin:0}),i.removeAttribute("data-mce-selected"),S.appendChild(i),b.bind(w,"mousemove",P),b.bind(w,"mouseup",O),_!==w&&(b.bind(_,"mousemove",P),b.bind(_,"mouseup",O)),r=b.add(S,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+d)}(e)})),t.elm=o,b.setStyles(o,{left:C*t[0]+u-o.offsetWidth/2,top:k*t[1]+c-o.offsetHeight/2})})):M(),n.setAttribute("data-mce-selected","1")},M=function(){var t,e;for(t in L(),n&&n.removeAttribute("data-mce-selected"),o)(e=b.get("mceResizeHandle"+t))&&(b.unbind(e),b.remove(e))},B=function(n){var i,r=function(t,e){if(t)do{if(t===e)return!0}while(t=t.parentNode)};p||e.removed||(x(b.select("img[data-mce-selected],hr[data-mce-selected]"),(function(t){t.removeAttribute("data-mce-selected")})),i="mousedown"===n.type?n.target:t.getNode(),r(i=b.$(i).closest("table,img,figure.image,hr")[0],S)&&(F(),r(t.getStart(!0),i)&&r(t.getEnd(!0),i))?I(i):M())},R=function(t){return My(function(t,e){for(;e&&e!==t;){if(By(e)||My(e))return e;e=e.parentNode}return null}(e.getBody(),t))},L=function(){for(var t in o){var e=o[t];e.elm&&(b.unbind(e.elm),delete e.elm)}},F=function(){try{e.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(t){}};return e.on("init",(function(){F(),gt.ie&&gt.ie>=11&&(e.on("mousedown click",(function(t){var n=t.target,i=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(i)||R(n)||(2!==t.button&&e.selection.select(n,"TABLE"===i),"mousedown"===t.type&&e.nodeChanged())})),e.dom.bind(S,"mscontrolselect",(function(t){var n=function(t){wt.setEditorTimeout(e,(function(){e.selection.select(t)}))};if(R(t.target))return t.preventDefault(),void n(t.target);/^(TABLE|IMG|HR)$/.test(t.target.nodeName)&&(t.preventDefault(),"IMG"===t.target.tagName&&n(t.target))})));var t=wt.throttle((function(t){e.composing||B(t)}));e.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",t),e.on("keyup compositionend",(function(e){n&&"TABLE"===n.nodeName&&t(e)})),e.on("hide blur",M),e.on("contextmenu",D)})),e.on("remove",L),{isResizable:A,showResizeRect:I,hideResizeRect:M,updateResizeRect:B,destroy:function(){n=i=null}}},Ly=function(t){return kr.isContentEditableTrue(t)||kr.isContentEditableFalse(t)},Fy=function(t,e,n){var i,r,o=n;if(o.caretPositionFromPoint)(r=o.caretPositionFromPoint(t,e))&&((i=n.createRange()).setStart(r.offsetNode,r.offset),i.collapse(!0));else if(n.caretRangeFromPoint)i=n.caretRangeFromPoint(t,e);else if(o.body.createTextRange){i=o.body.createTextRange();try{i.moveToPoint(t,e),i.collapse(!0)}catch(r){i=function(t,e,n){var i,r,o;if(i=n.elementFromPoint(t,e),r=n.body.createTextRange(),i&&"HTML"!==i.tagName||(i=n.body),r.moveToElementText(i),(o=(o=Me.toArray(r.getClientRects())).sort((function(t,n){return(t=Math.abs(Math.max(t.top-e,t.bottom-e)))-(n=Math.abs(Math.max(n.top-e,n.bottom-e)))}))).length>0){e=(o[0].bottom+o[0].top)/2;try{return r.moveToPoint(t,e),r.collapse(!0),r}catch(t){}}return null}(t,e,n)}return function(t,e){var n=t&&t.parentElement?t.parentElement():null;return kr.isContentEditableFalse(function(t,e,n){for(;t&&t!==e;){if(n(t))return t;t=t.parentNode}return null}(n,e,Ly))?null:t}(i,n.body)}return i},Hy=function(t,e){return z.map(e,(function(e){var n=t.fire("GetSelectionRange",{range:e});return n.range!==e?n.range:e}))},zy=function(t,e){return Mn.fromDom(t.dom().cloneNode(e))},jy=function(t){return zy(t,!0)},Wy=function(t){return zy(t,!1)},$y=jy,qy=function(t,e){var n=(e||document).createDocumentFragment();return z.each(t,(function(t){n.appendChild(t.dom())})),Mn.fromDom(n)},Uy=yi.immutable("element","width","rows"),Vy=yi.immutable("element","cells"),Yy=yi.immutable("x","y"),Xy=function(t,e){var n=parseInt(ni.get(t,e),10);return isNaN(n)?1:n},Gy=function(t,e,n){var i=t.rows();return!!(i[n]?i[n].cells():[])[e]},Ky=function(t){return z.foldl(t,(function(t,e){return e.cells().length>t?e.cells().length:t}),0)},Jy=function(t,e){for(var n=t.rows(),i=0;i<n.length;i++)for(var r=n[i].cells(),o=0;o<r.length;o++)if(Ni.eq(r[o],e))return k.some(Yy(o,i));return k.none()},Qy=function(t,e,n,i,r){for(var o=[],s=t.rows(),a=n;a<=r;a++){var l=s[a].cells(),u=e<i?l.slice(e,i+1):l.slice(i,e+1);o.push(Vy(s[a].element(),u))}return o},Zy=function(t){var e=Uy(Wy(t),0,[]);return z.each(ia(t,"tr"),(function(t,n){z.each(ia(t,"td,th"),(function(i,r){!function(t,e,n,i,r){for(var o=Xy(r,"rowspan"),s=Xy(r,"colspan"),a=t.rows(),l=n;l<n+o;l++){a[l]||(a[l]=Vy($y(i),[]));for(var u=e;u<e+s;u++)a[l].cells()[u]=l===n&&u===e?r:Wy(r)}}(e,function(t,e,n){for(;Gy(t,e,n);)e++;return e}(e,r,n),n,t,i)}))})),Uy(e.element(),Ky(e.rows()),e.rows())},tb=function(t){return function(t,e){var n=Wy(t.element()),i=Mn.fromTag("tbody");return Cu(i,e),Aa.append(n,i),n}(t,function(t){return z.map(t.rows(),(function(t){var e=z.map(t.cells(),(function(t){var e=$y(t);return ni.remove(e,"colspan"),ni.remove(e,"rowspan"),e})),n=Wy(t.element());return Cu(n,e),n}))}(t))},eb=function(t,e,n){return Jy(t,e).bind((function(e){return Jy(t,n).map((function(n){return function(t,e,n){var i=e.x(),r=e.y(),o=n.x(),s=n.y(),a=r<s?Qy(t,i,r,o,s):Qy(t,i,s,o,r);return Uy(t.element(),Ky(a),a)}(t,e,n)}))}))},nb=function(t,e){return z.find(t,(function(t){return"li"===Un.name(t)&&function(t,e){return es([gm(e),vm(e)],(function(e,n){var i=z.find(ym(t),y.curry(Ni.eq,e)),r=z.find(bm(t),y.curry(Ni.eq,n));return i.isSome()&&r.isSome()})).getOr(!1)}(t,e)})).fold(y.constant([]),(function(e){return function(t){return z.find(t,(function(t){return"ul"===Un.name(t)||"ol"===Un.name(t)}))}(t).map((function(t){return[Mn.fromTag("li"),Mn.fromTag(Un.name(t))]})).getOr([])}))},ib=function(t,e){var n=Mn.fromDom(e.commonAncestorContainer),i=Pc(n,t),r=z.filter(i,(function(t){return or(t)||ir(t)})),o=nb(i,e),s=r.concat(o.length?o:function(t){return ur(t)?Li.parent(t).filter(lr).fold(y.constant([]),(function(e){return[t,e]})):lr(t)?[t]:[]}(n));return z.map(s,Wy)},rb=function(){return qy([])},ob=function(t,e){return n=Mn.fromDom(e.cloneContents()),i=ib(t,e),r=z.foldl(i,(function(t,e){return Aa.append(e,t),e}),n),i.length>0?qy([r]):r;var n,i,r},sb=function(t,e){return(n=t,i=e[0],hc(i,"table",y.curry(Ni.eq,n))).bind((function(t){var n=e[0],i=e[e.length-1],r=Zy(t);return eb(r,n,i).map((function(t){return qy([tb(t)])}))})).getOrThunk(rb);var n,i},ab=function(t,e){var n=wd(e,t);return n.length>0?sb(t,n):function(t,e){return e.length>0&&e[0].collapsed?rb():ob(t,e[0])}(t,e)},lb=function(t,e){var n,i=t.selection.getRng(),r=t.dom.create("body"),o=t.selection.getSel(),s=Hy(t,md(o));if((e=e||{}).get=!0,e.format=e.format||"html",e.selection=!0,(e=t.fire("BeforeGetContent",e)).isDefaultPrevented())return t.fire("GetContent",e),e.content;if("text"===e.format)return t.selection.isCollapsed()?"":go(i.text||(o.toString?o.toString():""));i.cloneContents?(n=e.contextual?ab(Mn.fromDom(t.getBody()),s).dom():i.cloneContents())&&r.appendChild(n):void 0!==i.item||void 0!==i.htmlText?(r.innerHTML="<br>"+(i.item?i.item(0).outerHTML:i.htmlText),r.removeChild(r.firstChild)):r.innerHTML=i.toString(),e.getInner=!0;var a=t.selection.serializer.serialize(r,e);return"tree"===e.format?a:(e.content=t.selection.isCollapsed()?"":a,t.fire("GetContent",e),e.content)},ub=function(t,e,n){var i,r,o,s=t.selection.getRng(),a=t.getDoc();if((n=n||{format:"html"}).set=!0,n.selection=!0,n.content=e,n.no_events||!(n=t.fire("BeforeSetContent",n)).isDefaultPrevented()){if(e=n.content,s.insertNode){e+='<span id="__caret">_</span>',s.startContainer===a&&s.endContainer===a?a.body.innerHTML=e:(s.deleteContents(),0===a.body.childNodes.length?a.body.innerHTML=e:s.createContextualFragment?s.insertNode(s.createContextualFragment(e)):(r=a.createDocumentFragment(),o=a.createElement("div"),r.appendChild(o),o.outerHTML=e,s.insertNode(r))),i=t.dom.get("__caret"),(s=a.createRange()).setStartBefore(i),s.setEndBefore(i),t.selection.setRng(s),t.dom.remove("__caret");try{t.selection.setRng(s)}catch(t){}}else s.item&&(a.execCommand("Delete",!1,null),s=t.getRng()),/^\s+/.test(e)?(s.pasteHTML('<span id="__mce_tmp">_</span>'+e),t.dom.remove("__mce_tmp")):s.pasteHTML(e);n.no_events||t.fire("SetContent",n)}else t.fire("SetContent",n)},cb=function(t,e,n,i,r){var o=n?e.startContainer:e.endContainer,s=n?e.startOffset:e.endOffset;return k.from(o).map(Mn.fromDom).map((function(t){return i&&e.collapsed?t:Li.child(t,r(t,s)).getOr(t)})).bind((function(t){return Un.isElement(t)?k.some(t):Li.parent(t)})).map((function(t){return t.dom()})).getOr(t)},fb=function(t,e,n){return cb(t,e,!0,n,(function(t,e){return Math.min(Li.childNodesCount(t),e)}))},db=function(t,e,n){return cb(t,e,!1,n,(function(t,e){return e>0?e-1:e}))},hb=function(t,e){for(var n=t;t&&kr.isText(t)&&0===t.length;)t=e?t.nextSibling:t.previousSibling;return t||n},pb=Me.each,mb=function(t){return!!t.select},gb=function(t){return!(!t||!t.ownerDocument)&&Ni.contains(Mn.fromDom(t.ownerDocument),Mn.fromDom(t))},vb=function(t,e,n,i){var r,o,s,a,l,u=function(t,e){return ub(i,t,e)},c=function(t){var e=d();e.collapse(!!t),h(e)},f=function(){return e.getSelection?e.getSelection():e.document.selection},d=function(){var n,r,o,l,u=function(t,e,n){try{return e.compareBoundaryPoints(t,n)}catch(t){return-1}};if(!e)return null;if(null==(l=e.document))return null;if(void 0!==i.bookmark&&!1===Dp(i)){var c=Th(i);if(c.isSome())return c.map((function(t){return Hy(i,[t])[0]})).getOr(l.createRange())}try{(n=f())&&(r=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():l.createRange())}catch(t){}return(r=Hy(i,[r])[0])||(r=l.createRange?l.createRange():l.body.createTextRange()),r.setStart&&9===r.startContainer.nodeType&&r.collapsed&&(o=t.getRoot(),r.setStart(o,0),r.setEnd(o,0)),s&&a&&(0===u(r.START_TO_START,r,s)&&0===u(r.END_TO_END,r,s)?r=a:(s=null,a=null)),r},h=function(t,e){var n,r;if(function(t){return!!t&&(!!mb(t)||gb(t.startContainer)&&gb(t.endContainer))}(t)){var o=mb(t)?t:null;if(o){a=null;try{o.select()}catch(t){}}else{if(n=f(),t=i.fire("SetSelectionRange",{range:t,forward:e}).range,n){a=t;try{n.removeAllRanges(),n.addRange(t)}catch(t){}!1===e&&n.extend&&(n.collapse(t.endContainer,t.endOffset),n.extend(t.startContainer,t.startOffset)),s=n.rangeCount>0?n.getRangeAt(0):null}t.collapsed||t.startContainer!==t.endContainer||!n.setBaseAndExtent||gt.ie||t.endOffset-t.startOffset<2&&t.startContainer.hasChildNodes()&&(r=t.startContainer.childNodes[t.startOffset])&&"IMG"===r.tagName&&(n.setBaseAndExtent(t.startContainer,t.startOffset,t.endContainer,t.endOffset),n.anchorNode===t.startContainer&&n.focusNode===t.endContainer||n.setBaseAndExtent(r,0,r,1)),i.fire("AfterSetSelectionRange",{range:t,forward:e})}}},p=function(){var e,n,i=f();return!(i&&i.anchorNode&&i.focusNode)||((e=t.createRng()).setStart(i.anchorNode,i.anchorOffset),e.collapse(!0),(n=t.createRng()).setStart(i.focusNode,i.focusOffset),n.collapse(!0),e.compareBoundaryPoints(e.START_TO_START,n)<=0)},m={bookmarkManager:null,controlSelection:null,dom:t,win:e,serializer:n,editor:i,collapse:c,setCursorLocation:function(e,n){var r=t.createRng();e?(r.setStart(e,n),r.setEnd(e,n),h(r),c(!1)):(xm(t,r,i.getBody(),!0),h(r))},getContent:function(t){return lb(i,t)},setContent:u,getBookmark:function(t,e){return r.getBookmark(t,e)},moveToBookmark:function(t){return r.moveToBookmark(t)},select:function(e,n){return function(t,e,n){return k.from(e).map((function(e){var i=t.nodeIndex(e),r=t.createRng();return r.setStart(e.parentNode,i),r.setEnd(e.parentNode,i+1),n&&(xm(t,r,e,!0),xm(t,r,e,!1)),r}))}(t,e,n).each(h),e},isCollapsed:function(){var t=d(),e=f();return!(!t||t.item)&&(t.compareEndPoints?0===t.compareEndPoints("StartToEnd",t):!e||t.collapsed)},isForward:p,setNode:function(e){return u(t.getOuterHTML(e)),e},getNode:function(){return t=i.getBody(),(e=d())?(r=e.startContainer,o=e.endContainer,s=e.startOffset,a=e.endOffset,n=e.commonAncestorContainer,!e.collapsed&&(r===o&&a-s<2&&r.hasChildNodes()&&(n=r.childNodes[s]),3===r.nodeType&&3===o.nodeType&&(r=r.length===s?hb(r.nextSibling,!0):r.parentNode,o=0===a?hb(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):t;var t,e,n,r,o,s,a},getSel:f,setRng:h,getRng:d,getStart:function(t){return fb(i.getBody(),d(),t)},getEnd:function(t){return db(i.getBody(),d(),t)},getSelectedBlocks:function(e,n){return function(t,e,n,i){var r,o,s=[];if(o=t.getRoot(),n=t.getParent(n||fb(o,e,!1),t.isBlock),i=t.getParent(i||db(o,e,!1),t.isBlock),n&&n!==o&&s.push(n),n&&i&&n!==i){r=n;for(var a=new Qi(n,o);(r=a.next())&&r!==i;)t.isBlock(r)&&s.push(r)}return i&&n!==i&&i!==o&&s.push(i),s}(t,d(),e,n)},normalize:function(){var e=d(),n=f();if(!vd(n)&&wm(i)){var r=Kd(t,e);return r.each((function(t){h(t,p())})),r.getOr(e)}return e},selectorChanged:function(e,n){var r;return l||(l={},r={},i.on("NodeChange",(function(e){var n=e.element,i=t.getParents(n,null,t.getRoot()),o={};pb(l,(function(e,n){pb(i,(function(s){if(t.is(s,n))return r[n]||(pb(e,(function(t){t(!0,{node:s,selector:n,parents:i})})),r[n]=e),o[n]=e,!1}))})),pb(r,(function(t,e){o[e]||(delete r[e],pb(t,(function(t){t(!1,{node:n,selector:e,parents:i})})))}))}))),l[e]||(l[e]=[]),l[e].push(n),m},getScrollContainer:function(){for(var e,n=t.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){e=n;break}n=n.parentNode}return e},scrollIntoView:function(t,e){return ca(i,t,e)},placeCaretAt:function(t,e){return h(Fy(t,e,i.getDoc()))},getBoundingClientRect:function(){var t=d();return t.collapsed?ws.fromRangeStart(t).getClientRects()[0]:t.getBoundingClientRect()},destroy:function(){e=s=a=null,o.destroy()}};return r=Iy(m),o=Ry(m,i),m.bookmarkManager=r,m.controlSelection=o,m},yb=kr.isContentEditableFalse,bb=Xo,xb=bl,wb=yl,_b=function(t,e){for(;e=t(e);)if(e.isVisible())return e;return e},Cb=function(t,e,n,i){var r,o,s,a,l=t===Us.Forwards,u=l?wb:xb;return!i.collapsed&&(r=bb(i),yb(r))?js(t,e,r,t===Us.Backwards,!0):(a=function(t){return bo(t.startContainer)}(i),u(o=vl(t,e.getBody(),i))?Ws(e,o.getNode(!l)):(o=n(o))?u(o)?js(t,e,o.getNode(!l),l,!0):u(s=n(o))&&function(t,e){var n=sl(t,e);return!(n||!kr.isBr(t.getNode()))||n}(o,s)?js(t,e,s.getNode(!l),l,!0):a?qs(e,o.toRange(),!0):null:a?i:null)},kb=function(t,e,n,i){var r,o,s,a,l,u,c,f,d;if(d=bb(i),r=vl(t,e.getBody(),i),o=n(e.getBody(),Fm(1),r),s=Ne.filter(o,Hm(1)),l=Ne.last(r.getClientRects()),(wb(r)||xl(r))&&(d=r.getNode()),(xb(r)||wl(r))&&(d=r.getNode(!0)),!l)return null;if(u=l.left,(a=Um(s,u))&&yb(a.node))return c=Math.abs(u-a.left),f=Math.abs(u-a.right),js(t,e,a.node,c<f,!0);if(d){var h=function(t,e,n,i){var r,o,s,a,l,u,c=Ol(e),f=[],d=0,h=function(t){return Ne.last(t.getClientRects())};1===t?(r=c.next,o=Uo,s=qo,a=ws.after(i)):(r=c.prev,o=qo,s=Uo,a=ws.before(i)),u=h(a);do{if(a.isVisible()&&!s(l=h(a),u)){if(f.length>0&&o(l,Ne.last(f))&&d++,(l=jo(l)).position=a,l.line=d,n(l))return f;f.push(l)}}while(a=r(a));return f}(t,e.getBody(),Fm(1),d);if(a=Um(Ne.filter(h,Hm(1)),u))return qs(e,a.position.toRange(),!0);if(a=Ne.last(Ne.filter(h,Hm(0))))return qs(e,a.position.toRange(),!0)}},Sb=function(t,e,n){var i,r,o=Ol(t.getBody()),s=ts.curry(_b,o.next),a=ts.curry(_b,o.prev);if(n.collapsed&&t.settings.forced_root_block){if(!(i=t.dom.getParent(n.startContainer,"PRE")))return;(1===e?s(ws.fromRangeStart(n)):a(ws.fromRangeStart(n)))||(r=function(t){var e=t.dom.create(t.settings.forced_root_block);return(!gt.ie||gt.ie>=11)&&(e.innerHTML='<br data-mce-bogus="1">'),e}(t),1===e?t.$(i).after(r):t.$(i).before(r),t.selection.select(r,!0),t.selection.collapse())}},Tb=function(t,e){return function(){var n=function(t,e){var n,i=Ol(t.getBody()),r=ts.curry(_b,i.next),o=ts.curry(_b,i.prev),s=e?Us.Forwards:Us.Backwards,a=e?r:o,l=t.selection.getRng();return(n=Cb(s,t,a,l))?n:(n=Sb(t,s,l))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},Eb=function(t,e){return function(){var n=function(t,e){var n,i=e?1:-1,r=e?Lm:Rm,o=t.selection.getRng();return(n=kb(i,t,r,o))?n:(n=Sb(t,i,o))||null}(t,e);return!!n&&(t.selection.setRng(n),!0)}},Db=function(t,e){return z.bind(function(t){return z.map(t,(function(t){return uy.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:y.noop},t)}))}(t),(function(t){return function(t,e){return e.keyCode===t.keyCode&&e.shiftKey===t.shiftKey&&e.altKey===t.altKey&&e.ctrlKey===t.ctrlKey&&e.metaKey===t.metaKey}(t,e)?[t]:[]}))},Nb=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,i)}},Ab=function(t,e){return z.find(Db(t,e),(function(t){return t.action()}))},Pb=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){var i=On.detect().os;Ab([{keyCode:Jm.RIGHT,action:Tb(t,!0)},{keyCode:Jm.LEFT,action:Tb(t,!1)},{keyCode:Jm.UP,action:Eb(t,!1)},{keyCode:Jm.DOWN,action:Eb(t,!0)},{keyCode:Jm.RIGHT,action:ja(t,!0)},{keyCode:Jm.LEFT,action:ja(t,!1)},{keyCode:Jm.UP,action:Wa(t,!1)},{keyCode:Jm.DOWN,action:Wa(t,!0)},{keyCode:Jm.RIGHT,action:Gf.move(t,e,!0)},{keyCode:Jm.LEFT,action:Gf.move(t,e,!1)},{keyCode:Jm.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Gf.moveNextWord(t,e)},{keyCode:Jm.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:Gf.movePrevWord(t,e)}],n).each((function(t){n.preventDefault()}))}(t,e,n)}))},Ob=function(t){return 1===Li.children(t).length},Ib=function(t,e,n,i){var r=y.curry(hv,e),o=z.map(z.filter(i,r),(function(t){return t.dom()}));if(0===o.length)rf(e,t,n);else{var s=function(t,e){var n=sv(!1),i=fv(e,n.dom());return Aa.before(Mn.fromDom(t),n),Su.remove(Mn.fromDom(t)),ws(i,0)}(n.dom(),o);e.selection.setRng(s.toRange())}},Mb=function(t,e){var n=Mn.fromDom(t.getBody()),i=Mn.fromDom(t.selection.getStart()),r=z.filter(function(t,e){var n=Pc(e,t);return z.findIndex(n,rr).fold(y.constant(n),(function(t){return n.slice(0,t)}))}(n,i),Ob);return z.last(r).map((function(n){var i=ws.fromRangeStart(t.selection.getRng());return!!fc(e,i,n.dom())&&(Ib(e,t,n,r),!0)})).getOr(!1)},Bb=function(t,e){return!!t.selection.isCollapsed()&&Mb(t,e)},Rb=function(t,e){t.on("keydown",(function(n){!1===n.isDefaultPrevented()&&function(t,e,n){Ab([{keyCode:Jm.BACKSPACE,action:Nb(af,t,!1)},{keyCode:Jm.DELETE,action:Nb(af,t,!0)},{keyCode:Jm.BACKSPACE,action:Nb(Zf,t,e,!1)},{keyCode:Jm.DELETE,action:Nb(Zf,t,e,!0)},{keyCode:Jm.BACKSPACE,action:Nb(Wc,t,!1)},{keyCode:Jm.DELETE,action:Nb(Wc,t,!0)},{keyCode:Jm.BACKSPACE,action:Nb(Fc,t,!1)},{keyCode:Jm.DELETE,action:Nb(Fc,t,!0)},{keyCode:Jm.BACKSPACE,action:Nb(Od,t,!1)},{keyCode:Jm.DELETE,action:Nb(Od,t,!0)},{keyCode:Jm.BACKSPACE,action:Nb(Bb,t,!1)},{keyCode:Jm.DELETE,action:Nb(Bb,t,!0)}],n).each((function(t){n.preventDefault()}))}(t,e,n)})),t.on("keyup",(function(e){!1===e.isDefaultPrevented()&&function(t,e){Ab([{keyCode:Jm.BACKSPACE,action:Nb(lf,t)},{keyCode:Jm.DELETE,action:Nb(lf,t)}],e)}(t,e)}))},Lb=function(t){return k.from(t.dom.getParent(t.selection.getStart(!0),t.dom.isBlock))},Fb=function(t,e){var n,i,r,o=e,s=t.dom,a=t.schema.getMoveCaretBeforeOnEnterElements();if(e){if(/^(LI|DT|DD)$/.test(e.nodeName)){var l=function(t){for(;t;){if(1===t.nodeType||3===t.nodeType&&t.data&&/[\r\n\s]/.test(t.data))return t;t=t.nextSibling}}(e.firstChild);l&&/^(UL|OL|DL)$/.test(l.nodeName)&&e.insertBefore(s.doc.createTextNode("Â "),e.firstChild)}if(r=s.createRng(),e.normalize(),e.hasChildNodes()){for(n=new Qi(e,e);i=n.current();){if(kr.isText(i)){r.setStart(i,0),r.setEnd(i,0);break}if(a[i.nodeName.toLowerCase()]){r.setStartBefore(i),r.setEndBefore(i);break}o=i,i=n.next()}i||(r.setStart(o,0),r.setEnd(o,0))}else kr.isBr(e)?e.nextSibling&&s.isBlock(e.nextSibling)?(r.setStartBefore(e),r.setEndBefore(e)):(r.setStartAfter(e),r.setEndAfter(e)):(r.setStart(e,0),r.setEnd(e,0));t.selection.setRng(r),s.remove(void 0),t.selection.scrollIntoView(e)}},Hb=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},zb=Lb,jb=function(t){return Lb(t).fold(y.constant(""),(function(t){return t.nodeName.toUpperCase()}))},Wb=function(t){return Lb(t).filter((function(t){return ur(Mn.fromDom(t))})).isSome()},$b=function(t,e){return t&&t.parentNode&&t.parentNode.nodeName===e},qb=function(t){return t&&/^(OL|UL|LI)$/.test(t.nodeName)},Ub=function(t){var e=t.parentNode;return/^(LI|DT|DD)$/.test(e.nodeName)?e:t},Vb=function(t,e,n){for(var i=t[n?"firstChild":"lastChild"];i&&!kr.isElement(i);)i=i[n?"nextSibling":"previousSibling"];return i===e},Yb=function(t,e,n,i,r){var o=t.dom,s=t.selection.getRng();if(n!==t.getBody()){var a;qb(a=n)&&qb(a.parentNode)&&(r="LI");var l=r?e(r):o.create("BR");if(Vb(n,i,!0)&&Vb(n,i,!1))$b(n,"LI")?o.insertAfter(l,Ub(n)):o.replace(l,n);else if(Vb(n,i,!0))$b(n,"LI")?(o.insertAfter(l,Ub(n)),l.appendChild(o.doc.createTextNode(" ")),l.appendChild(n)):n.parentNode.insertBefore(l,n);else if(Vb(n,i,!1))o.insertAfter(l,Ub(n));else{n=Ub(n);var u=s.cloneRange();u.setStartAfter(i),u.setEndAfter(n);var c=u.extractContents();"LI"===r&&function(t,e){return t.firstChild&&t.firstChild.nodeName===e}(c,"LI")?(l=c.firstChild,o.insertAfter(c,n)):(o.insertAfter(c,n),o.insertAfter(l,n))}o.remove(i),Fb(t,l)}},Xb=function(t){t.innerHTML='<br data-mce-bogus="1">'},Gb=function(t,e){return t.nodeName===e||t.previousSibling&&t.previousSibling.nodeName===e},Kb=function(t,e){return e&&t.isBlock(e)&&!/^(TD|TH|CAPTION|FORM)$/.test(e.nodeName)&&!/^(fixed|absolute)/i.test(e.style.position)&&"true"!==t.getContentEditable(e)},Jb=function(t,e,n){return!1===kr.isText(e)?n:t?1===n&&e.data.charAt(n-1)===mo?0:n:n===e.data.length-1&&e.data.charAt(n)===mo?e.data.length:n},Qb=function(t,e){var n,i,r=t.getRoot();for(n=e;n!==r&&"false"!==t.getContentEditable(n);)"true"===t.getContentEditable(n)&&(i=n),n=n.parentNode;return n!==r?i:r},Zb=function(t,e){var n=xa(t);n&&n.toLowerCase()===e.tagName.toLowerCase()&&t.dom.setAttribs(e,wa(t))},tx=function(t,e){var n,i,r,o,s,a,l,u,c,f,d,h,p,m=t.dom,g=t.schema,v=g.getNonEmptyElements(),y=t.selection.getRng(),b=function(e){var n,o,a,l=r,u=g.getTextInlineElements();if(e||"TABLE"===f||"HR"===f?(n=m.create(e||h),Zb(t,n)):n=s.cloneNode(!1),a=n,!1===ka(t))m.setAttrib(n,"style",null),m.setAttrib(n,"class",null);else do{if(u[l.nodeName]){if(lu(l))continue;o=l.cloneNode(!1),m.setAttrib(o,"id",""),n.hasChildNodes()?(o.appendChild(n.firstChild),n.appendChild(o)):(a=o,n.appendChild(o))}}while((l=l.parentNode)&&l!==i);return Xb(a),n},x=function(t){var e,n,i,a;if(a=Jb(t,r,o),kr.isText(r)&&(t?a>0:a<r.nodeValue.length))return!1;if(r.parentNode===s&&p&&!t)return!0;if(t&&kr.isElement(r)&&r===s.firstChild)return!0;if(Gb(r,"TABLE")||Gb(r,"HR"))return p&&!t||!p&&t;for(e=new Qi(r,s),kr.isText(r)&&(t&&0===a?e.prev():t||a!==r.nodeValue.length||e.next());n=e.current();){if(kr.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(i=n.nodeName.toLowerCase(),v[i]&&"br"!==i))return!1}else if(kr.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;t?e.prev():e.next()}return!0},w=function(){l=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?b(h):b(),Sa(t)&&Kb(m,c)&&m.isEmpty(s)?l=m.split(c,s):m.insertAfter(l,s),Fb(t,l)};Kd(m,y).each((function(t){y.setStart(t.startContainer,t.startOffset),y.setEnd(t.endContainer,t.endOffset)})),r=y.startContainer,o=y.startOffset,h=xa(t),a=e.shiftKey,kr.isElement(r)&&r.hasChildNodes()&&(p=o>r.childNodes.length-1,r=r.childNodes[Math.min(o,r.childNodes.length-1)]||r,o=p&&kr.isText(r)?r.nodeValue.length:0),(i=Qb(m,r))&&((h&&!a||!h&&a)&&(r=function(t,e,n,i,r){var o,s,a,l,u,c,f=e||"P",d=t.dom,h=Qb(d,i);if(!(s=d.getParent(i,d.isBlock))||!Kb(d,s)){if(c=(s=s||h)===t.getBody()||function(t){return t&&/^(TD|TH|CAPTION)$/.test(t.nodeName)}(s)?s.nodeName.toLowerCase():s.parentNode.nodeName.toLowerCase(),!s.hasChildNodes())return o=d.create(f),Zb(t,o),s.appendChild(o),n.setStart(o,0),n.setEnd(o,0),o;for(l=i;l.parentNode!==s;)l=l.parentNode;for(;l&&!d.isBlock(l);)a=l,l=l.previousSibling;if(a&&t.schema.isValidChild(c,f.toLowerCase())){for(o=d.create(f),Zb(t,o),a.parentNode.insertBefore(o,a),l=a;l&&!d.isBlock(l);)u=l.nextSibling,o.appendChild(l),l=u;n.setStart(i,r),n.setEnd(i,r)}}return i}(t,h,y,r,o)),s=m.getParent(r,m.isBlock),c=s?m.getParent(s.parentNode,m.isBlock):null,f=s?s.nodeName.toUpperCase():"","LI"!==(d=c?c.nodeName.toUpperCase():"")||e.ctrlKey||(s=c,c=c.parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&m.isEmpty(s)?Yb(t,b,c,s,h):h&&s===t.getBody()||(h=h||"P",bo(s)?(l=Do(s),m.isEmpty(s)&&Xb(s),Fb(t,l)):x()?w():x(!0)?(l=s.parentNode.insertBefore(b(),s),Fb(t,Gb(s,"HR")?l:s)):((n=function(t){var e=t.cloneRange();return e.setStart(t.startContainer,Jb(!0,t.startContainer,t.startOffset)),e.setEnd(t.endContainer,Jb(!1,t.endContainer,t.endOffset)),e}(y).cloneRange()).setEndAfter(s),function(t){do{kr.isText(t)&&(t.nodeValue=t.nodeValue.replace(/^[\r\n]+/,"")),t=t.firstChild}while(t)}(u=n.extractContents()),l=u.firstChild,m.insertAfter(u,s),function(t,e,n){var i,r=n,o=[];if(r){for(;r=r.firstChild;){if(t.isBlock(r))return;kr.isElement(r)&&!e[r.nodeName.toLowerCase()]&&o.push(r)}for(i=o.length;i--;)!(r=o[i]).hasChildNodes()||r.firstChild===r.lastChild&&""===r.firstChild.nodeValue?t.remove(r):(s=r)&&"A"===s.nodeName&&0===Me.trim(go(s.innerText||s.textContent)).length&&t.remove(r);var s}}(m,v,l),function(t,e){var n;e.normalize(),(n=e.lastChild)&&!/^(left|right)$/gi.test(t.getStyle(n,"float",!0))||t.add(e,"br")}(m,s),m.isEmpty(s)&&Xb(s),l.normalize(),m.isEmpty(l)?(m.remove(l),w()):Fb(t,l)),m.setAttrib(l,"id",""),t.fire("NewBlock",{newBlock:l})))},ex=function(t,e){return zb(t).filter((function(t){return e.length>0&&Ti.is(Mn.fromDom(t),e)})).isSome()},nx=function(t){return ex(t,_a(t))},ix=function(t){return ex(t,Ca(t))},rx=$c([{br:[]},{block:[]},{none:[]}]),ox=function(t,e){return ix(t)},sx=function(t){return function(e,n){return""===xa(e)===t}},ax=function(t){return function(e,n){return Wb(e)===t}},lx=function(t,e){return function(n,i){return jb(n)===t.toUpperCase()===e}},ux=function(t){return lx("pre",t)},cx=function(t){return function(e,n){return ba(e)===t}},fx=function(t,e){return nx(t)},dx=function(t,e){return e},hx=function(t){var e=xa(t),n=Hb(t.dom,t.selection.getStart());return n&&t.schema.isValidChild(n.nodeName,e||"P")},px=function(t,e){return function(n,i){return z.foldl(t,(function(t,e){return t&&e(n,i)}),!0)?k.some(e):k.none()}},mx=function(t,e){return bf([px([ox],rx.none()),px([lx("summary",!0)],rx.br()),px([ux(!0),cx(!1),dx],rx.br()),px([ux(!0),cx(!1)],rx.block()),px([ux(!0),cx(!0),dx],rx.block()),px([ux(!0),cx(!0)],rx.br()),px([ax(!0),dx],rx.br()),px([ax(!0)],rx.block()),px([sx(!0),dx,hx],rx.block()),px([sx(!0)],rx.br()),px([fx],rx.br()),px([sx(!1),dx],rx.br()),px([hx],rx.block())],[t,e.shiftKey]).getOr(rx.none())},gx=function(t,e){mx(t,e).fold((function(){sh(t,e)}),(function(){tx(t,e)}),y.noop)},vx=function(t){t.on("keydown",(function(e){e.keyCode===Jm.ENTER&&function(t,e){var n;e.isDefaultPrevented()||(e.preventDefault(),(n=t.undoManager).typing&&(n.typing=!1,n.add()),t.undoManager.transact((function(){!1===t.selection.isCollapsed()&&t.execCommand("Delete"),gx(t,e)})))}(t,e)}))},yx=function(t,e,n){return!!function(t,e){return bx(t)&&kr.isText(e.container())}(n,e)&&(function(t,e){var n=e.container(),i=e.offset();n.insertData(i,"Â "),t.selection.setCursorLocation(n,i+1)}(t,e),!0)},bx=function(t){return t.fold(y.constant(!1),y.constant(!0),y.constant(!0),y.constant(!1))},xx=function(t){return!!t.selection.isCollapsed()&&function(t){var e=y.curry(lc.isInlineTarget,t),n=ws.fromRangeStart(t.selection.getRng());return Lf(e,t.getBody(),n).map(y.curry(yx,t,n)).getOr(!1)}(t)},wx=function(t){t.on("keydown",(function(e){!1===e.isDefaultPrevented()&&function(t,e){Ab([{keyCode:Jm.SPACEBAR,action:Nb(xx,t)}],e).each((function(t){e.preventDefault()}))}(t,e)}))},_x=function(t,e){e.hasAttribute("data-mce-caret")&&(Do(e),function(t){t.selection.setRng(t.selection.getRng())}(t),t.selection.scrollIntoView(e))},Cx=function(t,e){var n=function(t){return pc(Mn.fromDom(t.getBody()),"*[data-mce-caret]").fold(y.constant(null),(function(t){return t.dom()}))}(t);if(n)return"compositionstart"===e.type?(e.preventDefault(),e.stopPropagation(),void _x(t,n)):void(_o(n)&&(_x(t,n),t.undoManager.add()))},kx=function(t){t.on("keyup compositionstart",y.curry(Cx,t))},Sx=function(t){var e=Gf.setupSelectedState(t);kx(t),Pb(t,e),Rb(t,e),vx(t),wx(t)};function Tx(t){var e,n,i,r=Me.each,o=Jm.BACKSPACE,s=Jm.DELETE,a=t.dom,l=t.selection,u=t.settings,c=t.parser,f=gt.gecko,d=gt.ie,h=gt.webkit,p=d?"Text":"URL",m=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(t){}},g=function(t){return t.isDefaultPrevented()},v=function(){t.shortcuts.add("meta+a",null,"SelectAll")},y=function(){t.on("keydown",(function(t){if(!g(t)&&t.keyCode===o&&l.isCollapsed()&&0===l.getRng().startOffset){var e=l.getNode().previousSibling;if(e&&e.nodeName&&"table"===e.nodeName.toLowerCase())return t.preventDefault(),!1}}))},b=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",(function(e){var n;if("HTML"===e.target.nodeName){if(gt.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}})))};return t.on("keydown",(function(e){var n,i,r,o,s;if(!g(e)&&e.keyCode===Jm.BACKSPACE&&(i=(n=l.getRng()).startContainer,r=n.startOffset,o=a.getRoot(),s=i,n.collapsed&&0===r)){for(;s&&s.parentNode&&s.parentNode.firstChild===s&&s.parentNode!==o;)s=s.parentNode;"BLOCKQUOTE"===s.tagName&&(t.formatter.toggle("blockquote",null,s),(n=a.createRng()).setStart(i,0),n.setEnd(i,0),l.setRng(n))}})),e=function(t){var e=a.create("body"),n=t.cloneContents();return e.appendChild(n),l.serializer.serialize(e,{format:"html"})},t.on("keydown",(function(n){var i,r,l=n.keyCode;if(!g(n)&&(l===s||l===o)){if(i=t.selection.isCollapsed(),r=t.getBody(),i&&!a.isEmpty(r))return;if(!i&&!function(n){var i=e(n),r=a.createRng();return r.selectNode(t.getBody()),i===e(r)}(t.selection.getRng()))return;n.preventDefault(),t.setContent(""),r.firstChild&&a.isBlock(r.firstChild)?t.selection.setCursorLocation(r.firstChild,0):t.selection.setCursorLocation(r,0),t.nodeChanged()}})),gt.windowsPhone||t.on("keyup focusin mouseup",(function(t){Jm.modifierPressed(t)||l.normalize()}),!0),h&&(t.settings.content_editable||a.bind(t.getDoc(),"mousedown mouseup",(function(e){var n;if(e.target===t.getDoc().documentElement)if(n=l.getRng(),t.getBody().focus(),"mousedown"===e.type){if(wo(n.startContainer))return;l.placeCaretAt(e.clientX,e.clientY)}else l.setRng(n)})),t.on("click",(function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==a.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&a.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),l.select(n))})),u.forced_root_block&&t.on("init",(function(){m("DefaultParagraphSeparator",u.forced_root_block)})),t.on("init",(function(){t.dom.bind(t.getBody(),"submit",(function(t){t.preventDefault()}))})),y(),c.addNodeFilter("br",(function(t){for(var e=t.length;e--;)"Apple-interchange-newline"===t[e].attr("class")&&t[e].remove()})),gt.iOS?(t.inline||t.on("keydown",(function(){document.activeElement===document.body&&t.getWin().focus()})),b(),t.on("click",(function(t){var e=t.target;do{if("A"===e.tagName)return void t.preventDefault()}while(e=e.parentNode)})),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")):v()),gt.ie>=11&&(b(),y()),gt.ie&&(v(),m("AutoUrlDetect",!1),t.on("dragstart",(function(e){!function(e){var n,i;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&l.select(e.target),(n=t.selection.getContent()).length>0&&(i="data:text/mce-internal,"+escape(t.id)+","+escape(n),e.dataTransfer.setData(p,i)))}(e)})),t.on("drop",(function(e){if(!g(e)){var n=function(t){var e;return t.dataTransfer&&(e=t.dataTransfer.getData(p))&&e.indexOf("data:text/mce-internal,")>=0?(e=e.substr("data:text/mce-internal,".length).split(","),{id:unescape(e[0]),html:unescape(e[1])}):null}(e);if(n&&n.id!==t.id){e.preventDefault();var i=Fy(e.x,e.y,t.getDoc());l.setRng(i),r=n.html,o=!0,t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:r,internal:o}):t.execCommand("mceInsertContent",!1,r)}}var r,o}))),f&&(t.on("keydown",(function(e){if(!g(e)&&e.keyCode===o){if(!t.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&0===l.getRng().startOffset){var n=l.getNode(),i=n.previousSibling;if("HR"===n.nodeName)return a.remove(n),void e.preventDefault();i&&i.nodeName&&"hr"===i.nodeName.toLowerCase()&&(a.remove(i),e.preventDefault())}}})),Range.prototype.getClientRects||t.on("mousedown",(function(e){if(!g(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),wt.setEditorTimeout(t,(function(){n.focus()}))}})),n=function(){var e=a.getAttribs(l.getStart().cloneNode(!1));return function(){var n=l.getStart();n!==t.getBody()&&(a.setAttrib(n,"style",null),r(e,(function(t){n.setAttributeNode(t.cloneNode(!0))})))}},i=function(){return!l.isCollapsed()&&a.getParent(l.getStart(),a.isBlock)!==a.getParent(l.getEnd(),a.isBlock)},t.on("keypress",(function(e){var r;if(!g(e)&&(8===e.keyCode||46===e.keyCode)&&i())return r=n(),t.getDoc().execCommand("delete",!1,null),r(),e.preventDefault(),!1})),a.bind(t.getDoc(),"cut",(function(e){var r;!g(e)&&i()&&(r=n(),wt.setEditorTimeout(t,(function(){r()})))})),u.readonly||t.on("BeforeExecCommand MouseDown",(function(){m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),u.object_resizing||m("enableObjectResizing",!1)})),t.on("SetContent ExecCommand",(function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||r(a.select("a"),(function(t){var e=t.parentNode,n=a.getRoot();if(e.lastChild===t){for(;e&&!a.isBlock(e);){if(e.parentNode.lastChild!==e||e===n)return;e=e.parentNode}a.add(e,"br",{"data-mce-bogus":1})}}))})),t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"),gt.mac&&t.on("keydown",(function(e){!Jm.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})),y()),{refreshContentEditable:function(){},isHidden:function(){var e;return!f||t.removed?0:!(e=t.selection.getSel())||!e.rangeCount||0===e.rangeCount}}}var Ex=function(t){return kr.isElement(t)&&ar(Mn.fromDom(t))},Dx=function(t){t.on("click",(function(e){3===e.detail&&function(t){var e=t.selection.getRng(),n=bs.fromRangeStart(e),i=bs.fromRangeEnd(e);if(bs.isElementPosition(n)){var r=n.container();Ex(r)&&Fs.firstPositionIn(r).each((function(t){return e.setStart(t.container(),t.offset())}))}bs.isElementPosition(i)&&(r=n.container(),Ex(r)&&Fs.lastPositionIn(r).each((function(t){return e.setEnd(t.container(),t.offset())}))),t.selection.setRng(Bu(e))}(t)}))},Nx=function(t){!function(t){t.on("click",(function(e){t.dom.getParent(e.target,"details")&&e.preventDefault()}))}(t),function(t){t.parser.addNodeFilter("details",(function(t){z.each(t,(function(t){t.attr("data-mce-open",t.attr("open")),t.attr("open","open")}))})),t.serializer.addNodeFilter("details",(function(t){z.each(t,(function(t){var e=t.attr("data-mce-open");t.attr("open",T.isString(e)?e:null),t.attr("data-mce-open",null)}))}))}(t)},Ax=oo.DOM,Px=function(t){t.bindPendingEventDelegates(),t.initialized=!0,t.fire("init"),t.focus(!0),t.nodeChanged({initial:!0}),t.execCallback("init_instance_callback",t),function(t){t.settings.auto_focus&&wt.setEditorTimeout(t,(function(){var e;(e=!0===t.settings.auto_focus?t:t.editorManager.get(t.settings.auto_focus)).destroyed||e.focus()}),100)}(t)},Ox=function(t,e){var n,i,r=t.settings,o=t.getElement(),s=t.getDoc();r.inline||(t.getElement().style.visibility=t.orgVisibility),e||r.content_editable||(s.open(),s.write(t.iframeHTML),s.close()),r.content_editable&&(t.on("remove",(function(){var t=this.getBody();Ax.removeClass(t,"mce-content-body"),Ax.removeClass(t,"mce-edit-focus"),Ax.setAttrib(t,"contentEditable",null)})),Ax.addClass(o,"mce-content-body"),t.contentDocument=s=r.content_document||document,t.contentWindow=r.content_window||window,t.bodyElement=o,r.content_document=r.content_window=null,r.root_name=o.nodeName.toLowerCase()),(n=t.getBody()).disabled=!0,t.readonly=r.readonly,t.readonly||(t.inline&&"static"===Ax.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=t.getParam("content_editable_state",!0)),n.disabled=!1,t.editorUpload=cm(t),t.schema=Xr(r),t.dom=oo(s,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:r.force_hex_style_colors,class_filter:r.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:r.content_editable,schema:t.schema,onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=function(t){var e=Ey(t.settings,t.schema);return e.addAttributeFilter("src,href,style,tabindex",(function(e,n){for(var i,r,o,s=e.length,a=t.dom;s--;)if(r=(i=e[s]).attr(n),o="data-mce-"+n,!i.attributes.map[o]){if(0===r.indexOf("data:")||0===r.indexOf("blob:"))continue;"style"===n?((r=a.serializeStyle(a.parseStyle(r),i.name)).length||(r=null),i.attr(o,r),i.attr(n,r)):"tabindex"===n?(i.attr(o,r),i.attr(n,null)):i.attr(o,t.convertURL(r,n,i.name))}})),e.addNodeFilter("script",(function(t){for(var e,n,i=t.length;i--;)0!==(n=(e=t[i]).attr("type")||"no/type").indexOf("mce-")&&e.attr("type","mce-"+n)})),e.addNodeFilter("#cdata",(function(t){for(var e,n=t.length;n--;)(e=t[n]).type=8,e.name="#comment",e.value="[CDATA["+e.value+"]]"})),e.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",(function(e){for(var n,i=e.length,r=t.schema.getNonEmptyElements();i--;)(n=e[i]).isEmpty(r)&&0===n.getAll("br").length&&(n.append(new by("br",1)).shortEnded=!0)})),e}(t),t.serializer=Py(r,t),t.selection=vb(t.dom,t.getWin(),t.serializer,t),t.formatter=oy(t),t.undoManager=Ag(t),t._nodeChangeDispatcher=new _m(t),t._selectionOverrides=ig(t),Nx(t),Dx(t),Sx(t),mm(t),t.fire("PreInit"),r.browser_spellcheck||r.gecko_spellcheck||(s.body.spellcheck=!1,Ax.setAttrib(n,"spellcheck","false")),t.quirks=Tx(t),t.fire("PostRender"),r.directionality&&(n.dir=r.directionality),r.nowrap&&(n.style.whiteSpace="nowrap"),r.protect&&t.on("BeforeSetContent",(function(t){Me.each(r.protect,(function(e){t.content=t.content.replace(e,(function(t){return"\x3c!--mce:protected "+escape(t)+"--\x3e"}))}))})),t.on("SetContent",(function(){t.addVisual(t.getBody())})),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",(function(e){t.composing="compositionstart"===e.type})),t.contentStyles.length>0&&(i="",Me.each(t.contentStyles,(function(t){i+=t+"\r\n"})),t.dom.addStyle(i)),function(t){return t.inline?Ax.styleSheetLoader:t.dom.styleSheetLoader}(t).loadAll(t.contentCSS,(function(e){Px(t)}),(function(e){Px(t)})),r.content_style&&function(t,e){var n=Mn.fromDom(t.getDoc().head),i=Mn.fromTag("style");ni.set(i,"type","text/css"),Aa.append(i,Mn.fromText(e)),Aa.append(n,i)}(t,r.content_style)},Ix=oo.DOM,Mx=function(t){var e="number"==typeof t?t+"px":t;return e||""},Bx=function(t,e){var n=t.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),i=function(t,e,n,i){var r=Mn.fromTag("iframe");return ni.setAll(r,i),ni.setAll(r,{id:t+"_ifr",frameBorder:"0",allowTransparency:"true",title:e}),ci(r,{width:"100%",height:Mx(n),display:"block"}),r}(t.id,n,e.height,ha(t)).dom();i.onload=function(){i.onload=null,t.fire("load")};var r=function(t,e){if(document.domain!==window.location.hostname&&gt.ie&&gt.ie<12){var n=um("mce");t[n]=function(){Ox(t)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return Ix.setAttrib(e,"src",i),!0}return!1}(t,i);return t.contentAreaContainer=e.iframeContainer,t.iframeElement=i,t.iframeHTML=function(t){var e,n,i;return i=pa(t)+"<html><head>",ma(t)!==t.documentBaseUrl&&(i+='<base href="'+t.documentBaseURI.getURI()+'" />'),i+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',e=ga(t),n=va(t),ya(t)&&(i+='<meta http-equiv="Content-Security-Policy" content="'+ya(t)+'" />'),i+='</head><body id="'+e+'" class="mce-content-body '+n+'" data-id="'+t.id+'"><br></body></html>'}(t),Ix.add(e.iframeContainer,i),r},Rx=function(t,e){var n=Bx(t,e);e.editorContainer&&(Ix.get(e.editorContainer).style.display=t.orgDisplay,t.hidden=Ix.isHidden(e.editorContainer)),t.getElement().style.display="none",Ix.setAttrib(t.id,"aria-hidden","true"),n||Ox(t)},Lx=oo.DOM,Fx=function(t,e,n){var i,r,o=Yp.get(n);if(i=Yp.urls[n]||t.documentBaseUrl.replace(/\/$/,""),n=Me.trim(n),o&&-1===Me.inArray(e,n)){if(Me.each(Yp.dependencies(n),(function(n){Fx(t,e,n)})),t.plugins[n])return;r=new o(t,i,t.$),t.plugins[n]=r,r.init&&(r.init(t,i),e.push(n))}},Hx=function(t){return t.replace(/^\-/,"")},zx=function(t){return{editorContainer:t,iframeContainer:t}},jx=function(t){var e=t.getElement();return t.inline?zx(null):function(t){var e=Lx.create("div");return Lx.insertAfter(e,t),zx(e)}(e)},Wx=function(t){var e=t.settings,n=t.getElement();return t.orgDisplay=n.style.display,T.isString(e.theme)?function(t){var e,n,i,r,o,s=t.settings,a=t.getElement();return e=s.width||Lx.getStyle(a,"width")||"100%",n=s.height||Lx.getStyle(a,"height")||a.offsetHeight,i=s.min_height||100,(r=/^[0-9\.]+(|px)$/i).test(""+e)&&(e=Math.max(parseInt(e,10),100)),r.test(""+n)&&(n=Math.max(parseInt(n,10),i)),o=t.theme.renderUI({targetNode:a,width:e,height:n,deltaWidth:s.delta_width,deltaHeight:s.delta_height}),s.content_editable||(n=(o.iframeHeight||n)+("number"==typeof n?o.deltaHeight||0:""))<i&&(n=i),o.height=n,o}(t):T.isFunction(e.theme)?function(t){var e,n=t.getElement();return(e=t.settings.theme(t,n)).editorContainer.nodeType&&(e.editorContainer.id=e.editorContainer.id||t.id+"_parent"),e.iframeContainer&&e.iframeContainer.nodeType&&(e.iframeContainer.id=e.iframeContainer.id||t.id+"_iframecontainer"),e.height=e.iframeHeight?e.iframeHeight:n.offsetHeight,e}(t):jx(t)},$x=function(t){var e,n=t.settings,i=t.getElement();return t.rtl=n.rtl_ui||t.editorManager.i18n.rtl,t.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||Lx.getAttrib(i,"aria-label",t.getLang("aria.rich_text_area")),t.fire("ScriptsLoaded"),function(t){var e,n=t.settings.theme;T.isString(n)?(t.settings.theme=Hx(n),e=Xp.get(n),t.theme=new e(t,Xp.urls[n]),t.theme.init&&t.theme.init(t,Xp.urls[n]||t.documentBaseUrl.replace(/\/$/,""),t.$)):t.theme={}}(t),function(t){var e=[];Me.each(t.settings.plugins.split(/[ ,]/),(function(n){Fx(t,e,Hx(n))}))}(t),e=Wx(t),t.editorContainer=e.editorContainer?e.editorContainer:null,n.content_css&&Me.each(Me.explode(n.content_css),(function(e){t.contentCSS.push(t.documentBaseURI.toAbsolute(e))})),n.content_editable?Ox(t):Rx(t,e)},qx=oo.DOM,Ux=function(t){return"-"===t.charAt(0)},Vx=function(t,e){var n=co.ScriptLoader;!function(t,e,n,i){var r=e.settings,o=r.theme;if(T.isString(o)){if(!Ux(o)&&!Xp.urls.hasOwnProperty(o)){var s=r.theme_url;s?Xp.load(o,e.documentBaseURI.toAbsolute(s)):Xp.load(o,"themes/"+o+"/theme"+n+".js")}t.loadQueue((function(){Xp.waitFor(o,i)}))}else i()}(n,t,e,(function(){!function(t,e){var n=e.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=e.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!e.editorManager.i18n.data[n.language]&&t.add(n.language_url)}(n,t),function(t,e){Me.isArray(t.plugins)&&(t.plugins=t.plugins.join(" ")),Me.each(t.external_plugins,(function(e,n){Yp.load(n,e),t.plugins+=" "+n})),Me.each(t.plugins.split(/[ ,]/),(function(t){if((t=Me.trim(t))&&!Yp.urls[t])if(Ux(t)){t=t.substr(1,t.length);var n=Yp.dependencies(t);Me.each(n,(function(t){var n={prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"};t=Yp.createUrl(n,t),Yp.load(t.resource,t)}))}else Yp.load(t,{prefix:"plugins/",resource:t,suffix:"/plugin"+e+".js"})}))}(t.settings,e),n.loadQueue((function(){t.removed||$x(t)}),t,(function(e){$p(t,e[0]),t.removed||$x(t)}))}))},Yx=function(t){var e=t.settings,n=t.id,i=function(){qx.unbind(window,"ready",i),t.render()};if(At.Event.domLoaded){if(t.getElement()&&gt.contentEditable){e.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var r=t.getElement().form||qx.getParent(n,"form");r&&(t.formElement=r,e.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(qx.insertAfter(qx.create("input",{type:"hidden",name:n}),n),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},qx.bind(r,"submit reset",t.formEventDelegate),t.on("reset",(function(){t.setContent(t.startContent,{format:"raw"})})),!e.submit_patch||r.submit.nodeType||r.submit.length||r._mceOldSubmit||(r._mceOldSubmit=r.submit,r.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),r._mceOldSubmit(r)})),t.windowManager=Fp(t),t.notificationManager=Lp(t),"xml"===e.encoding&&t.on("GetContent",(function(t){t.save&&(t.content=qx.encode(t.content))})),e.add_form_submit_trigger&&t.on("submit",(function(){t.initialized&&t.save()})),e.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),Vx(t,t.suffix)}}else qx.bind(window,"ready",i)},Xx=function(t,e,n){var i=t.sidebars?t.sidebars:[];i.push({name:e,settings:n}),t.sidebars=i},Gx=Me.each,Kx=Me.trim,Jx="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),Qx={ftp:21,http:80,https:443,mailto:25},Zx=function(t,e){var n,i,r=this;if(t=Kx(t),n=(e=r.settings=e||{}).base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))r.source=t;else{var o=0===t.indexOf("//");0!==t.indexOf("/")||o||(t=(n&&n.protocol||"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(i=e.base_uri?e.base_uri.path:new Zx(document.location.href).directory,""==e.base_uri.protocol?t="//mce_host"+r.toAbsPath(i,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(n&&n.protocol||"http")+"://mce_host"+r.toAbsPath(i,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),Gx(Jx,(function(e,n){var i=t[n];i&&(i=i.replace(/\(mce_at\)/g,"@@")),r[e]=i})),n&&(r.protocol||(r.protocol=n.protocol),r.userInfo||(r.userInfo=n.userInfo),r.port||"mce_host"!==r.host||(r.port=n.port),r.host&&"mce_host"!==r.host||(r.host=n.host),r.source=""),o&&(r.protocol="")}};Zx.prototype={setPath:function(t){t=/^(.*?)\/?(\w+)?$/.exec(t),this.path=t[0],this.directory=t[1],this.file=t[2],this.source="",this.getURI()},toRelative:function(t){var e;if("./"===t)return t;if("mce_host"!==(t=new Zx(t,{base_uri:this})).host&&this.host!==t.host&&t.host||this.port!==t.port||this.protocol!==t.protocol&&""!==t.protocol)return t.getURI();var n=this.getURI(),i=t.getURI();return n===i||"/"===n.charAt(n.length-1)&&n.substr(0,n.length-1)===i?n:(e=this.toRelPath(this.path,t.path),t.query&&(e+="?"+t.query),t.anchor&&(e+="#"+t.anchor),e)},toAbsolute:function(t,e){return(t=new Zx(t,{base_uri:this})).getURI(e&&this.isSameOrigin(t))},isSameOrigin:function(t){if(this.host==t.host&&this.protocol==t.protocol){if(this.port==t.port)return!0;var e=Qx[this.protocol];if(e&&(this.port||e)==(t.port||e))return!0}return!1},toRelPath:function(t,e){var n,i,r,o=0,s="";if(t=(t=t.substring(0,t.lastIndexOf("/"))).split("/"),n=e.split("/"),t.length>=n.length)for(i=0,r=t.length;i<r;i++)if(i>=n.length||t[i]!==n[i]){o=i+1;break}if(t.length<n.length)for(i=0,r=n.length;i<r;i++)if(i>=t.length||t[i]!==n[i]){o=i+1;break}if(1===o)return e;for(i=0,r=t.length-(o-1);i<r;i++)s+="../";for(i=o-1,r=n.length;i<r;i++)s+=i!==o-1?"/"+n[i]:n[i];return s},toAbsPath:function(t,e){var n,i,r,o=0,s=[];for(i=/\/$/.test(e)?"/":"",t=t.split("/"),e=e.split("/"),Gx(t,(function(t){t&&s.push(t)})),t=s,n=e.length-1,s=[];n>=0;n--)0!==e[n].length&&"."!==e[n]&&(".."!==e[n]?o>0?o--:s.push(e[n]):o++);return 0!==(r=(n=t.length-o)<=0?s.reverse().join("/"):t.slice(0,n).join("/")+"/"+s.reverse().join("/")).indexOf("/")&&(r="/"+r),i&&r.lastIndexOf("/")!==r.length-1&&(r+=i),r},getURI:function(t){var e;return this.source&&!t||(e="",t||(this.protocol?e+=this.protocol+"://":e+="//",this.userInfo&&(e+=this.userInfo+"@"),this.host&&(e+=this.host),this.port&&(e+=":"+this.port)),this.path&&(e+=this.path),this.query&&(e+="?"+this.query),this.anchor&&(e+="#"+this.anchor),this.source=e),this.source}},Zx.parseDataUri=function(t){var e,n;return t=decodeURIComponent(t).split(","),(n=/data:([^;]+)/.exec(t[0]))&&(e=n[1]),{type:e,data:t[1]}},Zx.getDocumentBaseUrl=function(t){var e;return e=0!==t.protocol.indexOf("http")&&"file:"!==t.protocol?t.href:t.protocol+"//"+t.host+t.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),e};var tw=function(t,e,n){var i;if(e.format=e.format?e.format:"html",e.get=!0,e.getInner=!0,e.no_events||t.fire("BeforeGetContent",e),"raw"===e.format)i=Me.trim(ug.trimExternal(t.serializer,n.innerHTML));else if("text"===e.format)i=go(n.innerText||n.textContent);else{if("tree"===e.format)return t.serializer.serialize(n,e);i=function(t,e){var n=xa(t),i=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s|Â |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return e.replace(i,"")}(t,t.serializer.serialize(n,e))}return"text"===e.format||hr(Mn.fromDom(n))?e.content=i:e.content=Me.trim(i),e.no_events||t.fire("GetContent",e),e.content},ew=function(t,e){e(t),t.firstChild&&ew(t.firstChild,e),t.next&&ew(t.next,e)},nw=function(t,e,n){var i=function(t,e,n){var i={},r={},o=[];for(var s in n.firstChild&&ew(n.firstChild,(function(n){z.each(t,(function(t){t.name===n.name&&(i[t.name]?i[t.name].nodes.push(n):i[t.name]={filter:t,nodes:[n]})})),z.each(e,(function(t){"string"==typeof n.attr(t.name)&&(r[t.name]?r[t.name].nodes.push(n):r[t.name]={filter:t,nodes:[n]})}))})),i)i.hasOwnProperty(s)&&o.push(i[s]);for(var a in r)r.hasOwnProperty(a)&&o.push(r[a]);return o}(t,e,n);z.each(i,(function(t){z.each(t.filter.callbacks,(function(e){e(t.nodes,t.filter.name,{})}))}))},iw=function(t){return t instanceof by},rw=function(t,e){t.dom.setHTML(t.getBody(),e),function(t){Dp(t)&&Fs.firstPositionIn(t.getBody()).each((function(e){var n=e.getNode(),i=kr.isTable(n)?Fs.firstPositionIn(n).getOr(e):e;t.selection.setRng(i.toRange())}))}(t)},ow=function(t,e,n){return void 0===n&&(n={}),n.format=n.format?n.format:"html",n.set=!0,n.content=iw(e)?"":e,iw(e)||n.no_events||(t.fire("BeforeSetContent",n),e=n.content),k.from(t.getBody()).fold(y.constant(e),(function(i){return iw(e)?function(t,e,n,i){nw(t.parser.getNodeFilters(),t.parser.getAttributeFilters(),n);var r=Iu({validate:t.validate},t.schema).serialize(n);return i.content=hr(Mn.fromDom(e))?r:Me.trim(r),rw(t,i.content),i.no_events||t.fire("SetContent",i),n}(t,i,e,n):function(t,e,n,i){var r,o;return 0===n.length||/^\s+$/.test(n)?(o='<br data-mce-bogus="1">',"TABLE"===e.nodeName?n="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(e.nodeName)&&(n="<li>"+o+"</li>"),(r=xa(t))&&t.schema.isValidChild(e.nodeName.toLowerCase(),r.toLowerCase())?(n=o,n=t.dom.createHTML(r,t.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),rw(t,n),t.fire("SetContent",i)):("raw"!==i.format&&(n=Iu({validate:t.validate},t.schema).serialize(t.parser.parse(n,{isRootContent:!0,insert:!0}))),i.content=hr(Mn.fromDom(e))?n:Me.trim(n),rw(t,i.content),i.no_events||t.fire("SetContent",i)),i.content}(t,i,e,n)}))},sw=oo.DOM,aw=function(t){return k.from(t).each((function(t){return t.destroy()}))},lw=function(t){if(!t.removed){var e=t._selectionOverrides,n=t.editorUpload,i=t.getBody(),r=t.getElement();i&&t.save(),t.removed=!0,t.unbindAllNativeEvents(),t.hasHiddenInput&&r&&sw.remove(r.nextSibling),!t.inline&&i&&function(t){sw.setStyle(t.id,"display",t.orgDisplay)}(t),tp(t),t.editorManager.remove(t),sw.remove(t.getContainer()),aw(e),aw(n),t.destroy()}},uw=function(t,e){var n=t.selection,i=t.dom;t.destroyed||(e||t.removed?(e||(t.editorManager.off("beforeunload",t._beforeUnload),t.theme&&t.theme.destroy&&t.theme.destroy(),aw(n),aw(i)),function(t){var e=t.formElement;e&&(e._mceOldSubmit&&(e.submit=e._mceOldSubmit,e._mceOldSubmit=null),sw.unbind(e,"submit reset",t.formEventDelegate))}(t),function(t){t.contentAreaContainer=t.formElement=t.container=t.editorContainer=null,t.bodyElement=t.contentDocument=t.contentWindow=null,t.iframeElement=t.targetElm=null,t.selection&&(t.selection=t.selection.win=t.selection.dom=t.selection.dom.doc=null)}(t),t.destroyed=!0):t.remove())},cw=oo.DOM,fw=Me.extend,dw=Me.each,hw=Me.resolve,pw=gt.ie,mw=function(t,e,n){var i=this,r=i.documentBaseUrl=n.documentBaseURL,o=n.baseURI;e=function(t,e,n,i,r){var o=function(t,e,n){return{id:t,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:e,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}}(e,n,t);return tc(Vu,o,i,r)}(i,t,r,n.defaultSettings,e),i.settings=e,ho.language=e.language||"en",ho.languageLoad=e.language_load,ho.baseURL=n.baseURL,i.id=t,i.setDirty(!1),i.plugins={},i.documentBaseURI=new Zx(e.document_base_url,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new vp(i),i.loadedCSS={},i.editorCommands=new Oh(i),i.suffix=n.suffix,i.editorManager=n,i.inline=e.inline,i.buttons={},i.menuItems={},e.cache_suffix&&(gt.cacheSuffix=e.cache_suffix.replace(/^[\?\&]+/,"")),!1===e.override_viewport&&(gt.overrideViewPort=!1),n.fire("SetupEditor",{editor:i}),i.execCallback("setup",i),i.$=Ze.overrideDefaults((function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}}))};mw.prototype={render:function(){Yx(this)},focus:function(t){Ep(this,t)},hasFocus:function(){return Dp(this)},execCallback:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i,r=this,o=r.settings[t];if(o)return r.callbackLookup&&(i=r.callbackLookup[t])&&(o=i.func,i=i.scope),"string"==typeof o&&(i=(i=o.replace(/\.\w+$/,""))?hw(i):0,o=hw(o),r.callbackLookup=r.callbackLookup||{},r.callbackLookup[t]={func:o,scope:i}),o.apply(i||r,Array.prototype.slice.call(arguments,1))},translate:function(t){if(t&&Me.is(t,"string")){var e=this.settings.language||"en",n=this.editorManager.i18n;t=n.data[e+"."+t]||t.replace(/\{\#([^\}]+)\}/g,(function(t,i){return n.data[e+"."+i]||"{#"+i+"}"}))}return this.editorManager.translate(t)},getLang:function(t,e){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+t]||(void 0!==e?e:"{#"+t+"}")},getParam:function(t,e,n){return ic(this,t,e,n)},nodeChanged:function(t){this._nodeChangeDispatcher.nodeChanged(t)},addButton:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),e.stateSelector&&void 0===e.active&&(e.active=!1),e.text||e.icon||(e.icon=t),n.buttons=n.buttons,e.tooltip=e.tooltip||e.title,n.buttons[t]=e},addSidebar:function(t,e){return Xx(this,t,e)},addMenuItem:function(t,e){var n=this;e.cmd&&(e.onclick=function(){n.execCommand(e.cmd)}),n.menuItems=n.menuItems,n.menuItems[t]=e},addContextToolbar:function(t,e){var n,i=this;i.contextToolbars=i.contextToolbars||[],"string"==typeof t&&(n=t,t=function(t){return i.dom.is(t,n)}),i.contextToolbars.push({id:um("mcet"),predicate:t,items:e})},addCommand:function(t,e,n){this.editorCommands.addCommand(t,e,n)},addQueryStateHandler:function(t,e,n){this.editorCommands.addQueryStateHandler(t,e,n)},addQueryValueHandler:function(t,e,n){this.editorCommands.addQueryValueHandler(t,e,n)},addShortcut:function(t,e,n,i){this.shortcuts.add(t,e,n,i)},execCommand:function(t,e,n,i){return this.editorCommands.execCommand(t,e,n,i)},queryCommandState:function(t){return this.editorCommands.queryCommandState(t)},queryCommandValue:function(t){return this.editorCommands.queryCommandValue(t)},queryCommandSupported:function(t){return this.editorCommands.queryCommandSupported(t)},show:function(){this.hidden&&(this.hidden=!1,this.inline?this.getBody().contentEditable=!0:(cw.show(this.getContainer()),cw.hide(this.id)),this.load(),this.fire("show"))},hide:function(){var t=this.getDoc();this.hidden||(pw&&t&&!this.inline&&t.execCommand("SelectAll"),this.save(),this.inline?(this.getBody().contentEditable=!1,this===this.editorManager.focusedEditor&&(this.editorManager.focusedEditor=null)):(cw.hide(this.getContainer()),cw.setStyle(this.id,"display",this.orgDisplay)),this.hidden=!0,this.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(t,e){this.fire("ProgressState",{state:t,time:e})},load:function(t){var e,n=this.getElement();return this.removed?"":n?((t=t||{}).load=!0,e=this.setContent(void 0!==n.value?n.value:n.innerHTML,t),t.element=n,t.no_events||this.fire("LoadContent",t),t.element=n=null,e):void 0},save:function(t){var e,n,i=this,r=i.getElement();if(r&&i.initialized&&!i.removed)return(t=t||{}).save=!0,t.element=r,t.content=i.getContent(t),t.no_events||i.fire("SaveContent",t),"raw"===t.format&&i.fire("RawSaveContent",t),e=t.content,/TEXTAREA|INPUT/i.test(r.nodeName)?r.value=e:(i.inline||(r.innerHTML=e),(n=cw.getParent(i.id,"form"))&&dw(n.elements,(function(t){if(t.name===i.id)return t.value=e,!1}))),t.element=r=null,!1!==t.set_dirty&&i.setDirty(!1),e},setContent:function(t,e){return ow(this,t,e)},getContent:function(t){return function(t,e){return void 0===e&&(e={}),k.from(t.getBody()).fold(y.constant("tree"===e.format?new by("body",11):""),(function(n){return tw(t,e,n)}))}(this,t)},insertContent:function(t,e){e&&(t=fw({content:t},e)),this.execCommand("mceInsertContent",!1,t)},isDirty:function(){return!this.isNotDirty},setDirty:function(t){var e=!this.isNotDirty;this.isNotDirty=!t,t&&t!==e&&this.fire("dirty")},setMode:function(t){!function(t,e){e!==sp(t)&&(t.initialized?op(t,"readonly"===e):t.on("init",(function(){op(t,"readonly"===e)})),ep(t,e))}(this,t)},getContainer:function(){return this.container||(this.container=cw.get(this.editorContainer||this.id+"_parent")),this.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=cw.get(this.id)),this.targetElm},getWin:function(){var t;return this.contentWindow||(t=this.iframeElement)&&(this.contentWindow=t.contentWindow),this.contentWindow},getDoc:function(){var t;return this.contentDocument||(t=this.getWin())&&(this.contentDocument=t.document),this.contentDocument},getBody:function(){var t=this.getDoc();return this.bodyElement||(t?t.body:null)},convertURL:function(t,e,n){var i=this.settings;return i.urlconverter_callback?this.execCallback("urlconverter_callback",t,n,!0,e):!i.convert_urls||n&&"LINK"===n.nodeName||0===t.indexOf("file:")||0===t.length?t:i.relative_urls?this.documentBaseURI.toRelative(t):t=this.documentBaseURI.toAbsolute(t,i.remove_script_host)},addVisual:function(t){var e,n=this,i=n.settings,r=n.dom;t=t||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=i.visual),dw(r.select("table,a",t),(function(t){var o;switch(t.nodeName){case"TABLE":return e=i.visual_table_class||"mce-item-table",void((o=r.getAttrib(t,"border"))&&"0"!==o||!n.hasVisual?r.removeClass(t,e):r.addClass(t,e));case"A":return void(r.getAttrib(t,"href")||(o=r.getAttrib(t,"name")||t.id,e=i.visual_anchor_class||"mce-item-anchor",o&&n.hasVisual?r.addClass(t,e):r.removeClass(t,e)))}})),n.fire("VisualAid",{element:t,hasVisual:n.hasVisual})},remove:function(){lw(this)},destroy:function(t){uw(this,t)},uploadImages:function(t){return this.editorUpload.uploadImages(t)},_scanForImages:function(){return this.editorUpload.scanForImages()}},fw(mw.prototype,dp);var gw,vw,yw,bw={isEditorUIElement:function(t){return-1!==t.className.toString().indexOf("mce-")}},xw=function(t,e){On.detect().browser.isIE()?function(t){t.on("focusout",(function(){kh(t)}))}(t):function(t,e){t.on("mouseup touchend",(function(t){e.throttle()}))}(t,e),t.on("keyup nodechange",(function(e){(function(t){return"nodechange"===t.type&&t.selectionChange})(e)||kh(t)}))},ww=function(t){var e=Gm((function(){kh(t)}),0);t.inline&&function(t,e){var n=function(){e.throttle()};oo.DOM.bind(document,"mouseup",n),t.on("remove",(function(){oo.DOM.unbind(document,"mouseup",n)}))}(t,e),t.on("init",(function(){xw(t,e)})),t.on("remove",(function(){e.cancel()}))},_w=oo.DOM,Cw=function(t){return bw.isEditorUIElement(t)},kw=function(t,e){var n=t?t.settings.custom_ui_selector:"";return null!==_w.getParent(e,(function(e){return Cw(e)||!!n&&t.dom.is(e,n)}))},Sw=function(t,e){var n=e.editor;ww(n),n.on("focusin",(function(){var e=t.focusedEditor;e!==this&&(e&&e.fire("blur",{focusedEditor:this}),t.setActive(this),t.focusedEditor=this,this.fire("focus",{blurredEditor:e}),this.focus(!0))})),n.on("focusout",(function(){var e=this;wt.setEditorTimeout(e,(function(){var n=t.focusedEditor;kw(e,function(){try{return document.activeElement}catch(t){return document.body}}())||n!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)}))})),gw||(gw=function(e){var n,i=t.activeEditor;n=e.target,i&&n.ownerDocument===document&&(n===document.body||kw(i,n)||t.focusedEditor!==i||(i.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},_w.bind(document,"focusin",gw))},Tw=function(t,e){t.focusedEditor===e.editor&&(t.focusedEditor=null),t.activeEditor||(_w.unbind(document,"focusin",gw),gw=null)},Ew=function(t){t.on("AddEditor",y.curry(Sw,t)),t.on("RemoveEditor",y.curry(Tw,t))},Dw={},Nw="en",Aw={setCode:function(t){t&&(Nw=t,this.rtl=!!this.data[t]&&"rtl"===this.data[t]._dir)},getCode:function(){return Nw},rtl:!1,add:function(t,e){var n=Dw[t];for(var i in n||(Dw[t]=n={}),e)n[i]=e[i];this.setCode(t)},translate:function(t){var e=Dw[Nw]||{},n=function(t){return Me.is(t,"function")?Object.prototype.toString.call(t):i(t)?"":""+t},i=function(t){return""===t||null===t||Me.is(t,"undefined")},r=function(t){return t=n(t),Me.hasOwn(e,t)?n(e[t]):t};if(i(t))return"";if(Me.is(t,"object")&&Me.hasOwn(t,"raw"))return n(t.raw);if(Me.is(t,"array")){var o=t.slice(1);t=r(t[0]).replace(/\{([0-9]+)\}/g,(function(t,e){return Me.hasOwn(o,e)?n(o[e]):t}))}return r(t).replace(/{context:\w+}$/,"")},data:Dw},Pw=oo.DOM,Ow=Me.explode,Iw=Me.each,Mw=Me.extend,Bw=0,Rw=!1,Lw=[],Fw=[],Hw=function(t){Iw(yw.get(),(function(e){"scroll"===t.type?e.fire("ScrollWindow",t):e.fire("ResizeWindow",t)}))},zw=function(t){t!==Rw&&(t?Ze(window).on("resize scroll",Hw):Ze(window).off("resize scroll",Hw),Rw=t)},jw=function(t){var e=Fw;delete Lw[t.id];for(var n=0;n<Lw.length;n++)if(Lw[n]===t){Lw.splice(n,1);break}return Fw=z.filter(Fw,(function(e){return t!==e})),yw.activeEditor===t&&(yw.activeEditor=Fw.length>0?Fw[0]:null),yw.focusedEditor===t&&(yw.focusedEditor=null),e.length!==Fw.length};yw={defaultSettings:{},$:Ze,majorVersion:"4",minorVersion:"7.13",releaseDate:"2018-05-16",editors:Lw,i18n:Aw,activeEditor:null,settings:{},setup:function(){var t,e,n,i,r="";if(e=Zx.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(e)&&(e=e.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(e)||(e+="/")),n=window.tinymce||window.tinyMCEPreInit)t=n.base||n.baseURL,r=n.suffix;else{for(var o=document.getElementsByTagName("script"),s=0;s<o.length;s++){var a=(i=o[s].src).substring(i.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(i)){-1!==a.indexOf(".min")&&(r=".min"),t=i.substring(0,i.lastIndexOf("/"));break}}!t&&document.currentScript&&(-1!==(i=document.currentScript.src).indexOf(".min")&&(r=".min"),t=i.substring(0,i.lastIndexOf("/")))}this.baseURL=new Zx(e).toAbsolute(t),this.documentBaseURL=e,this.baseURI=new Zx(this.baseURL),this.suffix=r,Ew(this)},overrideDefaults:function(t){var e,n;(e=t.base_url)&&(this.baseURL=new Zx(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new Zx(this.baseURL)),n=t.suffix,t.suffix&&(this.suffix=n),this.defaultSettings=t;var i=t.plugin_base_urls;for(var r in i)ho.PluginManager.urls[r]=i[r]},init:function(t){var e,n,i=this;n=Me.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var r=function(t){var e=t.id;return e||(e=(e=t.name)&&!Pw.get(e)?t.name:Pw.uniqueId(),t.setAttribute("id",e)),e},o=function(t,e){return e.constructor===RegExp?e.test(t.className):Pw.hasClass(t,e)},s=function(t){e=t},a=function(){var e,l=0,u=[],c=function(t,n,r){var o=new mw(t,n,i);u.push(o),o.on("init",(function(){++l===e.length&&s(u)})),o.targetElm=o.targetElm||r,o.render()};Pw.unbind(window,"ready",a),function(e){var n=t[e];n&&n.apply(i,Array.prototype.slice.call(arguments,2))}("onpageload"),e=Ze.unique(function(t){var e,n=[];if(gt.ie&&gt.ie<11)return Vp("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return Iw(t.types,(function(t){n=n.concat(Pw.select(t.selector))})),n;if(t.selector)return Pw.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":(e=t.elements||"").length>0&&Iw(Ow(e),(function(t){var e;(e=Pw.get(t))?n.push(e):Iw(document.forms,(function(e){Iw(e.elements,(function(e){e.name===t&&(t="mce_editor_"+Bw++,Pw.setAttrib(e,"id",t),n.push(e))}))}))}));break;case"textareas":case"specific_textareas":Iw(Pw.select("textarea"),(function(e){t.editor_deselector&&o(e,t.editor_deselector)||t.editor_selector&&!o(e,t.editor_selector)||n.push(e)}))}return n}(t)),t.types?Iw(t.types,(function(n){Me.each(e,(function(e){return!Pw.is(e,n.selector)||(c(r(e),Mw({},t,n),e),!1)}))})):(Me.each(e,(function(t){var e;(e=i.get(t.id))&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(jw(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null)})),0===(e=Me.grep(e,(function(t){return!i.get(t.id)}))).length?s([]):Iw(e,(function(e){!function(t,e){return t.inline&&e.tagName.toLowerCase()in n}(t,e)?c(r(e),t,e):Vp("Could not initialize inline editor on invalid inline target element",e)})))};return i.settings=t,Pw.bind(window,"ready",a),new vt((function(t){e?t(e):s=function(e){t(e)}}))},get:function(t){return 0===arguments.length?Fw.slice(0):T.isString(t)?z.find(Fw,(function(e){return e.id===t})).getOr(null):T.isNumber(t)&&Fw[t]?Fw[t]:null},add:function(t){var e=this;return Lw[t.id]===t?t:(null===e.get(t.id)&&("length"!==t.id&&(Lw[t.id]=t),Lw.push(t),Fw.push(t)),zw(!0),e.activeEditor=t,e.fire("AddEditor",{editor:t}),vw||(vw=function(){e.fire("BeforeUnload")},Pw.bind(window,"beforeunload",vw)),t)},createEditor:function(t,e){return this.add(new mw(t,e,this))},remove:function(t){var e,n,i=this;if(t)return T.isString(t)?(t=t.selector||t,void Iw(Pw.select(t),(function(t){(n=i.get(t.id))&&i.remove(n)}))):(n=t,T.isNull(i.get(n.id))?null:(jw(n)&&i.fire("RemoveEditor",{editor:n}),0===Fw.length&&Pw.unbind(window,"beforeunload",vw),n.remove(),zw(Fw.length>0),n));for(e=Fw.length-1;e>=0;e--)i.remove(Fw[e])},execCommand:function(t,e,n){var i=this.get(n);switch(t){case"mceAddEditor":return this.get(n)||new mw(n,this.settings,this).render(),!0;case"mceRemoveEditor":return i&&i.remove(),!0;case"mceToggleEditor":return i?(i.isHidden()?i.show():i.hide(),!0):(this.execCommand("mceAddEditor",0,n),!0)}return!!this.activeEditor&&this.activeEditor.execCommand(t,e,n)},triggerSave:function(){Iw(Fw,(function(t){t.save()}))},addI18n:function(t,e){Aw.add(t,e)},translate:function(t){return Aw.translate(t)},setActive:function(t){var e=this.activeEditor;this.activeEditor!==t&&(e&&e.fire("deactivate",{relatedTarget:t}),t.fire("activate",{relatedTarget:e})),this.activeEditor=t}},Mw(yw,Lh),yw.setup();var Ww=yw;function $w(t){return{walk:function(e,n){return bv(t,e,n)},split:nv,normalize:function(e){return Kd(t,e).fold(y.constant(!1),(function(t){return e.setStart(t.startContainer,t.startOffset),e.setEnd(t.endContainer,t.endOffset),!0}))}}}!function(t){t.compareRanges=jd,t.getCaretRangeFromPoint=Fy,t.getSelectedNode=Xo,t.getNode=Go}($w||($w={}));var qw,Uw,Vw=$w,Yw=Math.min,Xw=Math.max,Gw=Math.round,Kw=function(t,e,n){var i,r,o,s,a,l;return i=e.x,r=e.y,o=t.w,s=t.h,a=e.w,l=e.h,"b"===(n=(n||"").split(""))[0]&&(r+=l),"r"===n[1]&&(i+=a),"c"===n[0]&&(r+=Gw(l/2)),"c"===n[1]&&(i+=Gw(a/2)),"b"===n[3]&&(r-=s),"r"===n[4]&&(i-=o),"c"===n[3]&&(r-=Gw(s/2)),"c"===n[4]&&(i-=Gw(o/2)),Jw(i,r,o,s)},Jw=function(t,e,n,i){return{x:t,y:e,w:n,h:i}},Qw={inflate:function(t,e,n){return Jw(t.x-e,t.y-n,t.w+2*e,t.h+2*n)},relativePosition:Kw,findBestRelativePosition:function(t,e,n,i){var r,o;for(o=0;o<i.length;o++)if((r=Kw(t,e,i[o])).x>=n.x&&r.x+r.w<=n.w+n.x&&r.y>=n.y&&r.y+r.h<=n.h+n.y)return i[o];return null},intersect:function(t,e){var n,i,r,o;return n=Xw(t.x,e.x),i=Xw(t.y,e.y),r=Yw(t.x+t.w,e.x+e.w),o=Yw(t.y+t.h,e.y+e.h),r-n<0||o-i<0?null:Jw(n,i,r-n,o-i)},clamp:function(t,e,n){var i,r,o,s,a,l,u,c,f,d;return a=t.x,l=t.y,u=t.x+t.w,c=t.y+t.h,f=e.x+e.w,d=e.y+e.h,i=Xw(0,e.x-a),r=Xw(0,e.y-l),o=Xw(0,u-f),s=Xw(0,c-d),a+=i,l+=r,n&&(u+=i,c+=r,a-=o,l-=s),Jw(a,l,(u-=o)-a,(c-=s)-l)},create:Jw,fromClientRect:function(t){return Jw(t.left,t.top,t.width,t.height)}},Zw={},t_={add:function(t,e){Zw[t.toLowerCase()]=e},has:function(t){return!!Zw[t.toLowerCase()]},get:function(t){var e=t.toLowerCase(),n=Zw.hasOwnProperty(e)?Zw[e]:null;if(null===n)throw new Error("Could not find module for type: "+t);return n},create:function(t,e){var n;if("string"==typeof t?(e=e||{}).type=t:t=(e=t).type,t=t.toLowerCase(),!(n=Zw[t]))throw new Error("Could not find control by type: "+t);return(n=new n(e)).type=t,n}},e_=Me.each,n_=Me.extend,i_=function(){};i_.extend=qw=function(t){var e,n,i,r=this.prototype,o=function(){var t,e,n,i=this;if(!Uw&&(i.init&&i.init.apply(i,arguments),e=i.Mixins))for(t=e.length;t--;)(n=e[t]).init&&n.init.apply(i,arguments)},s=function(){return this},a=function(t,e){return function(){var n,i=this,o=i._super;return i._super=r[t],n=e.apply(i,arguments),i._super=o,n}};for(n in Uw=!0,e=new this,Uw=!1,t.Mixins&&(e_(t.Mixins,(function(e){for(var n in e)"init"!==n&&(t[n]=e[n])})),r.Mixins&&(t.Mixins=r.Mixins.concat(t.Mixins))),t.Methods&&e_(t.Methods.split(","),(function(e){t[e]=s})),t.Properties&&e_(t.Properties.split(","),(function(e){var n="_"+e;t[e]=function(t){return void 0!==t?(this[n]=t,this):this[n]}})),t.Statics&&e_(t.Statics,(function(t,e){o[e]=t})),t.Defaults&&r.Defaults&&(t.Defaults=n_({},r.Defaults,t.Defaults)),t)"function"==typeof(i=t[n])&&r[n]?e[n]=a(n,i):e[n]=i;return o.prototype=e,o.constructor=o,o.extend=qw,o};var r_=Math.min,o_=Math.max,s_=Math.round,a_=function(t,e){var n,i,r,o;if(e=e||'"',null===t)return"null";if("string"==(r=typeof t))return i="\bb\tt\nn\ff\rr\"\"''\\\\",e+t.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,(function(t,r){return'"'===e&&"'"===t?t:(n=i.indexOf(r))+1?"\\"+i.charAt(n+1):(t=r.charCodeAt().toString(16),"\\u"+"0000".substring(t.length)+t)}))+e;if("object"===r){if(t.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(t)){for(n=0,i="[";n<t.length;n++)i+=(n>0?",":"")+a_(t[n],e);return i+"]"}for(o in i="{",t)t.hasOwnProperty(o)&&(i+="function"!=typeof t[o]?(i.length>1?","+e:e)+o+e+":"+a_(t[o],e):"");return i+"}"}return""+t},l_={serialize:a_,parse:function(t){try{return JSON.parse(t)}catch(t){}}},u_={callbacks:{},count:0,send:function(t){var e=this,n=oo.DOM,i=void 0!==t.count?t.count:e.count,r="tinymce_jsonp_"+i;e.callbacks[i]=function(o){n.remove(r),delete e.callbacks[i],t.callback(o)},n.add(n.doc.body,"script",{id:r,src:t.url,type:"text/javascript"}),e.count++}},c_={send:function(t){var e,n=0,i=function(){!t.async||4===e.readyState||n++>1e4?(t.success&&n<1e4&&200===e.status?t.success.call(t.success_scope,""+e.responseText,e,t):t.error&&t.error.call(t.error_scope,n>1e4?"TIMED_OUT":"GENERAL",e,t),e=null):setTimeout(i,10)};if(t.scope=t.scope||this,t.success_scope=t.success_scope||t.scope,t.error_scope=t.error_scope||t.scope,t.async=!1!==t.async,t.data=t.data||"",c_.fire("beforeInitialize",{settings:t}),e=new Gp){if(e.overrideMimeType&&e.overrideMimeType(t.content_type),e.open(t.type||(t.data?"POST":"GET"),t.url,t.async),t.crossDomain&&(e.withCredentials=!0),t.content_type&&e.setRequestHeader("Content-Type",t.content_type),t.requestheaders&&Me.each(t.requestheaders,(function(t){e.setRequestHeader(t.key,t.value)})),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),(e=c_.fire("beforeSend",{xhr:e,settings:t}).xhr).send(t.data),!t.async)return i();setTimeout(i,10)}}};Me.extend(c_,Lh);var f_=Me.extend,d_=function(t){this.settings=f_({},t),this.count=0};d_.sendRPC=function(t){return(new d_).send(t)},d_.prototype={send:function(t){var e=t.error,n=t.success;(t=f_(this.settings,t)).success=function(i,r){void 0===(i=l_.parse(i))&&(i={error:"JSON Parse error."}),i.error?e.call(t.error_scope||t.scope,i.error,r):n.call(t.success_scope||t.scope,i.result)},t.error=function(n,i){e&&e.call(t.error_scope||t.scope,n,i)},t.data=l_.serialize({id:t.id||"c"+this.count++,method:t.method,params:t.params}),t.content_type="application/json",c_.send(t)}};var h_=window.localStorage,p_=Ww,m_={geom:{Rect:Qw},util:{Promise:vt,Delay:wt,Tools:Me,VK:Jm,URI:Zx,Class:i_,EventDispatcher:Mh,Observable:Lh,I18n:Aw,XHR:c_,JSON:l_,JSONRequest:d_,JSONP:u_,LocalStorage:h_,Color:function(t){var e={},n=0,i=0,r=0,o=function(t){var o;return"object"==typeof t?"r"in t?(n=t.r,i=t.g,r=t.b):"v"in t&&function(t,e,o){var s,a,l,u;if(t=(parseInt(t,10)||0)%360,e=parseInt(e,10)/100,o=parseInt(o,10)/100,e=o_(0,r_(e,1)),o=o_(0,r_(o,1)),0!==e){switch(s=t/60,l=(a=o*e)*(1-Math.abs(s%2-1)),u=o-a,Math.floor(s)){case 0:n=a,i=l,r=0;break;case 1:n=l,i=a,r=0;break;case 2:n=0,i=a,r=l;break;case 3:n=0,i=l,r=a;break;case 4:n=l,i=0,r=a;break;case 5:n=a,i=0,r=l;break;default:n=i=r=0}n=s_(255*(n+u)),i=s_(255*(i+u)),r=s_(255*(r+u))}else n=i=r=s_(255*o)}(t.h,t.s,t.v):(o=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(t))?(n=parseInt(o[1],10),i=parseInt(o[2],10),r=parseInt(o[3],10)):(o=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(t))?(n=parseInt(o[1],16),i=parseInt(o[2],16),r=parseInt(o[3],16)):(o=/#([0-F])([0-F])([0-F])/gi.exec(t))&&(n=parseInt(o[1]+o[1],16),i=parseInt(o[2]+o[2],16),r=parseInt(o[3]+o[3],16)),n=n<0?0:n>255?255:n,i=i<0?0:i>255?255:i,r=r<0?0:r>255?255:r,e};return t&&o(t),e.toRgb=function(){return{r:n,g:i,b:r}},e.toHsv=function(){return function(t,e,n){var i,r,o,s;return r=0,(o=r_(t/=255,r_(e/=255,n/=255)))===(s=o_(t,o_(e,n)))?{h:0,s:0,v:100*(r=o)}:(i=(s-o)/s,r=s,{h:s_(60*((t===o?3:n===o?1:5)-(t===o?e-n:n===o?t-e:n-t)/(s-o))),s:s_(100*i),v:s_(100*r)})}(n,i,r)},e.toHex=function(){var t=function(t){return(t=parseInt(t,10).toString(16)).length>1?t:"0"+t};return"#"+t(n)+t(i)+t(r)},e.parse=o,e}},dom:{EventUtils:At,Sizzle:fe,DomQuery:Ze,TreeWalker:Qi,DOMUtils:oo,ScriptLoader:co,RangeUtils:Vw,Serializer:Py,ControlSelection:Ry,BookmarkManager:Iy,Selection:vb,Event:At.Event},html:{Styles:Kr,Entities:Fr,Node:by,Schema:Xr,SaxParser:ag,DomParser:Ey,Writer:Ou,Serializer:Iu},ui:{Factory:t_},Env:gt,AddOnManager:ho,Formatter:oy,UndoManager:Ag,EditorCommands:Oh,WindowManager:Fp,NotificationManager:Lp,EditorObservable:dp,Shortcuts:vp,Editor:mw,FocusManager:bw,EditorManager:Ww,DOM:oo.DOM,ScriptLoader:co.ScriptLoader,PluginManager:ho.PluginManager,ThemeManager:ho.ThemeManager,trim:Me.trim,isArray:Me.isArray,is:Me.is,toArray:Me.toArray,makeMap:Me.makeMap,each:Me.each,map:Me.map,grep:Me.grep,inArray:Me.inArray,extend:Me.extend,create:Me.create,walk:Me.walk,createNS:Me.createNS,resolve:Me.resolve,explode:Me.explode,_addCacheSuffix:Me._addCacheSuffix,isOpera:gt.opera,isWebKit:gt.webkit,isIE:gt.ie,isGecko:gt.gecko,isMac:gt.mac},g_=p_=Me.extend(p_,m_);!function(t){window.tinymce=t,window.tinyMCE=t}(g_),function(e){try{t.exports=e}catch(t){}}(g_)}(),t.exports=window.tinymce}).call(window)}).call(this,n(20).setImmediate)},function(t,e,n){n(0),n(6),n(7),n(8),n(10),n(2),n(11),n(12),n(13),n(14),n(16),n(17),n(3),n(19),n(27),t.exports=n(28)},function(t,e,n){var i,r,o;r=[n(0)],void 0===(o="function"==typeof(i=function(t){function e(e,i){var r,o,s,a=e.nodeName.toLowerCase();return"area"===a?(o=(r=e.parentNode).name,!(!e.href||!o||"map"!==r.nodeName.toLowerCase())&&!!(s=t("img[usemap='#"+o+"']")[0])&&n(s)):(/^(input|select|textarea|button|object)$/.test(a)?!e.disabled:"a"===a&&e.href||i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter((function(){return"hidden"===t.css(this,"visibility")})).length}var i,r,o,s;t.ui=t.ui||{},t.extend(t.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({scrollParent:function(e){var n=this.css("position"),i="absolute"===n,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,o=this.parents().filter((function(){var e=t(this);return(!i||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))})).eq(0);return"fixed"!==n&&o.length?o:t(this[0].ownerDocument||document)},uniqueId:(i=0,function(){return this.each((function(){this.id||(this.id="ui-id-"+ ++i)}))}),removeUniqueId:function(){return this.each((function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")}))}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo((function(e){return function(n){return!!t.data(n,e)}})):function(e,n,i){return!!t.data(e,i[3])},focusable:function(n){return e(n,!isNaN(t.attr(n,"tabindex")))},tabbable:function(n){var i=t.attr(n,"tabindex"),r=isNaN(i);return(r||i>=0)&&e(n,!r)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],(function(e,n){var i="Width"===n?["Left","Right"]:["Top","Bottom"],r=n.toLowerCase(),o={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function s(e,n,r,o){return t.each(i,(function(){n-=parseFloat(t.css(e,"padding"+this))||0,r&&(n-=parseFloat(t.css(e,"border"+this+"Width"))||0),o&&(n-=parseFloat(t.css(e,"margin"+this))||0)})),n}t.fn["inner"+n]=function(e){return void 0===e?o["inner"+n].call(this):this.each((function(){t(this).css(r,s(this,e)+"px")}))},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?o["outer"+n].call(this,e):this.each((function(){t(this).css(r,s(this,e,!0,i)+"px")}))}})),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=(r=t.fn.removeData,function(e){return arguments.length?r.call(this,t.camelCase(e)):r.call(this)})),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.fn.extend({focus:(s=t.fn.focus,function(e,n){return"number"==typeof e?this.each((function(){var i=this;setTimeout((function(){t(i).focus(),n&&n.call(i)}),e)})):s.apply(this,arguments)}),disableSelection:(o="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.bind(o+".ui-disableSelection",(function(t){t.preventDefault()}))}),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(e){if(void 0!==e)return this.css("zIndex",e);if(this.length)for(var n,i,r=t(this[0]);r.length&&r[0]!==document;){if(("absolute"===(n=r.css("position"))||"relative"===n||"fixed"===n)&&(i=parseInt(r.css("zIndex"),10),!isNaN(i)&&0!==i))return i;r=r.parent()}return 0}}),t.ui.plugin={add:function(e,n,i){var r,o=t.ui[e].prototype;for(r in i)o.plugins[r]=o.plugins[r]||[],o.plugins[r].push([n,i[r]])},call:function(t,e,n,i){var r,o=t.plugins[e];if(o&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(r=0;r<o.length;r++)t.options[o[r][0]]&&o[r][1].apply(t.element,n)}};var a=0,l=Array.prototype.slice;t.cleanData=function(e){return function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=t._data(r,"events"))&&i.remove&&t(r).triggerHandler("remove")}catch(t){}e(n)}}(t.cleanData),t.widget=function(e,n,i){var r,o,s,a,l={},u=e.split(".")[0];return e=e.split(".")[1],r=u+"-"+e,i||(i=n,n=t.Widget),t.expr[":"][r.toLowerCase()]=function(e){return!!t.data(e,r)},t[u]=t[u]||{},o=t[u][e],s=t[u][e]=function(t,e){if(!this._createWidget)return new s(t,e);arguments.length&&this._createWidget(t,e)},t.extend(s,o,{version:i.version,_proto:t.extend({},i),_childConstructors:[]}),(a=new n).options=t.widget.extend({},a.options),t.each(i,(function(e,i){var r,o;t.isFunction(i)?l[e]=(r=function(){return n.prototype[e].apply(this,arguments)},o=function(t){return n.prototype[e].apply(this,t)},function(){var t,e=this._super,n=this._superApply;return this._super=r,this._superApply=o,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}):l[e]=i})),s.prototype=t.widget.extend(a,{widgetEventPrefix:o&&a.widgetEventPrefix||e},l,{constructor:s,namespace:u,widgetName:e,widgetFullName:r}),o?(t.each(o._childConstructors,(function(e,n){var i=n.prototype;t.widget(i.namespace+"."+i.widgetName,s,n._proto)})),delete o._childConstructors):n._childConstructors.push(s),t.widget.bridge(e,s),s},t.widget.extend=function(e){for(var n,i,r=l.call(arguments,1),o=0,s=r.length;o<s;o++)for(n in r[o])i=r[o][n],r[o].hasOwnProperty(n)&&void 0!==i&&(t.isPlainObject(i)?e[n]=t.isPlainObject(e[n])?t.widget.extend({},e[n],i):t.widget.extend({},i):e[n]=i);return e},t.widget.bridge=function(e,n){var i=n.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,s=l.call(arguments,1),a=this;return o?this.each((function(){var n,o=t.data(this,i);return"instance"===r?(a=o,!1):o?t.isFunction(o[r])&&"_"!==r.charAt(0)?(n=o[r].apply(o,s))!==o&&void 0!==n?(a=n&&n.jquery?a.pushStack(n.get()):n,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")})):(s.length&&(r=t.widget.extend.apply(null,[r].concat(s))),this.each((function(){var e=t.data(this,i);e?(e.option(r||{}),e._init&&e._init()):t.data(this,i,new n(r,this))}))),a}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=a++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(e,n){var i,r,o,s=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(s={},i=e.split("."),e=i.shift(),i.length){for(r=s[e]=t.widget.extend({},this.options[e]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(e=i.pop(),1===arguments.length)return void 0===r[e]?null:r[e];r[e]=n}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];s[e]=n}return this._setOptions(s),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!e),e&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(e,n,i){var r,o=this;"boolean"!=typeof e&&(i=n,n=e,e=!1),i?(n=r=t(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),t.each(i,(function(i,s){function a(){if(e||!0!==o.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||t.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,c=l[2];c?r.delegate(c,u,a):n.bind(u,a)}))},_off:function(e,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(n).undelegate(n),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var n=this;return setTimeout((function(){return("string"==typeof t?n[t]:t).apply(n,arguments)}),e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,n,i){var r,o,s=this.options[e];if(i=i||{},(n=t.Event(n)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(t.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},(function(e,n){t.Widget.prototype["_"+e]=function(i,r,o){"string"==typeof r&&(r={effect:r});var s,a=r?!0===r||"number"==typeof r?n:r.effect||n:e;"number"==typeof(r=r||{})&&(r={duration:r}),s=!t.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&t.effects&&t.effects.effect[a]?i[e](r):a!==e&&i[a]?i[a](r.duration,r.easing,o):i.queue((function(n){t(this)[e](),o&&o.call(i[0]),n()}))}})),t.widget;var u=!1;t(document).mouseup((function(){u=!1})),t.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,(function(t){return e._mouseDown(t)})).bind("click."+this.widgetName,(function(n){if(!0===t.data(n.target,e.widgetName+".preventClickEvent"))return t.removeData(n.target,e.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1})),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!u){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var n=this,i=1===e.which,r=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(i&&!r&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout((function(){n.mouseDelayMet=!0}),this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),u=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),u=!1,!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,n){return t>=e&&t<e+n},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),t.each(this.items,(function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")}))},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,n){var i=null,r=!1,o=this;return!(this.reverting||this.options.disabled||"static"===this.options.type||(this._refreshItems(e),t(e.target).parents().each((function(){if(t.data(this,o.widgetName+"-item")===o)return i=t(this),!1})),t.data(e.target,o.widgetName+"-item")===o&&(i=t(e.target)),!i||this.options.handle&&!n&&(t(this.options.handle,i).find("*").addBack().each((function(){this===e.target&&(r=!0)})),!r)||(this.currentItem=i,this._removeCurrentsFromItems(),0)))},_mouseStart:function(e,n,i){var r,o,s=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),s.containment&&this._setContainment(),s.cursor&&"auto"!==s.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",s.cursor),this.storedStylesheet=t("<style>*{ cursor: "+s.cursor+" !important; }</style>").appendTo(o)),s.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",s.opacity)),s.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",s.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(r=this.containers.length-1;r>=0;r--)this.containers[r]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var n,i,r,o,s=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<s.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+s.scrollSpeed:e.pageY-this.overflowOffset.top<s.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-s.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<s.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+s.scrollSpeed:e.pageX-this.overflowOffset.left<s.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-s.scrollSpeed)):(e.pageY-this.document.scrollTop()<s.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-s.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<s.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+s.scrollSpeed)),e.pageX-this.document.scrollLeft()<s.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-s.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<s.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+s.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),n=this.items.length-1;n>=0;n--)if(r=(i=this.items[n]).item[0],(o=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(r===this.currentItem[0]||this.placeholder[1===o?"next":"prev"]()[0]===r||t.contains(this.placeholder[0],r)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],r))){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,n){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var i=this,r=this.placeholder.offset(),o=this.options.axis,s={};o&&"x"!==o||(s.left=r.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),o&&"y"!==o||(s.top=r.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(s,parseInt(this.options.revert,10)||500,(function(){i._clear(e)}))}else this._clear(e,n);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t(n).each((function(){var n=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);n&&i.push((e.key||n[1]+"[]")+"="+(e.key&&e.expression?n[1]:n[2]))})),!i.length&&e.key&&i.push(e.key+"="),i.join("&")},toArray:function(e){var n=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},n.each((function(){i.push(t(e.item||this).attr(e.attribute||"id")||"")})),i},_intersectsWith:function(t){var e=this.positionAbs.left,n=e+this.helperProportions.width,i=this.positionAbs.top,r=i+this.helperProportions.height,o=t.left,s=o+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,f="x"===this.options.axis||i+u>a&&i+u<l,d="y"===this.options.axis||e+c>o&&e+c<s,h=f&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?h:o<e+this.helperProportions.width/2&&n-this.helperProportions.width/2<s&&a<i+this.helperProportions.height/2&&r-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),i=e&&n,r=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!i&&(this.floating?o&&"right"===o||"down"===r?2:1:r&&("down"===r?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),i=this._getDragVerticalDirection(),r=this._getDragHorizontalDirection();return this.floating&&r?"right"===r&&n||"left"===r&&!n:i&&("down"===i&&e||"up"===i&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var n,i,r,o,s=[],a=[],l=this._connectWith();if(l&&e)for(n=l.length-1;n>=0;n--)for(i=(r=t(l[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&a.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);function u(){s.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=a.length-1;n>=0;n--)a[n][0].each(u);return t(s)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,(function(t){for(var n=0;n<e.length;n++)if(e[n]===t.item[0])return!1;return!0}))},_refreshItems:function(e){this.items=[],this.containers=[this];var n,i,r,o,s,a,l,u,c=this.items,f=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(n=d.length-1;n>=0;n--)for(i=(r=t(d[n],this.document[0])).length-1;i>=0;i--)(o=t.data(r[i],this.widgetFullName))&&o!==this&&!o.options.disabled&&(f.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(n=f.length-1;n>=0;n--)for(s=f[n][1],i=0,u=(a=f[n][0]).length;i<u;i++)(l=t(a[i])).data(this.widgetName+"-item",s),c.push({item:l,instance:s,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var n,i,r,o;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),n=this.items.length-1;n>=0;n--)(i=this.items[n]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(r=this.options.toleranceElement?t(this.options.toleranceElement,i.item):i.item,e||(i.width=r.outerWidth(),i.height=r.outerHeight()),o=r.offset(),i.left=o.left,i.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)o=this.containers[n].element.offset(),this.containers[n].containerCache.left=o.left,this.containers[n].containerCache.top=o.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(e){var n,i=(e=e||this).options;i.placeholder&&i.placeholder.constructor!==String||(n=i.placeholder,i.placeholder={element:function(){var i=e.currentItem[0].nodeName.toLowerCase(),r=t("<"+i+">",e.document[0]).addClass(n||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===i?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(r)):"tr"===i?e._createTrPlaceholder(e.currentItem,r):"img"===i&&r.attr("src",e.currentItem.attr("src")),n||r.css("visibility","hidden"),r},update:function(t,r){n&&!i.forcePlaceholderSize||(r.height()||r.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),r.width()||r.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(i.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),i.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,n){var i=this;e.children().each((function(){t("<td>&#160;</td>",i.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(n)}))},_contactContainers:function(e){var n,i,r,o,s,a,l,u,c,f,d=null,h=null;for(n=this.containers.length-1;n>=0;n--)if(!t.contains(this.currentItem[0],this.containers[n].element[0]))if(this._intersectsWith(this.containers[n].containerCache)){if(d&&t.contains(this.containers[n].element[0],d.element[0]))continue;d=this.containers[n],h=n}else this.containers[n].containerCache.over&&(this.containers[n]._trigger("out",e,this._uiHash(this)),this.containers[n].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[h].containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1);else{for(r=1e4,o=null,s=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",f=c?"clientX":"clientY",i=this.items.length-1;i>=0;i--)t.contains(this.containers[h].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(l=this.items[i].item.offset()[s],u=!1,e[f]-l>this.items[i][a]/2&&(u=!0),Math.abs(e[f]-l)<r&&(r=Math.abs(e[f]-l),o=this.items[i],this.direction=u?"up":"down"));if(!o&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[h])return void(this.currentContainer.containerCache.over||(this.containers[h]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));o?this._rearrange(e,o,null,!0):this._rearrange(e,null,this.containers[h].element,!0),this._trigger("change",e,this._uiHash()),this.containers[h]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[h],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[h]._trigger("over",e,this._uiHash(this)),this.containers[h].containerCache.over=1}},_createHelper:function(e){var n=this.options,i=t.isFunction(n.helper)?t(n.helper.apply(this.element[0],[e,this.currentItem])):"clone"===n.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||t("parent"!==n.appendTo?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!n.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!n.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,n,i,r=this.options;"parent"===r.containment&&(r.containment=this.helper[0].parentNode),"document"!==r.containment&&"window"!==r.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===r.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===r.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(r.containment)||(e=t(r.containment)[0],n=t(r.containment).offset(),i="hidden"!==t(e).css("overflow"),this.containment=[n.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,n.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,n){n||(n=this.position);var i="absolute"===e?1:-1,r="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(r[0].tagName);return{top:n.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:r.scrollTop())*i,left:n.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:r.scrollLeft())*i}},_generatePosition:function(e){var n,i,r=this.options,o=e.pageX,s=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(s=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(s=this.containment[3]+this.offset.click.top)),r.grid&&(n=this.originalPageY+Math.round((s-this.originalPageY)/r.grid[1])*r.grid[1],s=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-r.grid[1]:n+r.grid[1]:n,i=this.originalPageX+Math.round((o-this.originalPageX)/r.grid[0])*r.grid[0],o=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-r.grid[0]:i+r.grid[0]:i)),{top:s-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,n,i){n?n[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var r=this.counter;this._delay((function(){r===this.counter&&this.refreshPositions(!i)}))},_clear:function(t,e){this.reverting=!1;var n,i=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)"auto"!==this._storedCSS[n]&&"static"!==this._storedCSS[n]||(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();function r(t,e,n){return function(i){n._trigger(t,i,e._uiHash(e))}}for(this.fromOutside&&!e&&i.push((function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))})),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||i.push((function(t){this._trigger("update",t,this._uiHash())})),this!==this.currentContainer&&(e||(i.push((function(t){this._trigger("remove",t,this._uiHash())})),i.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),i.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)e||i.push(r("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(i.push(r("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(n=0;n<i.length;n++)i[n].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var n=e||this;return{helper:n.helper,placeholder:n.placeholder||t([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:e?e.element:null}}})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){"use strict";n.r(e),function(t){var n="undefined"!=typeof window&&"undefined"!=typeof document;const i=["Edge","Trident","Firefox"];let r=0;for(let t=0;t<i.length;t+=1)if(n&&navigator.userAgent.indexOf(i[t])>=0){r=1;break}var o=n&&window.Promise?function(t){let e=!1;return()=>{e||(e=!0,window.Promise.resolve().then(()=>{e=!1,t()}))}}:function(t){let e=!1;return()=>{e||(e=!0,setTimeout(()=>{e=!1,t()},r))}};function s(t){return t&&"[object Function]"==={}.toString.call(t)}function a(t,e){if(1!==t.nodeType)return[];const n=getComputedStyle(t,null);return e?n[e]:n}function l(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function u(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:e,overflowX:n,overflowY:i}=a(t);return/(auto|scroll|overlay)/.test(e+i+n)?t:u(l(t))}const c=n&&!(!window.MSInputMethodContext||!document.documentMode),f=n&&/MSIE 10/.test(navigator.userAgent);function d(t){return 11===t?c:10===t?f:c||f}function h(t){if(!t)return document.documentElement;const e=d(10)?document.body:null;let n=t.offsetParent;for(;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;const i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?h(n):n:t?t.ownerDocument.documentElement:document.documentElement}function p(t){return null!==t.parentNode?p(t.parentNode):t}function m(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;const n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);const{commonAncestorContainer:s}=o;if(t!==s&&e!==s||i.contains(r))return function(t){const{nodeName:e}=t;return"BODY"!==e&&("HTML"===e||h(t.firstElementChild)===t)}(s)?s:h(s);const a=p(t);return a.host?m(a.host,e):m(t,p(e).host)}function g(t,e="top"){const n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){const e=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||e)[n]}return t[n]}function v(t,e){const n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t[`border${n}Width`],10)+parseFloat(t[`border${i}Width`],10)}function y(t,e,n,i){return Math.max(e[`offset${t}`],e[`scroll${t}`],n[`client${t}`],n[`offset${t}`],n[`scroll${t}`],d(10)?n[`offset${t}`]+i[`margin${"Height"===t?"Top":"Left"}`]+i[`margin${"Height"===t?"Bottom":"Right"}`]:0)}function b(){const t=document.body,e=document.documentElement,n=d(10)&&getComputedStyle(e);return{height:y("Height",t,e,n),width:y("Width",t,e,n)}}var x=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function w(t){return x({},t,{right:t.left+t.width,bottom:t.top+t.height})}function _(t){let e={};try{if(d(10)){e=t.getBoundingClientRect();const n=g(t,"top"),i=g(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}const n={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},i="HTML"===t.nodeName?b():{},r=i.width||t.clientWidth||n.right-n.left,o=i.height||t.clientHeight||n.bottom-n.top;let s=t.offsetWidth-r,l=t.offsetHeight-o;if(s||l){const e=a(t);s-=v(e,"x"),l-=v(e,"y"),n.width-=s,n.height-=l}return w(n)}function C(t,e,n=!1){const i=d(10),r="HTML"===e.nodeName,o=_(t),s=_(e),l=u(t),c=a(e),f=parseFloat(c.borderTopWidth,10),h=parseFloat(c.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));let p=w({top:o.top-s.top-f,left:o.left-s.left-h,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){const t=parseFloat(c.marginTop,10),e=parseFloat(c.marginLeft,10);p.top-=f-t,p.bottom-=f-t,p.left-=h-e,p.right-=h-e,p.marginTop=t,p.marginLeft=e}return(i&&!n?e.contains(l):e===l&&"BODY"!==l.nodeName)&&(p=function(t,e,n=!1){const i=g(e,"top"),r=g(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}(p,e)),p}function k(t){if(!t||!t.parentElement||d())return document.documentElement;let e=t.parentElement;for(;e&&"none"===a(e,"transform");)e=e.parentElement;return e||document.documentElement}function S(t,e,n,i,r=!1){let o={top:0,left:0};const s=r?k(t):m(t,e);if("viewport"===i)o=function(t,e=!1){const n=t.ownerDocument.documentElement,i=C(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:g(n),a=e?0:g(n,"left");return w({top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o})}(s,r);else{let n;"scrollParent"===i?(n=u(l(e)),"BODY"===n.nodeName&&(n=t.ownerDocument.documentElement)):n="window"===i?t.ownerDocument.documentElement:i;const c=C(n,s,r);if("HTML"!==n.nodeName||function t(e){const n=e.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===a(e,"position")||t(l(e)))}(s))o=c;else{const{height:t,width:e}=b();o.top+=c.top-c.marginTop,o.bottom=t+c.top,o.left+=c.left-c.marginLeft,o.right=e+c.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function T({width:t,height:e}){return t*e}function E(t,e,n,i,r,o=0){if(-1===t.indexOf("auto"))return t;const s=S(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map(t=>x({key:t},a[t],{area:T(a[t])})).sort((t,e)=>e.area-t.area),u=l.filter(({width:t,height:e})=>t>=n.clientWidth&&e>=n.clientHeight),c=u.length>0?u[0].key:l[0].key,f=t.split("-")[1];return c+(f?`-${f}`:"")}function D(t,e,n,i=null){return C(n,i?k(e):m(e,n),i)}function N(t){const e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function A(t){const e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,t=>e[t])}function P(t,e,n){n=n.split("-")[0];const i=N(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[u]:e[A(a)],r}function O(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function I(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex(t=>t[e]===n);const i=O(t,t=>t[e]===n);return t.indexOf(i)}(t,"name",n))).forEach(t=>{t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");const n=t.function||t.fn;t.enabled&&s(n)&&(e.offsets.popper=w(e.offsets.popper),e.offsets.reference=w(e.offsets.reference),e=n(e,t))}),e}function M(){if(this.state.isDestroyed)return;let t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=D(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=E(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=P(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=I(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}function B(t,e){return t.some(({name:t,enabled:n})=>n&&t===e)}function R(t){const e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1);for(let i=0;i<e.length;i++){const r=e[i],o=r?`${r}${n}`:t;if(void 0!==document.body.style[o])return o}return null}function L(){return this.state.isDestroyed=!0,B(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[R("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function F(t){const e=t.ownerDocument;return e?e.defaultView:window}function H(t,e,n,i){n.updateBound=i,F(t).addEventListener("resize",n.updateBound,{passive:!0});const r=u(t);return function t(e,n,i,r){const o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(u(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function z(){this.state.eventsEnabled||(this.state=H(this.reference,this.options,this.state,this.scheduleUpdate))}function j(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,F(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(t=>{t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function W(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function $(t,e){Object.keys(e).forEach(n=>{let i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&W(e[n])&&(i="px"),t.style[n]=e[n]+i})}function q(t,e,n){const i=O(t,({name:t})=>t===e),r=!!i&&t.some(t=>t.name===n&&t.enabled&&t.order<i.order);if(!r){const t=`\`${e}\``,i=`\`${n}\``;console.warn(`${i} modifier is required by ${t} modifier in order to work, be sure to include it before ${t}!`)}return r}var U=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];const V=U.slice(3);function Y(t,e=!1){const n=V.indexOf(t),i=V.slice(n+1).concat(V.slice(0,n));return e?i.reverse():i}const X="flip",G="clockwise",K="counterclockwise";function J(t,e,n,i){const r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map(t=>t.trim()),a=s.indexOf(O(s,t=>-1!==t.search(/,|\s/)));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");const l=/\s*,\s*|\s+/;let u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return u=u.map((t,i)=>{const r=(1===i?!o:o)?"height":"width";let s=!1;return t.reduce((t,e)=>""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e),[]).map(t=>function(t,e,n,i){const r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){let t;switch(s){case"%p":t=n;break;case"%":case"%r":default:t=i}return w(t)[e]/100*o}if("vh"===s||"vw"===s){let t;return t="vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),t/100*o}return o}(t,r,e,n))}),u.forEach((t,e)=>{t.forEach((n,i)=>{W(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))})}),r}var Q={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:()=>{},onUpdate:()=>{},modifiers:{shift:{order:100,enabled:!0,fn:function(t){const e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){const{reference:e,popper:r}=t.offsets,o=-1!==["bottom","top"].indexOf(n),s=o?"left":"top",a=o?"width":"height",l={start:{[s]:e[s]},end:{[s]:e[s]+e[a]-r[a]}};t.offsets.popper=x({},r,l[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,{offset:e}){const{placement:n,offsets:{popper:i,reference:r}}=t,o=n.split("-")[0];let s;return s=W(+e)?[+e,0]:J(e,i,r,o),"left"===o?(i.top+=s[0],i.left-=s[1]):"right"===o?(i.top+=s[0],i.left+=s[1]):"top"===o?(i.left+=s[0],i.top-=s[1]):"bottom"===o&&(i.left+=s[0],i.top+=s[1]),t.popper=i,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){let n=e.boundariesElement||h(t.instance.popper);t.instance.reference===n&&(n=h(n));const i=R("transform"),r=t.instance.popper.style,{top:o,left:s,[i]:a}=r;r.top="",r.left="",r[i]="";const l=S(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;const u=e.priority;let c=t.offsets.popper;const f={primary(t){let n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),{[t]:n}},secondary(t){const n="right"===t?"left":"top";let i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),{[n]:i}}};return u.forEach(t=>{const e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=x({},c,f[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){const{popper:e,reference:n}=t.offsets,i=t.placement.split("-")[0],r=Math.floor,o=-1!==["top","bottom"].indexOf(i),s=o?"right":"bottom",a=o?"left":"top",l=o?"width":"height";return e[s]<r(n[a])&&(t.offsets.popper[a]=r(n[a])-e[l]),e[a]>r(n[s])&&(t.offsets.popper[a]=r(n[s])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){if(!q(t.instance.modifiers,"arrow","keepTogether"))return t;let n=e.element;if("string"==typeof n){if(n=t.instance.popper.querySelector(n),!n)return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;const i=t.placement.split("-")[0],{popper:r,reference:o}=t.offsets,s=-1!==["left","right"].indexOf(i),l=s?"height":"width",u=s?"Top":"Left",c=u.toLowerCase(),f=s?"left":"top",d=s?"bottom":"right",h=N(n)[l];o[d]-h<r[c]&&(t.offsets.popper[c]-=r[c]-(o[d]-h)),o[c]+h>r[d]&&(t.offsets.popper[c]+=o[c]+h-r[d]),t.offsets.popper=w(t.offsets.popper);const p=o[c]+o[l]/2-h/2,m=a(t.instance.popper),g=parseFloat(m[`margin${u}`],10),v=parseFloat(m[`border${u}Width`],10);let y=p-t.offsets.popper[c]-g-v;return y=Math.max(Math.min(r[l]-h,y),0),t.arrowElement=n,t.offsets.arrow={[c]:Math.round(y),[f]:""},t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(B(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;const n=S(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed);let i=t.placement.split("-")[0],r=A(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case X:s=[i,r];break;case G:s=Y(i);break;case K:s=Y(i,!0);break;default:s=e.behavior}return s.forEach((a,l)=>{if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=A(i);const u=t.offsets.popper,c=t.offsets.reference,f=Math.floor,d="left"===i&&f(u.right)>f(c.left)||"right"===i&&f(u.left)<f(c.right)||"top"===i&&f(u.bottom)>f(c.top)||"bottom"===i&&f(u.top)<f(c.bottom),h=f(u.left)<f(n.left),p=f(u.right)>f(n.right),m=f(u.top)<f(n.top),g=f(u.bottom)>f(n.bottom),v="left"===i&&h||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g);(d||v||b)&&(t.flipped=!0,(d||v)&&(i=s[l+1]),b&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=x({},t.offsets.popper,P(t.instance.popper,t.offsets.reference,t.placement)),t=I(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){const e=t.placement,n=e.split("-")[0],{popper:i,reference:r}=t.offsets,o=-1!==["left","right"].indexOf(n),s=-1===["top","left"].indexOf(n);return i[o?"left":"top"]=r[n]-(s?i[o?"width":"height"]:0),t.placement=A(e),t.offsets.popper=w(i),t}},hide:{order:800,enabled:!0,fn:function(t){if(!q(t.instance.modifiers,"hide","preventOverflow"))return t;const e=t.offsets.reference,n=O(t.instance.modifiers,t=>"preventOverflow"===t.name).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){const{x:n,y:i}=e,{popper:r}=t.offsets,o=O(t.instance.modifiers,t=>"applyStyle"===t.name).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");const s=void 0!==o?o:e.gpuAcceleration,a=_(h(t.instance.popper)),l={position:r.position},u={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},c="bottom"===n?"top":"bottom",f="right"===i?"left":"right",d=R("transform");let p,m;if(m="bottom"===c?-a.height+u.bottom:u.top,p="right"===f?-a.width+u.right:u.left,s&&d)l[d]=`translate3d(${p}px, ${m}px, 0)`,l[c]=0,l[f]=0,l.willChange="transform";else{const t="bottom"===c?-1:1,e="right"===f?-1:1;l[c]=m*t,l[f]=p*e,l.willChange=`${c}, ${f}`}const g={"x-placement":t.placement};return t.attributes=x({},g,t.attributes),t.styles=x({},l,t.styles),t.arrowStyles=x({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return $(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&$(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){const o=D(0,e,t,n.positionFixed),s=E(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),$(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}};class Z{constructor(t,e,n={}){this.scheduleUpdate=()=>requestAnimationFrame(this.update),this.update=o(this.update.bind(this)),this.options=x({},Z.Defaults,n),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=e&&e.jquery?e[0]:e,this.options.modifiers={},Object.keys(x({},Z.Defaults.modifiers,n.modifiers)).forEach(t=>{this.options.modifiers[t]=x({},Z.Defaults.modifiers[t]||{},n.modifiers?n.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(t=>x({name:t},this.options.modifiers[t])).sort((t,e)=>t.order-e.order),this.modifiers.forEach(t=>{t.enabled&&s(t.onLoad)&&t.onLoad(this.reference,this.popper,this.options,t,this.state)}),this.update();const i=this.options.eventsEnabled;i&&this.enableEventListeners(),this.state.eventsEnabled=i}update(){return M.call(this)}destroy(){return L.call(this)}enableEventListeners(){return z.call(this)}disableEventListeners(){return j.call(this)}}Z.Utils=("undefined"!=typeof window?window:t).PopperUtils,Z.placements=U,Z.Defaults=Q,e.default=Z}.call(this,n(1))},function(t,e,n){!function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){o(t,e,n[e])}))}return t}e=e&&e.hasOwnProperty("default")?e.default:e,n=n&&n.hasOwnProperty("default")?n.default:n;var a=function(t){function e(e){var i=this,r=!1;return t(this).one(n.TRANSITION_END,(function(){r=!0})),setTimeout((function(){r||n.triggerTransitionEnd(i)}),e),this}var n={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(e){var n=e.getAttribute("data-target");n&&"#"!==n||(n=e.getAttribute("href")||"");try{return t(document).find(n).length>0?n:null}catch(t){return null}},getTransitionDurationFromElement:function(e){if(!e)return 0;var n=t(e).css("transition-duration");return parseFloat(n)?(n=n.split(",")[0],1e3*parseFloat(n)):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(e){t(e).trigger("transitionend")},supportsTransitionEnd:function(){return Boolean("transitionend")},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var r in i)if(Object.prototype.hasOwnProperty.call(i,r)){var o=i[r],s=e[r],a=s&&n.isElement(s)?"element":(l=s,{}.toString.call(l).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(o).test(a))throw new Error(t.toUpperCase()+': Option "'+r+'" provided type "'+a+'" but expected type "'+o+'".')}var l}};return t.fn.emulateTransitionEnd=e,t.event.special[n.TRANSITION_END]={bindType:"transitionend",delegateType:"transitionend",handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}},n}(e),l=function(t){var e=t.fn.alert,n={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},i="alert",o="fade",s="show",l=function(){function e(t){this._element=t}var l=e.prototype;return l.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},l.dispose=function(){t.removeData(this._element,"bs.alert"),this._element=null},l._getRootElement=function(e){var n=a.getSelectorFromElement(e),r=!1;return n&&(r=t(n)[0]),r||(r=t(e).closest("."+i)[0]),r},l._triggerCloseEvent=function(e){var i=t.Event(n.CLOSE);return t(e).trigger(i),i},l._removeElement=function(e){var n=this;if(t(e).removeClass(s),t(e).hasClass(o)){var i=a.getTransitionDurationFromElement(e);t(e).one(a.TRANSITION_END,(function(t){return n._destroyElement(e,t)})).emulateTransitionEnd(i)}else this._destroyElement(e)},l._destroyElement=function(e){t(e).detach().trigger(n.CLOSED).remove()},e._jQueryInterface=function(n){return this.each((function(){var i=t(this),r=i.data("bs.alert");r||(r=new e(this),i.data("bs.alert",r)),"close"===n&&r[n](this)}))},e._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},r(e,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),e}();return t(document).on(n.CLICK_DATA_API,'[data-dismiss="alert"]',l._handleDismiss(new l)),t.fn.alert=l._jQueryInterface,t.fn.alert.Constructor=l,t.fn.alert.noConflict=function(){return t.fn.alert=e,l._jQueryInterface},l}(e),u=function(t){var e="button",n=t.fn[e],i="active",o="btn",s="focus",a='[data-toggle^="button"]',l='[data-toggle="buttons"]',u="input",c=".active",f=".btn",d={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},h=function(){function e(t){this._element=t}var n=e.prototype;return n.toggle=function(){var e=!0,n=!0,r=t(this._element).closest(l)[0];if(r){var o=t(this._element).find(u)[0];if(o){if("radio"===o.type)if(o.checked&&t(this._element).hasClass(i))e=!1;else{var s=t(r).find(c)[0];s&&t(s).removeClass(i)}if(e){if(o.hasAttribute("disabled")||r.hasAttribute("disabled")||o.classList.contains("disabled")||r.classList.contains("disabled"))return;o.checked=!t(this._element).hasClass(i),t(o).trigger("change")}o.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!t(this._element).hasClass(i)),e&&t(this._element).toggleClass(i)},n.dispose=function(){t.removeData(this._element,"bs.button"),this._element=null},e._jQueryInterface=function(n){return this.each((function(){var i=t(this).data("bs.button");i||(i=new e(this),t(this).data("bs.button",i)),"toggle"===n&&i[n]()}))},r(e,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),e}();return t(document).on(d.CLICK_DATA_API,a,(function(e){e.preventDefault();var n=e.target;t(n).hasClass(o)||(n=t(n).closest(f)),h._jQueryInterface.call(t(n),"toggle")})).on(d.FOCUS_BLUR_DATA_API,a,(function(e){var n=t(e.target).closest(f)[0];t(n).toggleClass(s,/^focus(in)?$/.test(e.type))})),t.fn[e]=h._jQueryInterface,t.fn[e].Constructor=h,t.fn[e].noConflict=function(){return t.fn[e]=n,h._jQueryInterface},h}(e),c=function(t){var e="carousel",n="bs.carousel",i="."+n,o=t.fn[e],l={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0},u={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean"},c="next",f="prev",d="left",h="right",p={SLIDE:"slide"+i,SLID:"slid"+i,KEYDOWN:"keydown"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i,TOUCHEND:"touchend"+i,LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},m="carousel",g="active",v="slide",y="carousel-item-right",b="carousel-item-left",x="carousel-item-next",w="carousel-item-prev",_=".active",C=".active.carousel-item",k=".carousel-item",S=".carousel-item-next, .carousel-item-prev",T=".carousel-indicators",E="[data-slide], [data-slide-to]",D='[data-ride="carousel"]',N=function(){function o(e,n){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this._config=this._getConfig(n),this._element=t(e)[0],this._indicatorsElement=t(this._element).find(T)[0],this._addEventListeners()}var E=o.prototype;return E.next=function(){this._isSliding||this._slide(c)},E.nextWhenVisible=function(){!document.hidden&&t(this._element).is(":visible")&&"hidden"!==t(this._element).css("visibility")&&this.next()},E.prev=function(){this._isSliding||this._slide(f)},E.pause=function(e){e||(this._isPaused=!0),t(this._element).find(S)[0]&&(a.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},E.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},E.to=function(e){var n=this;this._activeElement=t(this._element).find(C)[0];var i=this._getItemIndex(this._activeElement);if(!(e>this._items.length-1||e<0))if(this._isSliding)t(this._element).one(p.SLID,(function(){return n.to(e)}));else{if(i===e)return this.pause(),void this.cycle();var r=e>i?c:f;this._slide(r,this._items[e])}},E.dispose=function(){t(this._element).off(i),t.removeData(this._element,n),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},E._getConfig=function(t){return t=s({},l,t),a.typeCheckConfig(e,t,u),t},E._addEventListeners=function(){var e=this;this._config.keyboard&&t(this._element).on(p.KEYDOWN,(function(t){return e._keydown(t)})),"hover"===this._config.pause&&(t(this._element).on(p.MOUSEENTER,(function(t){return e.pause(t)})).on(p.MOUSELEAVE,(function(t){return e.cycle(t)})),"ontouchstart"in document.documentElement&&t(this._element).on(p.TOUCHEND,(function(){e.pause(),e.touchTimeout&&clearTimeout(e.touchTimeout),e.touchTimeout=setTimeout((function(t){return e.cycle(t)}),500+e._config.interval)})))},E._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},E._getItemIndex=function(e){return this._items=t.makeArray(t(e).parent().find(k)),this._items.indexOf(e)},E._getItemByDirection=function(t,e){var n=t===c,i=t===f,r=this._getItemIndex(e),o=this._items.length-1;if((i&&0===r||n&&r===o)&&!this._config.wrap)return e;var s=(r+(t===f?-1:1))%this._items.length;return-1===s?this._items[this._items.length-1]:this._items[s]},E._triggerSlideEvent=function(e,n){var i=this._getItemIndex(e),r=this._getItemIndex(t(this._element).find(C)[0]),o=t.Event(p.SLIDE,{relatedTarget:e,direction:n,from:r,to:i});return t(this._element).trigger(o),o},E._setActiveIndicatorElement=function(e){if(this._indicatorsElement){t(this._indicatorsElement).find(_).removeClass(g);var n=this._indicatorsElement.children[this._getItemIndex(e)];n&&t(n).addClass(g)}},E._slide=function(e,n){var i,r,o,s=this,l=t(this._element).find(C)[0],u=this._getItemIndex(l),f=n||l&&this._getItemByDirection(e,l),m=this._getItemIndex(f),_=Boolean(this._interval);if(e===c?(i=b,r=x,o=d):(i=y,r=w,o=h),f&&t(f).hasClass(g))this._isSliding=!1;else if(!this._triggerSlideEvent(f,o).isDefaultPrevented()&&l&&f){this._isSliding=!0,_&&this.pause(),this._setActiveIndicatorElement(f);var k=t.Event(p.SLID,{relatedTarget:f,direction:o,from:u,to:m});if(t(this._element).hasClass(v)){t(f).addClass(r),a.reflow(f),t(l).addClass(i),t(f).addClass(i);var S=a.getTransitionDurationFromElement(l);t(l).one(a.TRANSITION_END,(function(){t(f).removeClass(i+" "+r).addClass(g),t(l).removeClass(g+" "+r+" "+i),s._isSliding=!1,setTimeout((function(){return t(s._element).trigger(k)}),0)})).emulateTransitionEnd(S)}else t(l).removeClass(g),t(f).addClass(g),this._isSliding=!1,t(this._element).trigger(k);_&&this.cycle()}},o._jQueryInterface=function(e){return this.each((function(){var i=t(this).data(n),r=s({},l,t(this).data());"object"==typeof e&&(r=s({},r,e));var a="string"==typeof e?e:r.slide;if(i||(i=new o(this,r),t(this).data(n,i)),"number"==typeof e)i.to(e);else if("string"==typeof a){if(void 0===i[a])throw new TypeError('No method named "'+a+'"');i[a]()}else r.interval&&(i.pause(),i.cycle())}))},o._dataApiClickHandler=function(e){var i=a.getSelectorFromElement(this);if(i){var r=t(i)[0];if(r&&t(r).hasClass(m)){var l=s({},t(r).data(),t(this).data()),u=this.getAttribute("data-slide-to");u&&(l.interval=!1),o._jQueryInterface.call(t(r),l),u&&t(r).data(n).to(u),e.preventDefault()}}},r(o,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return l}}]),o}();return t(document).on(p.CLICK_DATA_API,E,N._dataApiClickHandler),t(window).on(p.LOAD_DATA_API,(function(){t(D).each((function(){var e=t(this);N._jQueryInterface.call(e,e.data())}))})),t.fn[e]=N._jQueryInterface,t.fn[e].Constructor=N,t.fn[e].noConflict=function(){return t.fn[e]=o,N._jQueryInterface},N}(e),f=function(t){var e="collapse",n="bs.collapse",i=t.fn[e],o={toggle:!0,parent:""},l={toggle:"boolean",parent:"(string|element)"},u={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},c="show",f="collapse",d="collapsing",h="collapsed",p="width",m="height",g=".show, .collapsing",v='[data-toggle="collapse"]',y=function(){function i(e,n){this._isTransitioning=!1,this._element=e,this._config=this._getConfig(n),this._triggerArray=t.makeArray(t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'));for(var i=t(v),r=0;r<i.length;r++){var o=i[r],s=a.getSelectorFromElement(o);null!==s&&t(s).filter(e).length>0&&(this._selector=s,this._triggerArray.push(o))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var y=i.prototype;return y.toggle=function(){t(this._element).hasClass(c)?this.hide():this.show()},y.show=function(){var e,r,o=this;if(!(this._isTransitioning||t(this._element).hasClass(c)||(this._parent&&0===(e=t.makeArray(t(this._parent).find(g).filter('[data-parent="'+this._config.parent+'"]'))).length&&(e=null),e&&(r=t(e).not(this._selector).data(n))&&r._isTransitioning))){var s=t.Event(u.SHOW);if(t(this._element).trigger(s),!s.isDefaultPrevented()){e&&(i._jQueryInterface.call(t(e).not(this._selector),"hide"),r||t(e).data(n,null));var l=this._getDimension();t(this._element).removeClass(f).addClass(d),this._element.style[l]=0,this._triggerArray.length>0&&t(this._triggerArray).removeClass(h).attr("aria-expanded",!0),this.setTransitioning(!0);var p="scroll"+(l[0].toUpperCase()+l.slice(1)),m=a.getTransitionDurationFromElement(this._element);t(this._element).one(a.TRANSITION_END,(function(){t(o._element).removeClass(d).addClass(f).addClass(c),o._element.style[l]="",o.setTransitioning(!1),t(o._element).trigger(u.SHOWN)})).emulateTransitionEnd(m),this._element.style[l]=this._element[p]+"px"}}},y.hide=function(){var e=this;if(!this._isTransitioning&&t(this._element).hasClass(c)){var n=t.Event(u.HIDE);if(t(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();if(this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",a.reflow(this._element),t(this._element).addClass(d).removeClass(f).removeClass(c),this._triggerArray.length>0)for(var r=0;r<this._triggerArray.length;r++){var o=this._triggerArray[r],s=a.getSelectorFromElement(o);null!==s&&(t(s).hasClass(c)||t(o).addClass(h).attr("aria-expanded",!1))}this.setTransitioning(!0),this._element.style[i]="";var l=a.getTransitionDurationFromElement(this._element);t(this._element).one(a.TRANSITION_END,(function(){e.setTransitioning(!1),t(e._element).removeClass(d).addClass(f).trigger(u.HIDDEN)})).emulateTransitionEnd(l)}}},y.setTransitioning=function(t){this._isTransitioning=t},y.dispose=function(){t.removeData(this._element,n),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},y._getConfig=function(t){return(t=s({},o,t)).toggle=Boolean(t.toggle),a.typeCheckConfig(e,t,l),t},y._getDimension=function(){return t(this._element).hasClass(p)?p:m},y._getParent=function(){var e=this,n=null;a.isElement(this._config.parent)?(n=this._config.parent,void 0!==this._config.parent.jquery&&(n=this._config.parent[0])):n=t(this._config.parent)[0];var r='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]';return t(n).find(r).each((function(t,n){e._addAriaAndCollapsedClass(i._getTargetFromElement(n),[n])})),n},y._addAriaAndCollapsedClass=function(e,n){if(e){var i=t(e).hasClass(c);n.length>0&&t(n).toggleClass(h,!i).attr("aria-expanded",i)}},i._getTargetFromElement=function(e){var n=a.getSelectorFromElement(e);return n?t(n)[0]:null},i._jQueryInterface=function(e){return this.each((function(){var r=t(this),a=r.data(n),l=s({},o,r.data(),"object"==typeof e&&e?e:{});if(!a&&l.toggle&&/show|hide/.test(e)&&(l.toggle=!1),a||(a=new i(this,l),r.data(n,a)),"string"==typeof e){if(void 0===a[e])throw new TypeError('No method named "'+e+'"');a[e]()}}))},r(i,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return o}}]),i}();return t(document).on(u.CLICK_DATA_API,v,(function(e){"A"===e.currentTarget.tagName&&e.preventDefault();var i=t(this),r=a.getSelectorFromElement(this);t(r).each((function(){var e=t(this),r=e.data(n)?"toggle":i.data();y._jQueryInterface.call(e,r)}))})),t.fn[e]=y._jQueryInterface,t.fn[e].Constructor=y,t.fn[e].noConflict=function(){return t.fn[e]=i,y._jQueryInterface},y}(e),d=function(t){var e="dropdown",i="bs.dropdown",o="."+i,l=t.fn[e],u=new RegExp("38|40|27"),c={HIDE:"hide"+o,HIDDEN:"hidden"+o,SHOW:"show"+o,SHOWN:"shown"+o,CLICK:"click"+o,CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},f="disabled",d="show",h="dropup",p="dropright",m="dropleft",g="dropdown-menu-right",v="position-static",y='[data-toggle="dropdown"]',b=".dropdown form",x=".dropdown-menu",w=".navbar-nav",_=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",C="top-start",k="top-end",S="bottom-start",T="bottom-end",E="right-start",D="left-start",N={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},A={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},P=function(){function l(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var b=l.prototype;return b.toggle=function(){if(!this._element.disabled&&!t(this._element).hasClass(f)){var e=l._getParentFromElement(this._element),i=t(this._menu).hasClass(d);if(l._clearMenus(),!i){var r={relatedTarget:this._element},o=t.Event(c.SHOW,r);if(t(e).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===n)throw new TypeError("Bootstrap dropdown require Popper.js (https://popper.js.org)");var s=this._element;"parent"===this._config.reference?s=e:a.isElement(this._config.reference)&&(s=this._config.reference,void 0!==this._config.reference.jquery&&(s=this._config.reference[0])),"scrollParent"!==this._config.boundary&&t(e).addClass(v),this._popper=new n(s,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===t(e).closest(w).length&&t(document.body).children().on("mouseover",null,t.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),t(this._menu).toggleClass(d),t(e).toggleClass(d).trigger(t.Event(c.SHOWN,r))}}}},b.dispose=function(){t.removeData(this._element,i),t(this._element).off(o),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},b.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},b._addEventListeners=function(){var e=this;t(this._element).on(c.CLICK,(function(t){t.preventDefault(),t.stopPropagation(),e.toggle()}))},b._getConfig=function(n){return n=s({},this.constructor.Default,t(this._element).data(),n),a.typeCheckConfig(e,n,this.constructor.DefaultType),n},b._getMenuElement=function(){if(!this._menu){var e=l._getParentFromElement(this._element);this._menu=t(e).find(x)[0]}return this._menu},b._getPlacement=function(){var e=t(this._element).parent(),n=S;return e.hasClass(h)?(n=C,t(this._menu).hasClass(g)&&(n=k)):e.hasClass(p)?n=E:e.hasClass(m)?n=D:t(this._menu).hasClass(g)&&(n=T),n},b._detectNavbar=function(){return t(this._element).closest(".navbar").length>0},b._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},l._jQueryInterface=function(e){return this.each((function(){var n=t(this).data(i);if(n||(n=new l(this,"object"==typeof e?e:null),t(this).data(i,n)),"string"==typeof e){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},l._clearMenus=function(e){if(!e||3!==e.which&&("keyup"!==e.type||9===e.which))for(var n=t.makeArray(t(y)),r=0;r<n.length;r++){var o=l._getParentFromElement(n[r]),s=t(n[r]).data(i),a={relatedTarget:n[r]};if(s){var u=s._menu;if(t(o).hasClass(d)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&9===e.which)&&t.contains(o,e.target))){var f=t.Event(c.HIDE,a);t(o).trigger(f),f.isDefaultPrevented()||("ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),n[r].setAttribute("aria-expanded","false"),t(u).removeClass(d),t(o).removeClass(d).trigger(t.Event(c.HIDDEN,a)))}}}},l._getParentFromElement=function(e){var n,i=a.getSelectorFromElement(e);return i&&(n=t(i)[0]),n||e.parentNode},l._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(32===e.which||27!==e.which&&(40!==e.which&&38!==e.which||t(e.target).closest(x).length)):u.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!t(this).hasClass(f))){var n=l._getParentFromElement(this),i=t(n).hasClass(d);if((i||27===e.which&&32===e.which)&&(!i||27!==e.which&&32!==e.which)){var r=t(n).find(_).get();if(0!==r.length){var o=r.indexOf(e.target);38===e.which&&o>0&&o--,40===e.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}else{if(27===e.which){var s=t(n).find(y)[0];t(s).trigger("focus")}t(this).trigger("click")}}},r(l,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return N}},{key:"DefaultType",get:function(){return A}}]),l}();return t(document).on(c.KEYDOWN_DATA_API,y,P._dataApiKeydownHandler).on(c.KEYDOWN_DATA_API,x,P._dataApiKeydownHandler).on(c.CLICK_DATA_API+" "+c.KEYUP_DATA_API,P._clearMenus).on(c.CLICK_DATA_API,y,(function(e){e.preventDefault(),e.stopPropagation(),P._jQueryInterface.call(t(this),"toggle")})).on(c.CLICK_DATA_API,b,(function(t){t.stopPropagation()})),t.fn[e]=P._jQueryInterface,t.fn[e].Constructor=P,t.fn[e].noConflict=function(){return t.fn[e]=l,P._jQueryInterface},P}(e),h=function(t){var e="modal",n=".bs.modal",i=t.fn.modal,o={backdrop:!0,keyboard:!0,focus:!0,show:!0},l={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},u={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},c="modal-scrollbar-measure",f="modal-backdrop",d="modal-open",h="fade",p="show",m=".modal-dialog",g='[data-toggle="modal"]',v='[data-dismiss="modal"]',y=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",b=".sticky-top",x=".navbar-toggler",w=function(){function i(e,n){this._config=this._getConfig(n),this._element=e,this._dialog=t(e).find(m)[0],this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._scrollbarWidth=0}var g=i.prototype;return g.toggle=function(t){return this._isShown?this.hide():this.show(t)},g.show=function(e){var n=this;if(!this._isTransitioning&&!this._isShown){t(this._element).hasClass(h)&&(this._isTransitioning=!0);var i=t.Event(u.SHOW,{relatedTarget:e});t(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),t(document.body).addClass(d),this._setEscapeEvent(),this._setResizeEvent(),t(this._element).on(u.CLICK_DISMISS,v,(function(t){return n.hide(t)})),t(this._dialog).on(u.MOUSEDOWN_DISMISS,(function(){t(n._element).one(u.MOUSEUP_DISMISS,(function(e){t(e.target).is(n._element)&&(n._ignoreBackdropClick=!0)}))})),this._showBackdrop((function(){return n._showElement(e)})))}},g.hide=function(e){var n=this;if(e&&e.preventDefault(),!this._isTransitioning&&this._isShown){var i=t.Event(u.HIDE);if(t(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var r=t(this._element).hasClass(h);if(r&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),t(document).off(u.FOCUSIN),t(this._element).removeClass(p),t(this._element).off(u.CLICK_DISMISS),t(this._dialog).off(u.MOUSEDOWN_DISMISS),r){var o=a.getTransitionDurationFromElement(this._element);t(this._element).one(a.TRANSITION_END,(function(t){return n._hideModal(t)})).emulateTransitionEnd(o)}else this._hideModal()}}},g.dispose=function(){t.removeData(this._element,"bs.modal"),t(window,document,this._element,this._backdrop).off(n),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._scrollbarWidth=null},g.handleUpdate=function(){this._adjustDialog()},g._getConfig=function(t){return t=s({},o,t),a.typeCheckConfig(e,t,l),t},g._showElement=function(e){var n=this,i=t(this._element).hasClass(h);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.scrollTop=0,i&&a.reflow(this._element),t(this._element).addClass(p),this._config.focus&&this._enforceFocus();var r=t.Event(u.SHOWN,{relatedTarget:e}),o=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,t(n._element).trigger(r)};if(i){var s=a.getTransitionDurationFromElement(this._element);t(this._dialog).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o()},g._enforceFocus=function(){var e=this;t(document).off(u.FOCUSIN).on(u.FOCUSIN,(function(n){document!==n.target&&e._element!==n.target&&0===t(e._element).has(n.target).length&&e._element.focus()}))},g._setEscapeEvent=function(){var e=this;this._isShown&&this._config.keyboard?t(this._element).on(u.KEYDOWN_DISMISS,(function(t){27===t.which&&(t.preventDefault(),e.hide())})):this._isShown||t(this._element).off(u.KEYDOWN_DISMISS)},g._setResizeEvent=function(){var e=this;this._isShown?t(window).on(u.RESIZE,(function(t){return e.handleUpdate(t)})):t(window).off(u.RESIZE)},g._hideModal=function(){var e=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._isTransitioning=!1,this._showBackdrop((function(){t(document.body).removeClass(d),e._resetAdjustments(),e._resetScrollbar(),t(e._element).trigger(u.HIDDEN)}))},g._removeBackdrop=function(){this._backdrop&&(t(this._backdrop).remove(),this._backdrop=null)},g._showBackdrop=function(e){var n=this,i=t(this._element).hasClass(h)?h:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=f,i&&t(this._backdrop).addClass(i),t(this._backdrop).appendTo(document.body),t(this._element).on(u.CLICK_DISMISS,(function(t){n._ignoreBackdropClick?n._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide())})),i&&a.reflow(this._backdrop),t(this._backdrop).addClass(p),!e)return;if(!i)return void e();var r=a.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(a.TRANSITION_END,e).emulateTransitionEnd(r)}else if(!this._isShown&&this._backdrop){t(this._backdrop).removeClass(p);var o=function(){n._removeBackdrop(),e&&e()};if(t(this._element).hasClass(h)){var s=a.getTransitionDurationFromElement(this._backdrop);t(this._backdrop).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o()}else e&&e()},g._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},g._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},g._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},g._setScrollbar=function(){var e=this;if(this._isBodyOverflowing){t(y).each((function(n,i){var r=t(i)[0].style.paddingRight,o=t(i).css("padding-right");t(i).data("padding-right",r).css("padding-right",parseFloat(o)+e._scrollbarWidth+"px")})),t(b).each((function(n,i){var r=t(i)[0].style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)-e._scrollbarWidth+"px")})),t(x).each((function(n,i){var r=t(i)[0].style.marginRight,o=t(i).css("margin-right");t(i).data("margin-right",r).css("margin-right",parseFloat(o)+e._scrollbarWidth+"px")}));var n=document.body.style.paddingRight,i=t(document.body).css("padding-right");t(document.body).data("padding-right",n).css("padding-right",parseFloat(i)+this._scrollbarWidth+"px")}},g._resetScrollbar=function(){t(y).each((function(e,n){var i=t(n).data("padding-right");void 0!==i&&t(n).css("padding-right",i).removeData("padding-right")})),t(b+", "+x).each((function(e,n){var i=t(n).data("margin-right");void 0!==i&&t(n).css("margin-right",i).removeData("margin-right")}));var e=t(document.body).data("padding-right");void 0!==e&&t(document.body).css("padding-right",e).removeData("padding-right")},g._getScrollbarWidth=function(){var t=document.createElement("div");t.className=c,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},i._jQueryInterface=function(e,n){return this.each((function(){var r=t(this).data("bs.modal"),a=s({},o,t(this).data(),"object"==typeof e&&e?e:{});if(r||(r=new i(this,a),t(this).data("bs.modal",r)),"string"==typeof e){if(void 0===r[e])throw new TypeError('No method named "'+e+'"');r[e](n)}else a.show&&r.show(n)}))},r(i,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return o}}]),i}();return t(document).on(u.CLICK_DATA_API,g,(function(e){var n,i=this,r=a.getSelectorFromElement(this);r&&(n=t(r)[0]);var o=t(n).data("bs.modal")?"toggle":s({},t(n).data(),t(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||e.preventDefault();var l=t(n).one(u.SHOW,(function(e){e.isDefaultPrevented()||l.one(u.HIDDEN,(function(){t(i).is(":visible")&&i.focus()}))}));w._jQueryInterface.call(t(n),o,this)})),t.fn.modal=w._jQueryInterface,t.fn.modal.Constructor=w,t.fn.modal.noConflict=function(){return t.fn.modal=i,w._jQueryInterface},w}(e),p=function(t){var e="tooltip",i=".bs.tooltip",o=t.fn[e],l=new RegExp("(^|\\s)bs-tooltip\\S+","g"),u={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},c={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},f={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},d="show",h="out",p={HIDE:"hide"+i,HIDDEN:"hidden"+i,SHOW:"show"+i,SHOWN:"shown"+i,INSERTED:"inserted"+i,CLICK:"click"+i,FOCUSIN:"focusin"+i,FOCUSOUT:"focusout"+i,MOUSEENTER:"mouseenter"+i,MOUSELEAVE:"mouseleave"+i},m="fade",g="show",v=".tooltip-inner",y=".arrow",b="hover",x="focus",w="click",_="manual",C=function(){function o(t,e){if(void 0===n)throw new TypeError("Bootstrap tooltips require Popper.js (https://popper.js.org)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var C=o.prototype;return C.enable=function(){this._isEnabled=!0},C.disable=function(){this._isEnabled=!1},C.toggleEnabled=function(){this._isEnabled=!this._isEnabled},C.toggle=function(e){if(this._isEnabled)if(e){var n=this.constructor.DATA_KEY,i=t(e.currentTarget).data(n);i||(i=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(t(this.getTipElement()).hasClass(g))return void this._leave(null,this);this._enter(null,this)}},C.dispose=function(){clearTimeout(this._timeout),t.removeData(this.element,this.constructor.DATA_KEY),t(this.element).off(this.constructor.EVENT_KEY),t(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&t(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},C.show=function(){var e=this;if("none"===t(this.element).css("display"))throw new Error("Please use show on visible elements");var i=t.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){t(this.element).trigger(i);var r=t.contains(this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!r)return;var o=this.getTipElement(),s=a.getUID(this.constructor.NAME);o.setAttribute("id",s),this.element.setAttribute("aria-describedby",s),this.setContent(),this.config.animation&&t(o).addClass(m);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,u=this._getAttachment(l);this.addAttachmentClass(u);var c=!1===this.config.container?document.body:t(this.config.container);t(o).data(this.constructor.DATA_KEY,this),t.contains(this.element.ownerDocument.documentElement,this.tip)||t(o).appendTo(c),t(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,o,{placement:u,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:y},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(t){t.originalPlacement!==t.placement&&e._handlePopperPlacementChange(t)},onUpdate:function(t){e._handlePopperPlacementChange(t)}}),t(o).addClass(g),"ontouchstart"in document.documentElement&&t(document.body).children().on("mouseover",null,t.noop);var f=function(){e.config.animation&&e._fixTransition();var n=e._hoverState;e._hoverState=null,t(e.element).trigger(e.constructor.Event.SHOWN),n===h&&e._leave(null,e)};if(t(this.tip).hasClass(m)){var d=a.getTransitionDurationFromElement(this.tip);t(this.tip).one(a.TRANSITION_END,f).emulateTransitionEnd(d)}else f()}},C.hide=function(e){var n=this,i=this.getTipElement(),r=t.Event(this.constructor.Event.HIDE),o=function(){n._hoverState!==d&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),t(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),e&&e()};if(t(this.element).trigger(r),!r.isDefaultPrevented()){if(t(i).removeClass(g),"ontouchstart"in document.documentElement&&t(document.body).children().off("mouseover",null,t.noop),this._activeTrigger[w]=!1,this._activeTrigger[x]=!1,this._activeTrigger[b]=!1,t(this.tip).hasClass(m)){var s=a.getTransitionDurationFromElement(i);t(i).one(a.TRANSITION_END,o).emulateTransitionEnd(s)}else o();this._hoverState=""}},C.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},C.isWithContent=function(){return Boolean(this.getTitle())},C.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-tooltip-"+e)},C.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},C.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(v),this.getTitle()),e.removeClass(m+" "+g)},C.setElementContent=function(e,n){var i=this.config.html;"object"==typeof n&&(n.nodeType||n.jquery)?i?t(n).parent().is(e)||e.empty().append(n):e.text(t(n).text()):e[i?"html":"text"](n)},C.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},C._getAttachment=function(t){return c[t.toUpperCase()]},C._setListeners=function(){var e=this;this.config.trigger.split(" ").forEach((function(n){if("click"===n)t(e.element).on(e.constructor.Event.CLICK,e.config.selector,(function(t){return e.toggle(t)}));else if(n!==_){var i=n===b?e.constructor.Event.MOUSEENTER:e.constructor.Event.FOCUSIN,r=n===b?e.constructor.Event.MOUSELEAVE:e.constructor.Event.FOCUSOUT;t(e.element).on(i,e.config.selector,(function(t){return e._enter(t)})).on(r,e.config.selector,(function(t){return e._leave(t)}))}t(e.element).closest(".modal").on("hide.bs.modal",(function(){return e.hide()}))})),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},C._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},C._enter=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusin"===e.type?x:b]=!0),t(n.getTipElement()).hasClass(g)||n._hoverState===d?n._hoverState=d:(clearTimeout(n._timeout),n._hoverState=d,n.config.delay&&n.config.delay.show?n._timeout=setTimeout((function(){n._hoverState===d&&n.show()}),n.config.delay.show):n.show())},C._leave=function(e,n){var i=this.constructor.DATA_KEY;(n=n||t(e.currentTarget).data(i))||(n=new this.constructor(e.currentTarget,this._getDelegateConfig()),t(e.currentTarget).data(i,n)),e&&(n._activeTrigger["focusout"===e.type?x:b]=!1),n._isWithActiveTrigger()||(clearTimeout(n._timeout),n._hoverState=h,n.config.delay&&n.config.delay.hide?n._timeout=setTimeout((function(){n._hoverState===h&&n.hide()}),n.config.delay.hide):n.hide())},C._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},C._getConfig=function(n){return"number"==typeof(n=s({},this.constructor.Default,t(this.element).data(),"object"==typeof n&&n?n:{})).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),a.typeCheckConfig(e,n,this.constructor.DefaultType),n},C._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},C._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(l);null!==n&&n.length>0&&e.removeClass(n.join(""))},C._handlePopperPlacementChange=function(t){this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},C._fixTransition=function(){var e=this.getTipElement(),n=this.config.animation;null===e.getAttribute("x-placement")&&(t(e).removeClass(m),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},o._jQueryInterface=function(e){return this.each((function(){var n=t(this).data("bs.tooltip"),i="object"==typeof e&&e;if((n||!/dispose|hide/.test(e))&&(n||(n=new o(this,i),t(this).data("bs.tooltip",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},r(o,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return f}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return p}},{key:"EVENT_KEY",get:function(){return i}},{key:"DefaultType",get:function(){return u}}]),o}();return t.fn[e]=C._jQueryInterface,t.fn[e].Constructor=C,t.fn[e].noConflict=function(){return t.fn[e]=o,C._jQueryInterface},C}(e),m=function(t){var e="popover",n=".bs.popover",i=t.fn[e],o=new RegExp("(^|\\s)bs-popover\\S+","g"),a=s({},p.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),l=s({},p.DefaultType,{content:"(string|element|function)"}),u="fade",c="show",f=".popover-header",d=".popover-body",h={HIDE:"hide"+n,HIDDEN:"hidden"+n,SHOW:"show"+n,SHOWN:"shown"+n,INSERTED:"inserted"+n,CLICK:"click"+n,FOCUSIN:"focusin"+n,FOCUSOUT:"focusout"+n,MOUSEENTER:"mouseenter"+n,MOUSELEAVE:"mouseleave"+n},m=function(i){var s,p;function m(){return i.apply(this,arguments)||this}p=i,(s=m).prototype=Object.create(p.prototype),s.prototype.constructor=s,s.__proto__=p;var g=m.prototype;return g.isWithContent=function(){return this.getTitle()||this._getContent()},g.addAttachmentClass=function(e){t(this.getTipElement()).addClass("bs-popover-"+e)},g.getTipElement=function(){return this.tip=this.tip||t(this.config.template)[0],this.tip},g.setContent=function(){var e=t(this.getTipElement());this.setElementContent(e.find(f),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(e.find(d),n),e.removeClass(u+" "+c)},g._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},g._cleanTipClass=function(){var e=t(this.getTipElement()),n=e.attr("class").match(o);null!==n&&n.length>0&&e.removeClass(n.join(""))},m._jQueryInterface=function(e){return this.each((function(){var n=t(this).data("bs.popover"),i="object"==typeof e?e:null;if((n||!/destroy|hide/.test(e))&&(n||(n=new m(this,i),t(this).data("bs.popover",n)),"string"==typeof e)){if(void 0===n[e])throw new TypeError('No method named "'+e+'"');n[e]()}}))},r(m,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return a}},{key:"NAME",get:function(){return e}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return h}},{key:"EVENT_KEY",get:function(){return n}},{key:"DefaultType",get:function(){return l}}]),m}(p);return t.fn[e]=m._jQueryInterface,t.fn[e].Constructor=m,t.fn[e].noConflict=function(){return t.fn[e]=i,m._jQueryInterface},m}(e),g=function(t){var e="scrollspy",n=t.fn[e],i={offset:10,method:"auto",target:""},o={offset:"number",method:"string",target:"(string|element)"},l={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},u="dropdown-item",c="active",f='[data-spy="scroll"]',d=".active",h=".nav, .list-group",p=".nav-link",m=".nav-item",g=".list-group-item",v=".dropdown",y=".dropdown-item",b=".dropdown-toggle",x="offset",w="position",_=function(){function n(e,n){var i=this;this._element=e,this._scrollElement="BODY"===e.tagName?window:e,this._config=this._getConfig(n),this._selector=this._config.target+" "+p+","+this._config.target+" "+g+","+this._config.target+" "+y,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,t(this._scrollElement).on(l.SCROLL,(function(t){return i._process(t)})),this.refresh(),this._process()}var f=n.prototype;return f.refresh=function(){var e=this,n=this._scrollElement===this._scrollElement.window?x:w,i="auto"===this._config.method?n:this._config.method,r=i===w?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),t.makeArray(t(this._selector)).map((function(e){var n,o=a.getSelectorFromElement(e);if(o&&(n=t(o)[0]),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[t(n)[i]().top+r,o]}return null})).filter((function(t){return t})).sort((function(t,e){return t[0]-e[0]})).forEach((function(t){e._offsets.push(t[0]),e._targets.push(t[1])}))},f.dispose=function(){t.removeData(this._element,"bs.scrollspy"),t(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},f._getConfig=function(n){if("string"!=typeof(n=s({},i,"object"==typeof n&&n?n:{})).target){var r=t(n.target).attr("id");r||(r=a.getUID(e),t(n.target).attr("id",r)),n.target="#"+r}return a.typeCheckConfig(e,n,o),n},f._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},f._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},f._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},f._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];this._activeTarget!==i&&this._activate(i)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var r=this._offsets.length;r--;)this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&(void 0===this._offsets[r+1]||t<this._offsets[r+1])&&this._activate(this._targets[r])}},f._activate=function(e){this._activeTarget=e,this._clear();var n=this._selector.split(",");n=n.map((function(t){return t+'[data-target="'+e+'"],'+t+'[href="'+e+'"]'}));var i=t(n.join(","));i.hasClass(u)?(i.closest(v).find(b).addClass(c),i.addClass(c)):(i.addClass(c),i.parents(h).prev(p+", "+g).addClass(c),i.parents(h).prev(m).children(p).addClass(c)),t(this._scrollElement).trigger(l.ACTIVATE,{relatedTarget:e})},f._clear=function(){t(this._selector).filter(d).removeClass(c)},n._jQueryInterface=function(e){return this.each((function(){var i=t(this).data("bs.scrollspy");if(i||(i=new n(this,"object"==typeof e&&e),t(this).data("bs.scrollspy",i)),"string"==typeof e){if(void 0===i[e])throw new TypeError('No method named "'+e+'"');i[e]()}}))},r(n,null,[{key:"VERSION",get:function(){return"4.1.1"}},{key:"Default",get:function(){return i}}]),n}();return t(window).on(l.LOAD_DATA_API,(function(){for(var e=t.makeArray(t(f)),n=e.length;n--;){var i=t(e[n]);_._jQueryInterface.call(i,i.data())}})),t.fn[e]=_._jQueryInterface,t.fn[e].Constructor=_,t.fn[e].noConflict=function(){return t.fn[e]=n,_._jQueryInterface},_}(e),v=function(t){var e=t.fn.tab,n={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},i="dropdown-menu",o="active",s="disabled",l="fade",u="show",c=".dropdown",f=".nav, .list-group",d=".active",h="> li > .active",p='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',m=".dropdown-toggle",g="> .dropdown-menu .active",v=function(){function e(t){this._element=t}var p=e.prototype;return p.show=function(){var e=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&t(this._element).hasClass(o)||t(this._element).hasClass(s))){var i,r,l=t(this._element).closest(f)[0],u=a.getSelectorFromElement(this._element);if(l){var c="UL"===l.nodeName?h:d;r=(r=t.makeArray(t(l).find(c)))[r.length-1]}var p=t.Event(n.HIDE,{relatedTarget:this._element}),m=t.Event(n.SHOW,{relatedTarget:r});if(r&&t(r).trigger(p),t(this._element).trigger(m),!m.isDefaultPrevented()&&!p.isDefaultPrevented()){u&&(i=t(u)[0]),this._activate(this._element,l);var g=function(){var i=t.Event(n.HIDDEN,{relatedTarget:e._element}),o=t.Event(n.SHOWN,{relatedTarget:r});t(r).trigger(i),t(e._element).trigger(o)};i?this._activate(i,i.parentNode,g):g()}}},p.dispose=function(){t.removeData(this._element,"bs.tab"),this._element=null},p._activate=function(e,n,i){var r=this,o=("UL"===n.nodeName?t(n).find(h):t(n).children(d))[0],s=i&&o&&t(o).hasClass(l),u=function(){return r._transitionComplete(e,o,i)};if(o&&s){var c=a.getTransitionDurationFromElement(o);t(o).one(a.TRANSITION_END,u).emulateTransitionEnd(c)}else u()},p._transitionComplete=function(e,n,r){if(n){t(n).removeClass(u+" "+o);var s=t(n.parentNode).find(g)[0];s&&t(s).removeClass(o),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(t(e).addClass(o),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!0),a.reflow(e),t(e).addClass(u),e.parentNode&&t(e.parentNode).hasClass(i)){var l=t(e).closest(c)[0];l&&t(l).find(m).addClass(o),e.setAttribute("aria-expanded",!0)}r&&r()},e._jQueryInterface=function(n){return this.each((function(){var i=t(this),r=i.data("bs.tab");if(r||(r=new e(this),i.data("bs.tab",r)),"string"==typeof n){if(void 0===r[n])throw new TypeError('No method named "'+n+'"');r[n]()}}))},r(e,null,[{key:"VERSION",get:function(){return"4.1.1"}}]),e}();return t(document).on(n.CLICK_DATA_API,p,(function(e){e.preventDefault(),v._jQueryInterface.call(t(this),"show")})),t.fn.tab=v._jQueryInterface,t.fn.tab.Constructor=v,t.fn.tab.noConflict=function(){return t.fn.tab=e,v._jQueryInterface},v}(e);(function(t){if(void 0===t)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")})(e),t.Util=a,t.Alert=l,t.Button=u,t.Carousel=c,t.Collapse=f,t.Dropdown=d,t.Modal=h,t.Popover=m,t.Scrollspy=g,t.Tab=v,t.Tooltip=p,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(0),n(9))},function(t,e,n){"use strict";n.r(e),function(t){for(var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var s=n&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then((function(){e=!1,t()})))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout((function(){e=!1,t()}),r))}};function a(t){return t&&"[object Function]"==={}.toString.call(t)}function l(t,e){if(1!==t.nodeType)return[];var n=getComputedStyle(t,null);return e?n[e]:n}function u(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function c(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=l(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/(auto|scroll|overlay)/.test(n+r+i)?t:c(u(t))}var f=n&&!(!window.MSInputMethodContext||!document.documentMode),d=n&&/MSIE 10/.test(navigator.userAgent);function h(t){return 11===t?f:10===t?d:f||d}function p(t){if(!t)return document.documentElement;for(var e=h(10)?document.body:null,n=t.offsetParent;n===e&&t.nextElementSibling;)n=(t=t.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TD","TABLE"].indexOf(n.nodeName)&&"static"===l(n,"position")?p(n):n:t?t.ownerDocument.documentElement:document.documentElement}function m(t){return null!==t.parentNode?m(t.parentNode):t}function g(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var n=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?t:e,r=n?e:t,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(t!==l&&e!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&p(s.firstElementChild)!==s?p(l):l;var u=m(t);return u.host?g(u.host,e):g(t,m(e).host)}function v(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===e?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var r=t.ownerDocument.documentElement,o=t.ownerDocument.scrollingElement||r;return o[n]}return t[n]}function y(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(e,"top"),r=v(e,"left"),o=n?-1:1;return t.top+=i*o,t.bottom+=i*o,t.left+=r*o,t.right+=r*o,t}function b(t,e){var n="x"===e?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(t["border"+n+"Width"],10)+parseFloat(t["border"+i+"Width"],10)}function x(t,e,n,i){return Math.max(e["offset"+t],e["scroll"+t],n["client"+t],n["offset"+t],n["scroll"+t],h(10)?n["offset"+t]+i["margin"+("Height"===t?"Top":"Left")]+i["margin"+("Height"===t?"Bottom":"Right")]:0)}function w(){var t=document.body,e=document.documentElement,n=h(10)&&getComputedStyle(e);return{height:x("Height",t,e,n),width:x("Width",t,e,n)}}var _=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},C=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),k=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};function T(t){return S({},t,{right:t.left+t.width,bottom:t.top+t.height})}function E(t){var e={};try{if(h(10)){e=t.getBoundingClientRect();var n=v(t,"top"),i=v(t,"left");e.top+=n,e.left+=i,e.bottom+=n,e.right+=i}else e=t.getBoundingClientRect()}catch(t){}var r={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},o="HTML"===t.nodeName?w():{},s=o.width||t.clientWidth||r.right-r.left,a=o.height||t.clientHeight||r.bottom-r.top,u=t.offsetWidth-s,c=t.offsetHeight-a;if(u||c){var f=l(t);u-=b(f,"x"),c-=b(f,"y"),r.width-=u,r.height-=c}return T(r)}function D(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=h(10),r="HTML"===e.nodeName,o=E(t),s=E(e),a=c(t),u=l(e),f=parseFloat(u.borderTopWidth,10),d=parseFloat(u.borderLeftWidth,10);n&&"HTML"===e.nodeName&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var p=T({top:o.top-s.top-f,left:o.left-s.left-d,width:o.width,height:o.height});if(p.marginTop=0,p.marginLeft=0,!i&&r){var m=parseFloat(u.marginTop,10),g=parseFloat(u.marginLeft,10);p.top-=f-m,p.bottom-=f-m,p.left-=d-g,p.right-=d-g,p.marginTop=m,p.marginLeft=g}return(i&&!n?e.contains(a):e===a&&"BODY"!==a.nodeName)&&(p=y(p,e)),p}function N(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.ownerDocument.documentElement,i=D(t,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=e?0:v(n),a=e?0:v(n,"left"),l={top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o};return T(l)}function A(t){var e=t.nodeName;return"BODY"!==e&&"HTML"!==e&&("fixed"===l(t,"position")||A(u(t)))}function P(t){if(!t||!t.parentElement||h())return document.documentElement;for(var e=t.parentElement;e&&"none"===l(e,"transform");)e=e.parentElement;return e||document.documentElement}function O(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?P(t):g(t,e);if("viewport"===i)o=N(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=c(u(e))).nodeName&&(a=t.ownerDocument.documentElement):a="window"===i?t.ownerDocument.documentElement:i;var l=D(a,s,r);if("HTML"!==a.nodeName||A(s))o=l;else{var f=w(),d=f.height,h=f.width;o.top+=l.top-l.marginTop,o.bottom=d+l.top,o.left+=l.left-l.marginLeft,o.right=h+l.left}}return o.left+=n,o.top+=n,o.right-=n,o.bottom-=n,o}function I(t){return t.width*t.height}function M(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var s=O(n,i,o,r),a={top:{width:s.width,height:e.top-s.top},right:{width:s.right-e.right,height:s.height},bottom:{width:s.width,height:s.bottom-e.bottom},left:{width:e.left-s.left,height:s.height}},l=Object.keys(a).map((function(t){return S({key:t},a[t],{area:I(a[t])})})).sort((function(t,e){return e.area-t.area})),u=l.filter((function(t){var e=t.width,i=t.height;return e>=n.clientWidth&&i>=n.clientHeight})),c=u.length>0?u[0].key:l[0].key,f=t.split("-")[1];return c+(f?"-"+f:"")}function B(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?P(e):g(e,n);return D(n,r,i)}function R(t){var e=getComputedStyle(t),n=parseFloat(e.marginTop)+parseFloat(e.marginBottom),i=parseFloat(e.marginLeft)+parseFloat(e.marginRight);return{width:t.offsetWidth+i,height:t.offsetHeight+n}}function L(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,(function(t){return e[t]}))}function F(t,e,n){n=n.split("-")[0];var i=R(t),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",u=o?"width":"height";return r[s]=e[s]+e[l]/2-i[l]/2,r[a]=n===a?e[a]-i[u]:e[L(a)],r}function H(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function z(t,e,n){return(void 0===n?t:t.slice(0,function(t,e,n){if(Array.prototype.findIndex)return t.findIndex((function(t){return t[e]===n}));var i=H(t,(function(t){return t[e]===n}));return t.indexOf(i)}(t,"name",n))).forEach((function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=t.function||t.fn;t.enabled&&a(n)&&(e.offsets.popper=T(e.offsets.popper),e.offsets.reference=T(e.offsets.reference),e=n(e,t))})),e}function j(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=B(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=M(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=F(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=z(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}function W(t,e){return t.some((function(t){var n=t.name;return t.enabled&&n===e}))}function $(t){for(var e=[!1,"ms","Webkit","Moz","O"],n=t.charAt(0).toUpperCase()+t.slice(1),i=0;i<e.length;i++){var r=e[i],o=r?""+r+n:t;if(void 0!==document.body.style[o])return o}return null}function q(){return this.state.isDestroyed=!0,W(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[$("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function U(t){var e=t.ownerDocument;return e?e.defaultView:window}function V(t,e,n,i){n.updateBound=i,U(t).addEventListener("resize",n.updateBound,{passive:!0});var r=c(t);return function t(e,n,i,r){var o="BODY"===e.nodeName,s=o?e.ownerDocument.defaultView:e;s.addEventListener(n,i,{passive:!0}),o||t(c(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function Y(){this.state.eventsEnabled||(this.state=V(this.reference,this.options,this.state,this.scheduleUpdate))}function X(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,U(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function G(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function K(t,e){Object.keys(e).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&G(e[n])&&(i="px"),t.style[n]=e[n]+i}))}function J(t,e,n){var i=H(t,(function(t){return t.name===e})),r=!!i&&t.some((function(t){return t.name===n&&t.enabled&&t.order<i.order}));if(!r){var o="`"+e+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Z=Q.slice(3);function tt(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Z.indexOf(t),i=Z.slice(n+1).concat(Z.slice(0,n));return e?i.reverse():i}var et="flip",nt="clockwise",it="counterclockwise";function rt(t,e,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=t.split(/(\+|\-)/).map((function(t){return t.trim()})),a=s.indexOf(H(s,(function(t){return-1!==t.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(u=u.map((function(t,i){var r=(1===i?!o:o)?"height":"width",s=!1;return t.reduce((function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,s=!0,t):s?(t[t.length-1]+=e,s=!1,t):t.concat(e)}),[]).map((function(t){return function(t,e,n,i){var r=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return t;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return T(a)[e]/100*o}if("vh"===s||"vw"===s){return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o}return o}(t,r,e,n)}))}))).forEach((function(t,e){t.forEach((function(n,i){G(n)&&(r[e]+=n*("-"===t[i-1]?-1:1))}))})),r}var ot={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,n=e.split("-")[0],i=e.split("-")[1];if(i){var r=t.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",u=a?"width":"height",c={start:k({},l,o[l]),end:k({},l,o[l]+o[u]-s[u])};t.offsets.popper=S({},s,c[i])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var n=e.offset,i=t.placement,r=t.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=G(+n)?[+n,0]:rt(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),t.popper=o,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var n=e.boundariesElement||p(t.instance.popper);t.instance.reference===n&&(n=p(n));var i=$("transform"),r=t.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=O(t.instance.popper,t.instance.reference,e.padding,n,t.positionFixed);r.top=o,r.left=s,r[i]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,f={primary:function(t){var n=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(n=Math.max(c[t],l[t])),k({},t,n)},secondary:function(t){var n="right"===t?"left":"top",i=c[n];return c[t]>l[t]&&!e.escapeWithReference&&(i=Math.min(c[n],l[t]-("right"===t?c.width:c.height))),k({},n,i)}};return u.forEach((function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=S({},c,f[e](t))})),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,n=e.popper,i=e.reference,r=t.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",u=s?"width":"height";return n[a]<o(i[l])&&(t.offsets.popper[l]=o(i[l])-n[u]),n[l]>o(i[a])&&(t.offsets.popper[l]=o(i[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var n;if(!J(t.instance.modifiers,"arrow","keepTogether"))return t;var i=e.element;if("string"==typeof i){if(!(i=t.instance.popper.querySelector(i)))return t}else if(!t.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var r=t.placement.split("-")[0],o=t.offsets,s=o.popper,a=o.reference,u=-1!==["left","right"].indexOf(r),c=u?"height":"width",f=u?"Top":"Left",d=f.toLowerCase(),h=u?"left":"top",p=u?"bottom":"right",m=R(i)[c];a[p]-m<s[d]&&(t.offsets.popper[d]-=s[d]-(a[p]-m)),a[d]+m>s[p]&&(t.offsets.popper[d]+=a[d]+m-s[p]),t.offsets.popper=T(t.offsets.popper);var g=a[d]+a[c]/2-m/2,v=l(t.instance.popper),y=parseFloat(v["margin"+f],10),b=parseFloat(v["border"+f+"Width"],10),x=g-t.offsets.popper[d]-y-b;return x=Math.max(Math.min(s[c]-m,x),0),t.arrowElement=i,t.offsets.arrow=(k(n={},d,Math.round(x)),k(n,h,""),n),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(W(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var n=O(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),i=t.placement.split("-")[0],r=L(i),o=t.placement.split("-")[1]||"",s=[];switch(e.behavior){case et:s=[i,r];break;case nt:s=tt(i);break;case it:s=tt(i,!0);break;default:s=e.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return t;i=t.placement.split("-")[0],r=L(i);var u=t.offsets.popper,c=t.offsets.reference,f=Math.floor,d="left"===i&&f(u.right)>f(c.left)||"right"===i&&f(u.left)<f(c.right)||"top"===i&&f(u.bottom)>f(c.top)||"bottom"===i&&f(u.top)<f(c.bottom),h=f(u.left)<f(n.left),p=f(u.right)>f(n.right),m=f(u.top)<f(n.top),g=f(u.bottom)>f(n.bottom),v="left"===i&&h||"right"===i&&p||"top"===i&&m||"bottom"===i&&g,y=-1!==["top","bottom"].indexOf(i),b=!!e.flipVariations&&(y&&"start"===o&&h||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&g);(d||v||b)&&(t.flipped=!0,(d||v)&&(i=s[l+1]),b&&(o=function(t){return"end"===t?"start":"start"===t?"end":t}(o)),t.placement=i+(o?"-"+o:""),t.offsets.popper=S({},t.offsets.popper,F(t.instance.popper,t.offsets.reference,t.placement)),t=z(t.instance.modifiers,t,"flip"))})),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,n=e.split("-")[0],i=t.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),t.placement=L(e),t.offsets.popper=T(r),t}},hide:{order:800,enabled:!0,fn:function(t){if(!J(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,n=H(t.instance.modifiers,(function(t){return"preventOverflow"===t.name})).boundaries;if(e.bottom<n.top||e.left>n.right||e.top>n.bottom||e.right<n.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var n=e.x,i=e.y,r=t.offsets.popper,o=H(t.instance.modifiers,(function(t){return"applyStyle"===t.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:e.gpuAcceleration,a=E(p(t.instance.popper)),l={position:r.position},u={left:Math.floor(r.left),top:Math.round(r.top),bottom:Math.round(r.bottom),right:Math.floor(r.right)},c="bottom"===n?"top":"bottom",f="right"===i?"left":"right",d=$("transform"),h=void 0,m=void 0;if(m="bottom"===c?-a.height+u.bottom:u.top,h="right"===f?-a.width+u.right:u.left,s&&d)l[d]="translate3d("+h+"px, "+m+"px, 0)",l[c]=0,l[f]=0,l.willChange="transform";else{var g="bottom"===c?-1:1,v="right"===f?-1:1;l[c]=m*g,l[f]=h*v,l.willChange=c+", "+f}var y={"x-placement":t.placement};return t.attributes=S({},y,t.attributes),t.styles=S({},l,t.styles),t.arrowStyles=S({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,n;return K(t.instance.popper,t.styles),e=t.instance.popper,n=t.attributes,Object.keys(n).forEach((function(t){!1!==n[t]?e.setAttribute(t,n[t]):e.removeAttribute(t)})),t.arrowElement&&Object.keys(t.arrowStyles).length&&K(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,n,i,r){var o=B(r,e,t,n.positionFixed),s=M(n.placement,o,e,t,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return e.setAttribute("x-placement",s),K(e,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},st=function(){function t(e,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=S({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(S({},t.Defaults.modifiers,r.modifiers)).forEach((function(e){i.options.modifiers[e]=S({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(t){return S({name:t},i.options.modifiers[t])})).sort((function(t,e){return t.order-e.order})),this.modifiers.forEach((function(t){t.enabled&&a(t.onLoad)&&t.onLoad(i.reference,i.popper,i.options,t,i.state)})),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return C(t,[{key:"update",value:function(){return j.call(this)}},{key:"destroy",value:function(){return q.call(this)}},{key:"enableEventListeners",value:function(){return Y.call(this)}},{key:"disableEventListeners",value:function(){return X.call(this)}}]),t}();st.Utils=("undefined"!=typeof window?window:t).PopperUtils,st.placements=Q,st.Defaults=ot,e.default=st}.call(this,n(1))},function(t,e,n){var i;!function(r,o,s){"use strict";!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){if(o)return o(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){var n=e[s][1][t];return r(n||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o=!1,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});n.default={title:"",text:"",type:null,allowOutsideClick:!1,showConfirmButton:!0,showCancelButton:!1,closeOnConfirm:!0,closeOnCancel:!0,confirmButtonText:"OK",confirmButtonClass:"btn-primary",cancelButtonText:"Cancel",cancelButtonClass:"btn-default",containerClass:"",titleClass:"",textClass:"",imageUrl:null,imageSize:null,timer:null,customClass:"",html:!1,animation:!0,allowEscapeKey:!0,inputType:"text",inputPlaceholder:"",inputValue:"",showLoaderOnConfirm:!1}},{}],2:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.handleCancel=n.handleConfirm=n.handleButton=void 0;t("./handle-swal-dom");var i=t("./handle-dom"),o=function(t,e){var n=!0;(0,i.hasClass)(t,"show-input")&&((n=t.querySelector("input").value)||(n="")),e.doneFunction(n),e.closeOnConfirm&&sweetAlert.close(),e.showLoaderOnConfirm&&sweetAlert.disableButtons()},s=function(t,e){var n=String(e.doneFunction).replace(/\s/g,"");"function("===n.substring(0,9)&&")"!==n.substring(9,10)&&e.doneFunction(!1),e.closeOnCancel&&sweetAlert.close()};n.handleButton=function(t,e,n){var a,l=t||r.event,u=l.target||l.srcElement,c=-1!==u.className.indexOf("confirm"),f=-1!==u.className.indexOf("sweet-overlay"),d=(0,i.hasClass)(n,"visible"),h=e.doneFunction&&"true"===n.getAttribute("data-has-done-function");switch(c&&e.confirmButtonColor&&(a=e.confirmButtonColor,colorLuminance(a,-.04),colorLuminance(a,-.14)),l.type){case"click":var p=n===u,m=(0,i.isDescendant)(n,u);if(!p&&!m&&d&&!e.allowOutsideClick)break;c&&h&&d?o(n,e):h&&d||f?s(n,e):(0,i.isDescendant)(n,u)&&"BUTTON"===u.tagName&&sweetAlert.close()}},n.handleConfirm=o,n.handleCancel=s},{"./handle-dom":3,"./handle-swal-dom":5}],3:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=function(t,e){return new RegExp(" "+e+" ").test(" "+t.className+" ")},s=function(t){t.style.opacity="",t.style.display="block"},a=function(t){t.style.opacity="",t.style.display="none"};n.hasClass=i,n.addClass=function(t,e){i(t,e)||(t.className+=" "+e)},n.removeClass=function(t,e){var n=" "+t.className.replace(/[\t\r\n]/g," ")+" ";if(i(t,e)){for(;n.indexOf(" "+e+" ")>=0;)n=n.replace(" "+e+" "," ");t.className=n.replace(/^\s+|\s+$/g,"")}},n.escapeHtml=function(t){var e=o.createElement("div");return e.appendChild(o.createTextNode(t)),e.innerHTML},n._show=s,n.show=function(t){if(t&&!t.length)return s(t);for(var e=0;e<t.length;++e)s(t[e])},n._hide=a,n.hide=function(t){if(t&&!t.length)return a(t);for(var e=0;e<t.length;++e)a(t[e])},n.isDescendant=function(t,e){for(var n=e.parentNode;null!==n;){if(n===t)return!0;n=n.parentNode}return!1},n.getTopMargin=function(t){t.style.left="-9999px",t.style.display="block";var e,n=t.clientHeight;return e="undefined"!=typeof getComputedStyle?parseInt(getComputedStyle(t).getPropertyValue("padding-top"),10):parseInt(t.currentStyle.padding),t.style.left="",t.style.display="none","-"+parseInt((n+e)/2)+"px"},n.fadeIn=function(t,e){if(+t.style.opacity<1){e=e||16,t.style.opacity=0,t.style.display="block";var n=+new Date;!function i(){t.style.opacity=+t.style.opacity+(new Date-n)/100,n=+new Date,+t.style.opacity<1&&setTimeout(i,e)}()}t.style.display="block"},n.fadeOut=function(t,e){e=e||16,t.style.opacity=1;var n=+new Date;!function i(){t.style.opacity=+t.style.opacity-(new Date-n)/100,n=+new Date,+t.style.opacity>0?setTimeout(i,e):t.style.display="none"}()},n.fireClick=function(t){if("function"==typeof MouseEvent){var e=new MouseEvent("click",{view:r,bubbles:!1,cancelable:!0});t.dispatchEvent(e)}else if(o.createEvent){var n=o.createEvent("MouseEvents");n.initEvent("click",!1,!1),t.dispatchEvent(n)}else o.createEventObject?t.fireEvent("onclick"):"function"==typeof t.onclick&&t.onclick()},n.stopEventPropagation=function(t){"function"==typeof t.stopPropagation?(t.stopPropagation(),t.preventDefault()):r.event&&r.event.hasOwnProperty("cancelBubble")&&(r.event.cancelBubble=!0)}},{}],4:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i=t("./handle-dom"),o=t("./handle-swal-dom");n.default=function(t,e,n){var s=t||r.event,a=s.keyCode||s.which,l=n.querySelector("button.confirm"),u=n.querySelector("button.cancel"),c=n.querySelectorAll("button[tabindex]");if(-1!==[9,13,32,27].indexOf(a)){for(var f=s.target||s.srcElement,d=-1,h=0;h<c.length;h++)if(f===c[h]){d=h;break}9===a?(f=-1===d?l:d===c.length-1?c[0]:c[d+1],(0,i.stopEventPropagation)(s),f.focus(),e.confirmButtonColor&&(0,o.setFocusStyle)(f,e.confirmButtonColor)):13===a?("INPUT"===f.tagName&&(f=l,l.focus()),f=-1===d?l:void 0):27===a&&!0===e.allowEscapeKey?(f=u,(0,i.fireClick)(f,s)):f=void 0}}},{"./handle-dom":3,"./handle-swal-dom":5}],5:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0}),n.fixVerticalPosition=n.resetInputError=n.resetInput=n.openModal=n.getInput=n.getOverlay=n.getModal=n.sweetAlertInitialize=void 0;var i=t("./handle-dom"),s=l(t("./default-params")),a=l(t("./injected-html"));function l(t){return t&&t.__esModule?t:{default:t}}var u=function(){var t=o.createElement("div");for(t.innerHTML=a.default;t.firstChild;)o.body.appendChild(t.firstChild)},c=function t(){var e=o.querySelector(".sweet-alert");return e||(u(),e=t()),e},f=function(){var t=c();if(t)return t.querySelector("input")},d=function(){return o.querySelector(".sweet-overlay")},h=function(t){if(t&&13===t.keyCode)return!1;var e=c(),n=e.querySelector(".sa-input-error");(0,i.removeClass)(n,"show");var r=e.querySelector(".form-group");(0,i.removeClass)(r,"has-error")};n.sweetAlertInitialize=u,n.getModal=c,n.getOverlay=d,n.getInput=f,n.openModal=function(t){var e=c();(0,i.fadeIn)(d(),10),(0,i.show)(e),(0,i.addClass)(e,"showSweetAlert"),(0,i.removeClass)(e,"hideSweetAlert"),r.previousActiveElement=o.activeElement,e.querySelector("button.confirm").focus(),setTimeout((function(){(0,i.addClass)(e,"visible")}),500);var n=e.getAttribute("data-timer");if("null"!==n&&""!==n){var s=t;e.timeout=setTimeout((function(){(s?"true"===e.getAttribute("data-has-done-function"):null)?s(null):sweetAlert.close()}),n)}},n.resetInput=function(){var t=c(),e=f();(0,i.removeClass)(t,"show-input"),e.value=s.default.inputValue,e.setAttribute("type",s.default.inputType),e.setAttribute("placeholder",s.default.inputPlaceholder),h()},n.resetInputError=h,n.fixVerticalPosition=function(){c().style.marginTop=(0,i.getTopMargin)(c())}},{"./default-params":1,"./handle-dom":3,"./injected-html":6}],6:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});n.default='<div class="sweet-overlay" tabIndex="-1"></div><div class="sweet-alert" tabIndex="-1"><div class="sa-icon sa-error">\n      <span class="sa-x-mark">\n        <span class="sa-line sa-left"></span>\n        <span class="sa-line sa-right"></span>\n      </span>\n    </div><div class="sa-icon sa-warning">\n      <span class="sa-body"></span>\n      <span class="sa-dot"></span>\n    </div><div class="sa-icon sa-info"></div><div class="sa-icon sa-success">\n      <span class="sa-line sa-tip"></span>\n      <span class="sa-line sa-long"></span>\n\n      <div class="sa-placeholder"></div>\n      <div class="sa-fix"></div>\n    </div><div class="sa-icon sa-custom"></div><h2>Title</h2>\n    <p class="lead text-muted">Text</p>\n    <div class="form-group">\n      <input type="text" class="form-control" tabIndex="3" />\n      <span class="sa-input-error help-block">\n        <span class="glyphicon glyphicon-exclamation-sign"></span> <span class="sa-help-text">Not valid</span>\n      </span>\n    </div><div class="sa-button-container">\n      <button class="cancel btn btn-lg" tabIndex="2">Cancel</button>\n      <div class="sa-confirm-button-container">\n        <button class="confirm btn btn-lg" tabIndex="1">OK</button><div class="la-ball-fall">\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div></div>'},{}],7:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=t("./utils"),o=t("./handle-swal-dom"),s=t("./handle-dom"),a=["error","warning","info","success","input","prompt"];n.default=function(t){var e=(0,o.getModal)(),n=e.querySelector("h2"),l=e.querySelector("p"),u=e.querySelector("button.cancel"),c=e.querySelector("button.confirm");if(n.innerHTML=t.html?t.title:(0,s.escapeHtml)(t.title).split("\n").join("<br>"),l.innerHTML=t.html?t.text:(0,s.escapeHtml)(t.text||"").split("\n").join("<br>"),t.text&&(0,s.show)(l),t.customClass)(0,s.addClass)(e,t.customClass),e.setAttribute("data-custom-class",t.customClass);else{var f=e.getAttribute("data-custom-class");(0,s.removeClass)(e,f),e.setAttribute("data-custom-class","")}if((0,s.hide)(e.querySelectorAll(".sa-icon")),t.type&&!(0,r.isIE8)()){var d=function(){for(var n=!1,i=0;i<a.length;i++)if(t.type===a[i]){n=!0;break}if(!n)return logStr("Unknown alert type: "+t.type),{v:!1};var r=void 0;-1!==["success","error","warning","info"].indexOf(t.type)&&(r=e.querySelector(".sa-icon.sa-"+t.type),(0,s.show)(r));var l=(0,o.getInput)();switch(t.type){case"success":(0,s.addClass)(r,"animate"),(0,s.addClass)(r.querySelector(".sa-tip"),"animateSuccessTip"),(0,s.addClass)(r.querySelector(".sa-long"),"animateSuccessLong");break;case"error":(0,s.addClass)(r,"animateErrorIcon"),(0,s.addClass)(r.querySelector(".sa-x-mark"),"animateXMark");break;case"warning":(0,s.addClass)(r,"pulseWarning"),(0,s.addClass)(r.querySelector(".sa-body"),"pulseWarningIns"),(0,s.addClass)(r.querySelector(".sa-dot"),"pulseWarningIns");break;case"input":case"prompt":l.setAttribute("type",t.inputType),l.value=t.inputValue,l.setAttribute("placeholder",t.inputPlaceholder),(0,s.addClass)(e,"show-input"),setTimeout((function(){l.focus(),l.addEventListener("keyup",swal.resetInputError)}),400)}}();if("object"===(void 0===d?"undefined":i(d)))return d.v}if(t.imageUrl){var h=e.querySelector(".sa-icon.sa-custom");h.style.backgroundImage="url("+t.imageUrl+")",(0,s.show)(h);var p=80,m=80;if(t.imageSize){var g=t.imageSize.toString().split("x"),v=g[0],y=g[1];v&&y?(p=v,m=y):logStr("Parameter imageSize expects value with format WIDTHxHEIGHT, got "+t.imageSize)}h.setAttribute("style",h.getAttribute("style")+"width:"+p+"px; height:"+m+"px")}e.setAttribute("data-has-cancel-button",t.showCancelButton),t.showCancelButton?u.style.display="inline-block":(0,s.hide)(u),e.setAttribute("data-has-confirm-button",t.showConfirmButton),t.showConfirmButton?c.style.display="inline-block":(0,s.hide)(c),t.cancelButtonText&&(u.innerHTML=(0,s.escapeHtml)(t.cancelButtonText)),t.confirmButtonText&&(c.innerHTML=(0,s.escapeHtml)(t.confirmButtonText)),c.className="confirm btn btn-lg",(0,s.addClass)(e,t.containerClass),(0,s.addClass)(c,t.confirmButtonClass),(0,s.addClass)(u,t.cancelButtonClass),(0,s.addClass)(n,t.titleClass),(0,s.addClass)(l,t.textClass),e.setAttribute("data-allow-outside-click",t.allowOutsideClick);var b=!!t.doneFunction;e.setAttribute("data-has-done-function",b),t.animation?"string"==typeof t.animation?e.setAttribute("data-animation",t.animation):e.setAttribute("data-animation","pop"):e.setAttribute("data-animation","none"),e.setAttribute("data-timer",t.timer)}},{"./handle-dom":3,"./handle-swal-dom":5,"./utils":8}],8:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});n.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},n.isIE8=function(){return r.attachEvent&&!r.addEventListener},n.logStr=function(t){r.console&&r.console.log("SweetAlert: "+t)}},{}],9:[function(t,e,n){Object.defineProperty(n,"__esModule",{value:!0});var i,s,a,l,u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},c=t("./modules/handle-dom"),f=t("./modules/utils"),d=t("./modules/handle-swal-dom"),h=t("./modules/handle-click"),p=v(t("./modules/handle-key")),m=v(t("./modules/default-params")),g=v(t("./modules/set-params"));function v(t){return t&&t.__esModule?t:{default:t}}n.default=a=l=function(){var t=arguments[0];function e(e){var n=t;return void 0===n[e]?m.default[e]:n[e]}if((0,c.addClass)(o.body,"stop-scrolling"),(0,d.resetInput)(),void 0===t)return(0,f.logStr)("SweetAlert expects at least 1 attribute!"),!1;var n=(0,f.extend)({},m.default);switch(void 0===t?"undefined":u(t)){case"string":n.title=t,n.text=arguments[1]||"",n.type=arguments[2]||"";break;case"object":if(void 0===t.title)return(0,f.logStr)('Missing "title" argument!'),!1;for(var a in n.title=t.title,m.default)n[a]=e(a);n.confirmButtonText=n.showCancelButton?"Confirm":m.default.confirmButtonText,n.confirmButtonText=e("confirmButtonText"),n.doneFunction=arguments[1]||null;break;default:return(0,f.logStr)('Unexpected type of argument! Expected "string" or "object", got '+(void 0===t?"undefined":u(t))),!1}(0,g.default)(n),(0,d.fixVerticalPosition)(),(0,d.openModal)(arguments[1]);for(var v=(0,d.getModal)(),y=v.querySelectorAll("button"),b=["onclick"],x=function(t){return(0,h.handleButton)(t,n,v)},w=0;w<y.length;w++)for(var _=0;_<b.length;_++){var C=b[_];y[w][C]=x}(0,d.getOverlay)().onclick=x,i=r.onkeydown;var k=function(t){return(0,p.default)(t,n,v)};r.onkeydown=k,r.onfocus=function(){setTimeout((function(){void 0!==s&&(s.focus(),s=void 0)}),0)},l.enableButtons()},a.setDefaults=l.setDefaults=function(t){if(!t)throw new Error("userParams is required");if("object"!==(void 0===t?"undefined":u(t)))throw new Error("userParams has to be a object");(0,f.extend)(m.default,t)},a.close=l.close=function(){var t=(0,d.getModal)();(0,c.fadeOut)((0,d.getOverlay)(),5),(0,c.fadeOut)(t,5),(0,c.removeClass)(t,"showSweetAlert"),(0,c.addClass)(t,"hideSweetAlert"),(0,c.removeClass)(t,"visible");var e=t.querySelector(".sa-icon.sa-success");(0,c.removeClass)(e,"animate"),(0,c.removeClass)(e.querySelector(".sa-tip"),"animateSuccessTip"),(0,c.removeClass)(e.querySelector(".sa-long"),"animateSuccessLong");var n=t.querySelector(".sa-icon.sa-error");(0,c.removeClass)(n,"animateErrorIcon"),(0,c.removeClass)(n.querySelector(".sa-x-mark"),"animateXMark");var a=t.querySelector(".sa-icon.sa-warning");return(0,c.removeClass)(a,"pulseWarning"),(0,c.removeClass)(a.querySelector(".sa-body"),"pulseWarningIns"),(0,c.removeClass)(a.querySelector(".sa-dot"),"pulseWarningIns"),setTimeout((function(){var e=t.getAttribute("data-custom-class");(0,c.removeClass)(t,e)}),300),(0,c.removeClass)(o.body,"stop-scrolling"),r.onkeydown=i,r.previousActiveElement&&r.previousActiveElement.focus(),s=void 0,clearTimeout(t.timeout),!0},a.showInputError=l.showInputError=function(t){var e=(0,d.getModal)(),n=e.querySelector(".sa-input-error");(0,c.addClass)(n,"show");var i=e.querySelector(".form-group");(0,c.addClass)(i,"has-error"),i.querySelector(".sa-help-text").innerHTML=t,setTimeout((function(){a.enableButtons()}),1),e.querySelector("input").focus()},a.resetInputError=l.resetInputError=function(t){if(t&&13===t.keyCode)return!1;var e=(0,d.getModal)(),n=e.querySelector(".sa-input-error");(0,c.removeClass)(n,"show");var i=e.querySelector(".form-group");(0,c.removeClass)(i,"has-error")},a.disableButtons=l.disableButtons=function(t){var e=(0,d.getModal)(),n=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");n.disabled=!0,i.disabled=!0},a.enableButtons=l.enableButtons=function(t){var e=(0,d.getModal)(),n=e.querySelector("button.confirm"),i=e.querySelector("button.cancel");n.disabled=!1,i.disabled=!1},void 0!==r?r.sweetAlert=r.swal=a:(0,f.logStr)("SweetAlert is a frontend module!")},{"./modules/default-params":1,"./modules/handle-click":2,"./modules/handle-dom":3,"./modules/handle-key":4,"./modules/handle-swal-dom":5,"./modules/set-params":7,"./modules/utils":8}]},{},[9]),void 0===(i=function(){return sweetAlert}.call(e,n,e,t))||(t.exports=i)}(window,document)},function(t,e,n){var i,r,o;!function(s){"use strict";r=[n(0)],void 0===(o="function"==typeof(i=function(t){var e=0,n=t,i="parseJSON";"JSON"in window&&"parse"in JSON&&(n=JSON,i="parse");t.ajaxTransport("iframe",(function(n){if(n.async){var i,r,o,s=n.initialIframeSrc||"javascript:false;";return{send:function(a,l){(i=t('<form style="display:none;"></form>')).attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?","DELETE"===n.type?(n.url=n.url+o+"_method=DELETE",n.type="POST"):"PUT"===n.type?(n.url=n.url+o+"_method=PUT",n.type="POST"):"PATCH"===n.type&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),r=t('<iframe src="'+s+'" name="iframe-transport-'+(e+=1)+'"></iframe>').bind("load",(function(){var e,o=t.isArray(n.paramName)?n.paramName:[n.paramName];r.unbind("load").bind("load",(function(){var e;try{if(!(e=r.contents()).length||!e[0].firstChild)throw new Error}catch(t){e=void 0}l(200,"success",{iframe:e}),t('<iframe src="'+s+'"></iframe>').appendTo(i),window.setTimeout((function(){i.remove()}),0)})),i.prop("target",r.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&t.each(n.formData,(function(e,n){t('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)})),n.fileInput&&n.fileInput.length&&"POST"===n.type&&(e=n.fileInput.clone(),n.fileInput.after((function(t){return e[t]})),n.paramName&&n.fileInput.each((function(e){t(this).prop("name",o[e]||n.paramName)})),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),e&&e.length&&n.fileInput.each((function(n,i){var r=t(e[n]);t(i).prop("name",r.prop("name")).attr("form",r.attr("form")),r.replaceWith(i)}))})),i.append(r).appendTo(document.body)},abort:function(){r&&r.unbind("load").prop("src",s),i&&i.remove()}}}})),t.ajaxSetup({converters:{"iframe text":function(e){return e&&t(e[0].body).text()},"iframe json":function(e){return e&&n[i](t(e[0].body).text())},"iframe html":function(e){return e&&t(e[0].body).html()},"iframe xml":function(e){var n=e&&e[0];return n&&t.isXMLDoc(n)?n:t.parseXML(n.XMLDocument&&n.XMLDocument.xml||t(n.body).html())},"iframe script":function(e){return e&&t.globalEval(t(e[0].body).text())}}})})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r,o;!function(s){"use strict";r=[n(0),n(2)],void 0===(o="function"==typeof(i=function(t){function e(e){var n="dragover"===e;return function(i){i.dataTransfer=i.originalEvent&&i.originalEvent.dataTransfer;var r=i.dataTransfer;r&&-1!==t.inArray("Files",r.types)&&!1!==this._trigger(e,t.Event(e,{delegatedEvent:i}))&&(i.preventDefault(),n&&(r.dropEffect="copy"))}}t.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||t('<input type="file"/>').prop("disabled")),t.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),t.support.xhrFormDataFileUpload=!!window.FormData,t.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),t.widget("blueimp.fileupload",{options:{dropZone:t(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(e,n){return e=this.messages[e]||e.toString(),n&&t.each(n,(function(t,n){e=e.replace("{"+t+"}",n)})),e},formData:function(t){return t.serializeArray()},add:function(e,n){if(e.isDefaultPrevented())return!1;(n.autoUpload||!1!==n.autoUpload&&t(this).fileupload("option","autoUpload"))&&n.process().done((function(){n.submit()}))},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:t.support.blobSlice&&function(){var t=this.slice||this.webkitSlice||this.mozSlice;return t.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(t,e,n){var i=t-this.timestamp;return(!this.bitrate||!n||i>n)&&(this.bitrate=(e-this.loaded)*(1e3/i)*8,this.loaded=e,this.timestamp=t),this.bitrate}},_isXHRUpload:function(e){return!e.forceIframeTransport&&(!e.multipart&&t.support.xhrFileUpload||t.support.xhrFormDataFileUpload)},_getFormData:function(e){var n;return"function"===t.type(e.formData)?e.formData(e.form):t.isArray(e.formData)?e.formData:"object"===t.type(e.formData)?(n=[],t.each(e.formData,(function(t,e){n.push({name:t,value:e})})),n):[]},_getTotal:function(e){var n=0;return t.each(e,(function(t,e){n+=e.size||1})),n},_initProgressObject:function(e){var n={loaded:0,total:0,bitrate:0};e._progress?t.extend(e._progress,n):e._progress=n},_initResponseObject:function(t){var e;if(t._response)for(e in t._response)t._response.hasOwnProperty(e)&&delete t._response[e];else t._response={}},_onProgress:function(e,n){if(e.lengthComputable){var i,r=Date.now?Date.now():(new Date).getTime();if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&e.loaded!==e.total)return;n._time=r,i=Math.floor(e.loaded/e.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",t.Event("progress",{delegatedEvent:e}),n),this._trigger("progressall",t.Event("progressall",{delegatedEvent:e}),this._progress)}},_initProgressListener:function(e){var n=this,i=e.xhr?e.xhr():t.ajaxSettings.xhr();i.upload&&(t(i.upload).bind("progress",(function(t){var i=t.originalEvent;t.lengthComputable=i.lengthComputable,t.loaded=i.loaded,t.total=i.total,n._onProgress(t,e)})),e.xhr=function(){return i})},_isInstanceOf:function(t,e){return Object.prototype.toString.call(e)==="[object "+t+"]"},_initXHRData:function(e){var n,i=this,r=e.files[0],o=e.multipart||!t.support.xhrFileUpload,s="array"===t.type(e.paramName)?e.paramName[0]:e.paramName;e.headers=t.extend({},e.headers),e.contentRange&&(e.headers["Content-Range"]=e.contentRange),o&&!e.blob&&this._isInstanceOf("File",r)||(e.headers["Content-Disposition"]='attachment; filename="'+encodeURI(r.uploadName||r.name)+'"'),o?t.support.xhrFormDataFileUpload&&(e.postMessage?(n=this._getFormData(e),e.blob?n.push({name:s,value:e.blob}):t.each(e.files,(function(i,r){n.push({name:"array"===t.type(e.paramName)&&e.paramName[i]||s,value:r})}))):(i._isInstanceOf("FormData",e.formData)?n=e.formData:(n=new FormData,t.each(this._getFormData(e),(function(t,e){n.append(e.name,e.value)}))),e.blob?n.append(s,e.blob,r.uploadName||r.name):t.each(e.files,(function(r,o){(i._isInstanceOf("File",o)||i._isInstanceOf("Blob",o))&&n.append("array"===t.type(e.paramName)&&e.paramName[r]||s,o,o.uploadName||o.name)}))),e.data=n):(e.contentType=r.type||"application/octet-stream",e.data=e.blob||r),e.blob=null},_initIframeSettings:function(e){var n=t("<a></a>").prop("href",e.url).prop("host");e.dataType="iframe "+(e.dataType||""),e.formData=this._getFormData(e),e.redirect&&n&&n!==location.host&&e.formData.push({name:e.redirectParamName||"redirect",value:e.redirect})},_initDataSettings:function(t){this._isXHRUpload(t)?(this._chunkedUpload(t,!0)||(t.data||this._initXHRData(t),this._initProgressListener(t)),t.postMessage&&(t.dataType="postmessage "+(t.dataType||""))):this._initIframeSettings(t)},_getParamName:function(e){var n=t(e.fileInput),i=e.paramName;return i?t.isArray(i)||(i=[i]):(i=[],n.each((function(){for(var e=t(this),n=e.prop("name")||"files[]",r=(e.prop("files")||[1]).length;r;)i.push(n),r-=1})),i.length||(i=[n.prop("name")||"files[]"])),i},_initFormSettings:function(e){e.form&&e.form.length||(e.form=t(e.fileInput.prop("form")),e.form.length||(e.form=t(this.options.fileInput.prop("form")))),e.paramName=this._getParamName(e),e.url||(e.url=e.form.prop("action")||location.href),e.type=(e.type||"string"===t.type(e.form.prop("method"))&&e.form.prop("method")||"").toUpperCase(),"POST"!==e.type&&"PUT"!==e.type&&"PATCH"!==e.type&&(e.type="POST"),e.formAcceptCharset||(e.formAcceptCharset=e.form.attr("accept-charset"))},_getAJAXSettings:function(e){var n=t.extend({},this.options,e);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(t){return t.state?t.state():t.isResolved()?"resolved":t.isRejected()?"rejected":"pending"},_enhancePromise:function(t){return t.success=t.done,t.error=t.fail,t.complete=t.always,t},_getXHRPromise:function(e,n,i){var r=t.Deferred(),o=r.promise();return n=n||this.options.context||o,!0===e?r.resolveWith(n,i):!1===e&&r.rejectWith(n,i),o.abort=r.promise,this._enhancePromise(o)},_addConvenienceMethods:function(e,n){var i=this,r=function(e){return t.Deferred().resolveWith(i,e).promise()};n.process=function(e,o){return(e||o)&&(n._processQueue=this._processQueue=(this._processQueue||r([this])).then((function(){return n.errorThrown?t.Deferred().rejectWith(i,[n]).promise():r(arguments)})).then(e,o)),this._processQueue||r([this])},n.submit=function(){return"pending"!==this.state()&&(n.jqXHR=this.jqXHR=!1!==i._trigger("submit",t.Event("submit",{delegatedEvent:e}),this)&&i._onSend(e,this)),this.jqXHR||i._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",i._trigger("fail",null,this),i._getXHRPromise(!1))},n.state=function(){return this.jqXHR?i._getDeferredState(this.jqXHR):this._processQueue?i._getDeferredState(this._processQueue):void 0},n.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===i._getDeferredState(this._processQueue)},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(t){var e=t.getResponseHeader("Range"),n=e&&e.split("-"),i=n&&n.length>1&&parseInt(n[1],10);return i&&i+1},_chunkedUpload:function(e,n){e.uploadedBytes=e.uploadedBytes||0;var i,r,o=this,s=e.files[0],a=s.size,l=e.uploadedBytes,u=e.maxChunkSize||a,c=this._blobSlice,f=t.Deferred(),d=f.promise();return!(!(this._isXHRUpload(e)&&c&&(l||("function"===t.type(u)?u(e):u)<a))||e.data)&&(!!n||(l>=a?(s.error=e.i18n("uploadedBytes"),this._getXHRPromise(!1,e.context,[null,"error",s.error])):(r=function(){var n=t.extend({},e),d=n._progress.loaded;n.blob=c.call(s,l,l+("function"===t.type(u)?u(n):u),s.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+l+"-"+(l+n.chunkSize-1)+"/"+a,o._initXHRData(n),o._initProgressListener(n),i=(!1!==o._trigger("chunksend",null,n)&&t.ajax(n)||o._getXHRPromise(!1,n.context)).done((function(i,s,u){l=o._getUploadedBytes(u)||l+n.chunkSize,d+n.chunkSize-n._progress.loaded&&o._onProgress(t.Event("progress",{lengthComputable:!0,loaded:l-n.uploadedBytes,total:l-n.uploadedBytes}),n),e.uploadedBytes=n.uploadedBytes=l,n.result=i,n.textStatus=s,n.jqXHR=u,o._trigger("chunkdone",null,n),o._trigger("chunkalways",null,n),l<a?r():f.resolveWith(n.context,[i,s,u])})).fail((function(t,e,i){n.jqXHR=t,n.textStatus=e,n.errorThrown=i,o._trigger("chunkfail",null,n),o._trigger("chunkalways",null,n),f.rejectWith(n.context,[t,e,i])}))},this._enhancePromise(d),d.abort=function(){return i.abort()},r(),d)))},_beforeSend:function(t,e){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(e),this._initProgressObject(e),e._progress.loaded=e.loaded=e.uploadedBytes||0,e._progress.total=e.total=this._getTotal(e.files)||1,e._progress.bitrate=e.bitrate=0,this._active+=1,this._progress.loaded+=e.loaded,this._progress.total+=e.total},_onDone:function(e,n,i,r){var o=r._progress.total,s=r._response;r._progress.loaded<o&&this._onProgress(t.Event("progress",{lengthComputable:!0,loaded:o,total:o}),r),s.result=r.result=e,s.textStatus=r.textStatus=n,s.jqXHR=r.jqXHR=i,this._trigger("done",null,r)},_onFail:function(t,e,n,i){var r=i._response;i.recalculateProgress&&(this._progress.loaded-=i._progress.loaded,this._progress.total-=i._progress.total),r.jqXHR=i.jqXHR=t,r.textStatus=i.textStatus=e,r.errorThrown=i.errorThrown=n,this._trigger("fail",null,i)},_onAlways:function(t,e,n,i){this._trigger("always",null,i)},_onSend:function(e,n){n.submit||this._addConvenienceMethods(e,n);var i,r,o,s,a=this,l=a._getAJAXSettings(n),u=function(){return a._sending+=1,l._bitrateTimer=new a._BitrateTimer,i=i||((r||!1===a._trigger("send",t.Event("send",{delegatedEvent:e}),l))&&a._getXHRPromise(!1,l.context,r)||a._chunkedUpload(l)||t.ajax(l)).done((function(t,e,n){a._onDone(t,e,n,l)})).fail((function(t,e,n){a._onFail(t,e,n,l)})).always((function(t,e,n){if(a._onAlways(t,e,n,l),a._sending-=1,a._active-=1,l.limitConcurrentUploads&&l.limitConcurrentUploads>a._sending)for(var i=a._slots.shift();i;){if("pending"===a._getDeferredState(i)){i.resolve();break}i=a._slots.shift()}0===a._active&&a._trigger("stop")}))};return this._beforeSend(e,l),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=t.Deferred(),this._slots.push(o),s=o.then(u)):(this._sequence=this._sequence.then(u,u),s=this._sequence),s.abort=function(){return r=[void 0,"abort","abort"],i?i.abort():(o&&o.rejectWith(l.context,r),u())},this._enhancePromise(s)):u()},_onAdd:function(e,n){var i,r,o,s,a=this,l=!0,u=t.extend({},this.options,n),c=n.files,f=c.length,d=u.limitMultiFileUploads,h=u.limitMultiFileUploadSize,p=u.limitMultiFileUploadSizeOverhead,m=0,g=this._getParamName(u),v=0;if(!f)return!1;if(h&&void 0===c[0].size&&(h=void 0),(u.singleFileUploads||d||h)&&this._isXHRUpload(u))if(u.singleFileUploads||h||!d)if(!u.singleFileUploads&&h)for(o=[],i=[],s=0;s<f;s+=1)m+=c[s].size+p,(s+1===f||m+c[s+1].size+p>h||d&&s+1-v>=d)&&(o.push(c.slice(v,s+1)),(r=g.slice(v,s+1)).length||(r=g),i.push(r),v=s+1,m=0);else i=g;else for(o=[],i=[],s=0;s<f;s+=d)o.push(c.slice(s,s+d)),(r=g.slice(s,s+d)).length||(r=g),i.push(r);else o=[c],i=[g];return n.originalFiles=c,t.each(o||c,(function(r,s){var u=t.extend({},n);return u.files=o?s:[s],u.paramName=i[r],a._initResponseObject(u),a._initProgressObject(u),a._addConvenienceMethods(e,u),l=a._trigger("add",t.Event("add",{delegatedEvent:e}),u)})),l},_replaceFileInput:function(e){var n=e.fileInput,i=n.clone(!0),r=n.is(document.activeElement);e.fileInputClone=i,t("<form></form>").append(i)[0].reset(),n.after(i).detach(),r&&i.focus(),t.cleanData(n.unbind("remove")),this.options.fileInput=this.options.fileInput.map((function(t,e){return e===n[0]?i[0]:e})),n[0]===this.element[0]&&(this.element=i)},_handleFileTreeEntry:function(e,n){var i,r=this,o=t.Deferred(),s=[],a=function(t){t&&!t.entry&&(t.entry=e),o.resolve([t])},l=function(){i.readEntries((function(t){t.length?(s=s.concat(t),l()):function(t){r._handleFileTreeEntries(t,n+e.name+"/").done((function(t){o.resolve(t)})).fail(a)}(s)}),a)};return n=n||"",e.isFile?e._file?(e._file.relativePath=n,o.resolve(e._file)):e.file((function(t){t.relativePath=n,o.resolve(t)}),a):e.isDirectory?(i=e.createReader(),l()):o.resolve([]),o.promise()},_handleFileTreeEntries:function(e,n){var i=this;return t.when.apply(t,t.map(e,(function(t){return i._handleFileTreeEntry(t,n)}))).then((function(){return Array.prototype.concat.apply([],arguments)}))},_getDroppedFiles:function(e){var n=(e=e||{}).items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(t.map(n,(function(t){var e;return t.webkitGetAsEntry?((e=t.webkitGetAsEntry())&&(e._file=t.getAsFile()),e):t.getAsEntry()}))):t.Deferred().resolve(t.makeArray(e.files)).promise()},_getSingleFileInputFiles:function(e){var n,i,r=(e=t(e)).prop("webkitEntries")||e.prop("entries");if(r&&r.length)return this._handleFileTreeEntries(r);if((n=t.makeArray(e.prop("files"))).length)void 0===n[0].name&&n[0].fileName&&t.each(n,(function(t,e){e.name=e.fileName,e.size=e.fileSize}));else{if(!(i=e.prop("value")))return t.Deferred().resolve([]).promise();n=[{name:i.replace(/^.*\\/,"")}]}return t.Deferred().resolve(n).promise()},_getFileInputFiles:function(e){return e instanceof t&&1!==e.length?t.when.apply(t,t.map(e,this._getSingleFileInputFiles)).then((function(){return Array.prototype.concat.apply([],arguments)})):this._getSingleFileInputFiles(e)},_onChange:function(e){var n=this,i={fileInput:t(e.target),form:t(e.target.form)};this._getFileInputFiles(i.fileInput).always((function(r){i.files=r,n.options.replaceFileInput&&n._replaceFileInput(i),!1!==n._trigger("change",t.Event("change",{delegatedEvent:e}),i)&&n._onAdd(e,i)}))},_onPaste:function(e){var n=e.originalEvent&&e.originalEvent.clipboardData&&e.originalEvent.clipboardData.items,i={files:[]};n&&n.length&&(t.each(n,(function(t,e){var n=e.getAsFile&&e.getAsFile();n&&i.files.push(n)})),!1!==this._trigger("paste",t.Event("paste",{delegatedEvent:e}),i)&&this._onAdd(e,i))},_onDrop:function(e){e.dataTransfer=e.originalEvent&&e.originalEvent.dataTransfer;var n=this,i=e.dataTransfer,r={};i&&i.files&&i.files.length&&(e.preventDefault(),this._getDroppedFiles(i).always((function(i){r.files=i,!1!==n._trigger("drop",t.Event("drop",{delegatedEvent:e}),r)&&n._onAdd(e,r)})))},_onDragOver:e("dragover"),_onDragEnter:e("dragenter"),_onDragLeave:e("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),t.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(e,n){var i=-1!==t.inArray(e,this._specialOptions);i&&this._destroyEventHandlers(),this._super(e,n),i&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var e=this.options;void 0===e.fileInput?e.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):e.fileInput instanceof t||(e.fileInput=t(e.fileInput)),e.dropZone instanceof t||(e.dropZone=t(e.dropZone)),e.pasteZone instanceof t||(e.pasteZone=t(e.pasteZone))},_getRegExp:function(t){var e=t.split("/"),n=e.pop();return e.shift(),new RegExp(e.join("/"),n)},_isRegExpOption:function(e,n){return"url"!==e&&"string"===t.type(n)&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var e=this,n=this.options,i=this.element.data();t.each(this.element[0].attributes,(function(t,r){var o,s=r.name.toLowerCase();/^data-/.test(s)&&(s=s.slice(5).replace(/-[a-z]/g,(function(t){return t.charAt(1).toUpperCase()})),o=i[s],e._isRegExpOption(s,o)&&(o=e._getRegExp(o)),n[s]=o)}))},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(e){var n=this;e&&!this.options.disabled&&(e.fileInput&&!e.files?this._getFileInputFiles(e.fileInput).always((function(t){e.files=t,n._onAdd(null,e)})):(e.files=t.makeArray(e.files),this._onAdd(null,e)))},send:function(e){if(e&&!this.options.disabled){if(e.fileInput&&!e.files){var n,i,r=this,o=t.Deferred(),s=o.promise();return s.abort=function(){return i=!0,n?n.abort():(o.reject(null,"abort","abort"),s)},this._getFileInputFiles(e.fileInput).always((function(t){i||(t.length?(e.files=t,(n=r._onSend(null,e)).then((function(t,e,n){o.resolve(t,e,n)}),(function(t,e,n){o.reject(t,e,n)}))):o.reject())})),this._enhancePromise(s)}if(e.files=t.makeArray(e.files),e.files.length)return this._onSend(null,e)}return this._getXHRPromise(!1,e&&e.context)}})})?i.apply(e,r):i)||(t.exports=o)}()},function(t,e,n){var i,r;i=[n(0)],void 0===(r=function(t){!function(t){"use strict";var e,n,i,r=document.createElement("_");if(r.classList.toggle("c3",!1),r.classList.contains("c3")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:o.call(this,t)}}function s(t){var e,n=[],i=t&&t.options;if(t.multiple)for(var r=0,o=i.length;r<o;r++)(e=i[r]).selected&&n.push(e.value||e.text);else n=t.value;return n}String.prototype.startsWith||(e=function(){try{var t={},e=Object.defineProperty,n=e(t,t,t)&&e}catch(t){}return n}(),n={}.toString,i=function(t){if(null==this)throw new TypeError;var e=String(this);if(t&&"[object RegExp]"==n.call(t))throw new TypeError;var i=e.length,r=String(t),o=r.length,s=arguments.length>1?arguments[1]:void 0,a=s?Number(s):0;a!=a&&(a=0);var l=Math.min(Math.max(a,0),i);if(o+l>i)return!1;for(var u=-1;++u<o;)if(e.charCodeAt(l+u)!=r.charCodeAt(u))return!1;return!0},e?e(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i),Object.keys||(Object.keys=function(t,e,n){for(e in n=[],t)n.hasOwnProperty.call(t,e)&&n.push(e);return n});var a={useDefault:!1,_set:t.valHooks.select.set};t.valHooks.select.set=function(e,n){return n&&!a.useDefault&&t(e).data("selected",!0),a._set.apply(this,arguments)};var l=null,u=function(){try{return new Event("change"),!0}catch(t){return!1}}();function c(t,e,n,i){for(var r=["content","subtext","tokens"],o=!1,s=0;s<r.length;s++){var a=r[s],l=t[a];if(l&&(l=l.toString(),"content"===a&&(l=l.replace(/<[^>]+>/g,"")),i&&(l=d(l)),l=l.toUpperCase(),o="contains"===n?l.indexOf(e)>=0:l.startsWith(e)))break}return o}function f(t){return parseInt(t,10)||0}function d(e){return t.each([{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],(function(){e=e?e.replace(this.re,this.ch):""})),e}t.fn.triggerNative=function(t){var e,n=this[0];n.dispatchEvent?(u?e=new Event(t,{bubbles:!0}):(e=document.createEvent("Event")).initEvent(t,!0,!1),n.dispatchEvent(e)):n.fireEvent?((e=document.createEventObject()).eventType=t,n.fireEvent("on"+t,e)):this.trigger(t)};var h=function(t){var e=function(e){return t[e]},n="(?:"+Object.keys(t).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(t){return t=null==t?"":""+t,i.test(t)?t.replace(r,e):t}},p=h({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"}),m=h({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#x27;":"'","&#x60;":"`"}),g={32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},v=27,y=13,b=32,x=9,w=38,_=40,C={};try{C.full=(t.fn.dropdown.Constructor.VERSION||"").split(" ")[0].split("."),C.major=C.full[0]}catch(t){console.error("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision.",t),C.major="3"}var k={DISABLED:"disabled",DIVIDER:"4"===C.major?"dropdown-divider":"divider",SHOW:"4"===C.major?"show":"open",DROPUP:"dropup",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",BUTTONCLASS:"4"===C.major?"btn-light":"btn-default",POPOVERHEADER:"4"===C.major?"popover-header":"popover-title"},S=new RegExp(w+"|"+_),T=new RegExp("^"+x+"$|"+v),E=(new RegExp(y+"|"+b),function(e,n){var i=this;a.useDefault||(t.valHooks.select.set=a._set,a.useDefault=!0),this.$element=t(e),this.$newElement=null,this.$button=null,this.$menu=null,this.options=n,this.selectpicker={main:{map:{newIndex:{},originalIndex:{}}},current:{map:{}},search:{map:{}},view:{},keydown:{keyHistory:"",resetKeyHistory:{start:function(){return setTimeout((function(){i.selectpicker.keydown.keyHistory=""}),800)}}}},null===this.options.title&&(this.options.title=this.$element.attr("title"));var r=this.options.windowPadding;"number"==typeof r&&(this.options.windowPadding=[r,r,r,r]),this.val=E.prototype.val,this.render=E.prototype.render,this.refresh=E.prototype.refresh,this.setStyle=E.prototype.setStyle,this.selectAll=E.prototype.selectAll,this.deselectAll=E.prototype.deselectAll,this.destroy=E.prototype.destroy,this.remove=E.prototype.remove,this.show=E.prototype.show,this.hide=E.prototype.hide,this.init()});function D(e){var n,i=arguments,r=e;[].shift.apply(i);var o=this.each((function(){var e=t(this);if(e.is("select")){var o=e.data("selectpicker"),s="object"==typeof r&&r;if(o){if(s)for(var a in s)s.hasOwnProperty(a)&&(o.options[a]=s[a])}else{var l=t.extend({},E.DEFAULTS,t.fn.selectpicker.defaults||{},e.data(),s);l.template=t.extend({},E.DEFAULTS.template,t.fn.selectpicker.defaults?t.fn.selectpicker.defaults.template:{},e.data().template,s.template),e.data("selectpicker",o=new E(this,l))}"string"==typeof r&&(n=o[r]instanceof Function?o[r].apply(o,i):o.options[r])}}));return void 0!==n?n:o}E.VERSION="1.13.1",E.DEFAULTS={noneSelectedText:"Nothing selected",noneResultsText:"No results matched {0}",countSelectedText:function(t,e){return 1==t?"{0} item selected":"{0} items selected"},maxOptionsText:function(t,e){return[1==t?"Limit reached ({n} item max)":"Limit reached ({n} items max)",1==e?"Group limit reached ({n} item max)":"Group limit reached ({n} items max)"]},selectAllText:"Select All",deselectAllText:"Deselect All",doneButton:!1,doneButtonText:"Close",multipleSeparator:", ",styleBase:"btn",style:"btn-default",size:"auto",title:null,selectedTextFormat:"values",width:!1,container:!1,hideDisabled:!1,showSubtext:!1,showIcon:!0,showContent:!0,dropupAuto:!0,header:!1,liveSearch:!1,liveSearchPlaceholder:null,liveSearchNormalize:!1,liveSearchStyle:"contains",actionsBox:!1,iconBase:"glyphicon",tickIcon:"glyphicon-ok",showTick:!1,template:{caret:'<span class="caret"></span>'},maxOptions:!1,mobile:!1,selectOnTab:!1,dropdownAlignRight:!1,windowPadding:0,virtualScroll:600},"4"===C.major&&(E.DEFAULTS.style="btn-light",E.DEFAULTS.iconBase="",E.DEFAULTS.tickIcon="bs-ok-default"),E.prototype={constructor:E,init:function(){var t=this,e=this.$element.attr("id");this.$element.addClass("bs-select-hidden"),this.multiple=this.$element.prop("multiple"),this.autofocus=this.$element.prop("autofocus"),this.$newElement=this.createDropdown(),this.createLi(),this.$element.after(this.$newElement).prependTo(this.$newElement),this.$button=this.$newElement.children("button"),this.$menu=this.$newElement.children(".dropdown-menu"),this.$menuInner=this.$menu.children(".inner"),this.$searchbox=this.$menu.find("input"),this.$element.removeClass("bs-select-hidden"),!0===this.options.dropdownAlignRight&&this.$menu.addClass(k.MENURIGHT),void 0!==e&&this.$button.attr("data-id",e),this.checkDisabled(),this.clickListener(),this.options.liveSearch&&this.liveSearchListener(),this.render(),this.setStyle(),this.setWidth(),this.options.container?this.selectPosition():this.$element.on("hide.bs.select",(function(){if(t.isVirtual()){var e=t.$menuInner[0],n=e.firstChild.cloneNode(!1);e.replaceChild(n,e.firstChild),e.scrollTop=0}})),this.$menu.data("this",this),this.$newElement.data("this",this),this.options.mobile&&this.mobile(),this.$newElement.on({"hide.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!1),t.$element.trigger("hide.bs.select",e)},"hidden.bs.dropdown":function(e){t.$element.trigger("hidden.bs.select",e)},"show.bs.dropdown":function(e){t.$menuInner.attr("aria-expanded",!0),t.$element.trigger("show.bs.select",e)},"shown.bs.dropdown":function(e){t.$element.trigger("shown.bs.select",e)}}),t.$element[0].hasAttribute("required")&&this.$element.on("invalid",(function(){t.$button.addClass("bs-invalid"),t.$element.on({"shown.bs.select":function(){t.$element.val(t.$element.val()).off("shown.bs.select")},"rendered.bs.select":function(){this.validity.valid&&t.$button.removeClass("bs-invalid"),t.$element.off("rendered.bs.select")}}),t.$button.on("blur.bs.select",(function(){t.$element.focus().blur(),t.$button.off("blur.bs.select")}))})),setTimeout((function(){t.$element.trigger("loaded.bs.select")}))},createDropdown:function(){var e=this.multiple||this.options.showTick?" show-tick":"",n=this.autofocus?" autofocus":"",i=this.options.header?'<div class="'+k.POPOVERHEADER+'"><button type="button" class="close" aria-hidden="true">&times;</button>'+this.options.header+"</div>":"",r=this.options.liveSearch?'<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"'+(null===this.options.liveSearchPlaceholder?"":' placeholder="'+p(this.options.liveSearchPlaceholder)+'"')+' role="textbox" aria-label="Search"></div>':"",o=this.multiple&&this.options.actionsBox?'<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn '+k.BUTTONCLASS+'">'+this.options.selectAllText+'</button><button type="button" class="actions-btn bs-deselect-all btn '+k.BUTTONCLASS+'">'+this.options.deselectAllText+"</button></div></div>":"",s=this.multiple&&this.options.doneButton?'<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm '+k.BUTTONCLASS+'">'+this.options.doneButtonText+"</button></div></div>":"",a='<div class="dropdown bootstrap-select'+e+'"><button type="button" class="'+this.options.styleBase+' dropdown-toggle" data-toggle="dropdown"'+n+' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>'+("4"===C.major?"":'<span class="bs-caret">'+this.options.template.caret+"</span>")+'</button><div class="dropdown-menu '+("4"===C.major?"":k.SHOW)+'" role="combobox">'+i+r+o+'<div class="inner '+k.SHOW+'" role="listbox" aria-expanded="false" tabindex="-1"><ul class="dropdown-menu inner '+("4"===C.major?k.SHOW:"")+'"></ul></div>'+s+"</div></div>";return t(a)},setPositionData:function(){this.selectpicker.view.canHighlight=[];for(var t=0;t<this.selectpicker.current.data.length;t++){var e=this.selectpicker.current.data[t],n=!0;"divider"===e.type?(n=!1,e.height=this.sizeInfo.dividerHeight):"optgroup-label"===e.type?(n=!1,e.height=this.sizeInfo.dropdownHeaderHeight):e.height=this.sizeInfo.liHeight,e.disabled&&(n=!1),this.selectpicker.view.canHighlight.push(n),e.position=(0===t?0:this.selectpicker.current.data[t-1].position)+e.height}},isVirtual:function(){return!1!==this.options.virtualScroll&&this.selectpicker.main.elements.length>=this.options.virtualScroll||!0===this.options.virtualScroll},createView:function(e,n){n=n||0;var i=this;this.selectpicker.current=e?this.selectpicker.search:this.selectpicker.main;var r,o,s=[];function a(t,n){var a,l,u,c,f,d,h,p,m,g=i.selectpicker.current.elements.length,v=[],y=void 0,b=!0,x=i.isVirtual();i.selectpicker.view.scrollTop=t,!0===x&&i.sizeInfo.hasScrollBar&&i.$menu[0].offsetWidth>i.sizeInfo.totalMenuWidth&&(i.sizeInfo.menuWidth=i.$menu[0].offsetWidth,i.sizeInfo.totalMenuWidth=i.sizeInfo.menuWidth+i.sizeInfo.scrollBarWidth,i.$menu.css("min-width",i.sizeInfo.menuWidth)),a=Math.ceil(i.sizeInfo.menuInnerHeight/i.sizeInfo.liHeight*1.5),l=Math.round(g/a)||1;for(var w=0;w<l;w++){var _=(w+1)*a;if(w===l-1&&(_=g),v[w]=[w*a+(w?1:0),_],!g)break;void 0===y&&t<=i.selectpicker.current.data[_-1].position-i.sizeInfo.menuInnerHeight&&(y=w)}if(void 0===y&&(y=0),f=[i.selectpicker.view.position0,i.selectpicker.view.position1],u=Math.max(0,y-1),c=Math.min(l-1,y+1),i.selectpicker.view.position0=Math.max(0,v[u][0])||0,i.selectpicker.view.position1=Math.min(g,v[c][1])||0,d=f[0]!==i.selectpicker.view.position0||f[1]!==i.selectpicker.view.position1,void 0!==i.activeIndex&&(o=i.selectpicker.current.elements[i.selectpicker.current.map.newIndex[i.prevActiveIndex]],s=i.selectpicker.current.elements[i.selectpicker.current.map.newIndex[i.activeIndex]],r=i.selectpicker.current.elements[i.selectpicker.current.map.newIndex[i.selectedIndex]],n&&(i.activeIndex!==i.selectedIndex&&(s.classList.remove("active"),s.firstChild&&s.firstChild.classList.remove("active")),i.activeIndex=void 0),i.activeIndex&&i.activeIndex!==i.selectedIndex&&r&&r.length&&(r.classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active"))),void 0!==i.prevActiveIndex&&i.prevActiveIndex!==i.activeIndex&&i.prevActiveIndex!==i.selectedIndex&&o&&o.length&&(o.classList.remove("active"),o.firstChild&&o.firstChild.classList.remove("active")),(n||d)&&(h=i.selectpicker.view.visibleElements?i.selectpicker.view.visibleElements.slice():[],i.selectpicker.view.visibleElements=i.selectpicker.current.elements.slice(i.selectpicker.view.position0,i.selectpicker.view.position1),i.setOptionStatus(),(e||!1===x&&n)&&(p=h,m=i.selectpicker.view.visibleElements,b=!(p.length===m.length&&p.every((function(t,e){return t===m[e]})))),(n||!0===x)&&b)){var C,k,S=i.$menuInner[0],T=document.createDocumentFragment(),E=S.firstChild.cloneNode(!1),D=!0===x?i.selectpicker.view.visibleElements:i.selectpicker.current.elements;S.replaceChild(E,S.firstChild),w=0;for(var N=D.length;w<N;w++)T.appendChild(D[w]);!0===x&&(C=0===i.selectpicker.view.position0?0:i.selectpicker.current.data[i.selectpicker.view.position0-1].position,k=i.selectpicker.view.position1>g-1?0:i.selectpicker.current.data[g-1].position-i.selectpicker.current.data[i.selectpicker.view.position1-1].position,S.firstChild.style.marginTop=C+"px",S.firstChild.style.marginBottom=k+"px"),S.firstChild.appendChild(T)}if(i.prevActiveIndex=i.activeIndex,i.options.liveSearch){if(e&&n){var A,P=0;i.selectpicker.view.canHighlight[P]||(P=1+i.selectpicker.view.canHighlight.slice(1).indexOf(!0)),A=i.selectpicker.view.visibleElements[P],i.selectpicker.view.currentActive&&(i.selectpicker.view.currentActive.classList.remove("active"),i.selectpicker.view.currentActive.firstChild&&i.selectpicker.view.currentActive.firstChild.classList.remove("active")),A&&(A.classList.add("active"),A.firstChild&&A.firstChild.classList.add("active")),i.activeIndex=i.selectpicker.current.map.originalIndex[P]}}else i.$menuInner.focus()}this.setPositionData(),a(n,!0),this.$menuInner.off("scroll.createView").on("scroll.createView",(function(t,e){i.noScroll||a(this.scrollTop,e),i.noScroll=!1})),t(window).off("resize.createView").on("resize.createView",(function(){a(i.$menuInner[0].scrollTop)}))},createLi:function(){var e,n=this,i=[],r=0,o=0,s=[],a=0,l=0,u=-1;this.selectpicker.view.titleOption||(this.selectpicker.view.titleOption=document.createElement("option"));var c={span:document.createElement("span"),subtext:document.createElement("small"),a:document.createElement("a"),li:document.createElement("li"),whitespace:document.createTextNode("Â ")},f=c.span.cloneNode(!1),d=document.createDocumentFragment();f.className=n.options.iconBase+" "+n.options.tickIcon+" check-mark",c.a.appendChild(f),c.a.setAttribute("role","option"),c.subtext.className="text-muted",c.text=c.span.cloneNode(!1),c.text.className="text";var h=function(t,e,n,i){var r=c.li.cloneNode(!1);return t&&(1===t.nodeType||11===t.nodeType?r.appendChild(t):r.innerHTML=t),void 0!==n&&""!==n&&(r.className=n),null!=i&&r.classList.add("optgroup-"+i),r},m=function(t,e,n){var i=c.a.cloneNode(!0);return t&&(11===t.nodeType?i.appendChild(t):i.insertAdjacentHTML("beforeend",t)),void 0!==e&""!==e&&(i.className=e),"4"===C.major&&i.classList.add("dropdown-item"),n&&i.setAttribute("style",n),i},g=function(t){var e,i,r=c.text.cloneNode(!1);if(t.optionContent)r.innerHTML=t.optionContent;else{if(r.textContent=t.text,t.optionIcon){var o=c.whitespace.cloneNode(!1);(i=c.span.cloneNode(!1)).className=n.options.iconBase+" "+t.optionIcon,d.appendChild(i),d.appendChild(o)}t.optionSubtext&&((e=c.subtext.cloneNode(!1)).innerHTML=t.optionSubtext,r.appendChild(e))}return d.appendChild(r),d};if(this.options.title&&!this.multiple){u--;var v=this.$element[0],y=!1,b=!this.selectpicker.view.titleOption.parentNode;b&&(this.selectpicker.view.titleOption.className="bs-title-option",this.selectpicker.view.titleOption.value="",y=void 0===t(v.options[v.selectedIndex]).attr("selected")&&void 0===this.$element.data("selected")),(b||0!==this.selectpicker.view.titleOption.index)&&v.insertBefore(this.selectpicker.view.titleOption,v.firstChild),y&&(v.selectedIndex=0)}var x=this.$element.find("option");x.each((function(f){var v=t(this);if(u++,!v.hasClass("bs-title-option")){var y,b,w=v.data(),_=this.className||"",C=p(this.style.cssText),S=w.content,T=this.textContent,E=w.tokens,D=w.subtext,N=w.icon,A=v.parent(),P=A[0],O="OPTGROUP"===P.tagName,I=O&&P.disabled,M=this.disabled||I,B=this.previousElementSibling&&"OPTGROUP"===this.previousElementSibling.tagName,R=A.data();if(!0===w.hidden||n.options.hideDisabled&&(M&&!O||I))y=w.prevHiddenIndex,v.next().data("prevHiddenIndex",void 0!==y?y:f),u--,B||void 0!==y&&(q=x[y].previousElementSibling)&&"OPTGROUP"===q.tagName&&!q.disabled&&(B=!0),B&&"divider"!==s[s.length-1].type&&(u++,i.push(h(!1,0,k.DIVIDER,a+"div")),s.push({type:"divider",optID:a,originalIndex:f}));else{if(O&&!0!==w.divider){if(n.options.hideDisabled&&M){if(void 0===R.allOptionsDisabled){var L=A.children();A.data("allOptionsDisabled",L.filter(":disabled").length===L.length)}if(A.data("allOptionsDisabled"))return void u--}var F=" "+P.className||!1;if(!this.previousElementSibling){a+=1;var H=P.label,z=p(H),j=R.subtext,W=R.icon;0!==f&&i.length>0&&(u++,i.push(h(!1,0,k.DIVIDER,a+"div")),s.push({type:"divider",optID:a,originalIndex:f})),u++;var $=function(t){var e,i,r=c.text.cloneNode(!1);if(r.textContent=t.labelEscaped,t.labelIcon){var o=c.whitespace.cloneNode(!1);(i=c.span.cloneNode(!1)).className=n.options.iconBase+" "+t.labelIcon,d.appendChild(i),d.appendChild(o)}return t.labelSubtext&&((e=c.subtext.cloneNode(!1)).textContent=t.labelSubtext,r.appendChild(e)),d.appendChild(r),d}({labelEscaped:z,labelSubtext:j,labelIcon:W});i.push(h($,0,"dropdown-header"+F,a)),s.push({content:z,subtext:j,type:"optgroup-label",optID:a,originalIndex:f}),l=u-1}if(n.options.hideDisabled&&M||!0===w.hidden)return void u--;b=g({text:T,optionContent:S,optionSubtext:D,optionIcon:N}),i.push(h(m(b,"opt "+_+F,C),0,"",a)),s.push({content:S||T,subtext:D,tokens:E,type:"option",optID:a,headerIndex:l,lastIndex:l+P.childElementCount,originalIndex:f,data:w}),r++}else if(!0===w.divider)i.push(h(!1,0,"divider")),s.push({type:"divider",originalIndex:f});else{var q;!B&&n.options.hideDisabled&&void 0!==(y=w.prevHiddenIndex)&&(q=x[y].previousElementSibling)&&"OPTGROUP"===q.tagName&&!q.disabled&&(B=!0),B&&"divider"!==s[s.length-1].type&&(u++,i.push(h(!1,0,k.DIVIDER,a+"div")),s.push({type:"divider",optID:a,originalIndex:f})),b=g({text:T,optionContent:S,optionSubtext:D,optionIcon:N}),i.push(h(m(b,_,C))),s.push({content:S||T,subtext:D,tokens:E,type:"option",originalIndex:f,data:w}),r++}n.selectpicker.main.map.newIndex[f]=u,n.selectpicker.main.map.originalIndex[u]=f;var U=s[s.length-1];U.disabled=M;var V=0;U.content&&(V+=U.content.length),U.subtext&&(V+=U.subtext.length),N&&(V+=1),V>o&&(o=V,e=i[i.length-1])}}})),this.selectpicker.main.elements=i,this.selectpicker.main.data=s,this.selectpicker.current=this.selectpicker.main,this.selectpicker.view.widestOption=e,this.selectpicker.view.availableOptionsCount=r},findLis:function(){return this.$menuInner.find(".inner > li")},render:function(){var t=this.$element.find("option"),e=[],n=[];this.togglePlaceholder(),this.tabIndex();for(var i=0,r=this.selectpicker.main.elements.length;i<r;i++){var o=t[this.selectpicker.main.map.originalIndex[i]];if(o&&o.selected&&(e.push(o),n.length<100&&"count"!==this.options.selectedTextFormat||1===e.length)){if(this.options.hideDisabled&&(o.disabled||"OPTGROUP"===o.parentNode.tagName&&o.parentNode.disabled))return;var s,a,l=this.selectpicker.main.data[i].data,u=l.icon&&this.options.showIcon?'<i class="'+this.options.iconBase+" "+l.icon+'"></i> ':"";s=this.options.showSubtext&&l.subtext&&!this.multiple?' <small class="text-muted">'+l.subtext+"</small>":"",a=o.title?o.title:l.content&&this.options.showContent?l.content.toString():u+o.innerHTML.trim()+s,n.push(a)}}var c=this.multiple?n.join(this.options.multipleSeparator):n[0];if(e.length>50&&(c+="..."),this.multiple&&-1!==this.options.selectedTextFormat.indexOf("count")){var f=this.options.selectedTextFormat.split(">");if(f.length>1&&e.length>f[1]||1===f.length&&e.length>=2){var d=this.selectpicker.view.availableOptionsCount;c=("function"==typeof this.options.countSelectedText?this.options.countSelectedText(e.length,d):this.options.countSelectedText).replace("{0}",e.length.toString()).replace("{1}",d.toString())}}null==this.options.title&&(this.options.title=this.$element.attr("title")),"static"==this.options.selectedTextFormat&&(c=this.options.title),c||(c=void 0!==this.options.title?this.options.title:this.options.noneSelectedText),this.$button[0].title=m(c.replace(/<[^>]*>?/g,"").trim()),this.$button.find(".filter-option-inner-inner")[0].innerHTML=c,this.$element.trigger("rendered.bs.select")},setStyle:function(t,e){this.$element.attr("class")&&this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi,""));var n=t||this.options.style;"add"==e?this.$button.addClass(n):"remove"==e?this.$button.removeClass(n):(this.$button.removeClass(this.options.style),this.$button.addClass(n))},liHeight:function(e){if(e||!1!==this.options.size&&!this.sizeInfo){this.sizeInfo||(this.sizeInfo={});var n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div"),o=document.createElement("ul"),s=document.createElement("li"),a=document.createElement("li"),l=document.createElement("li"),u=document.createElement("a"),c=document.createElement("span"),d=this.options.header&&this.$menu.find("."+k.POPOVERHEADER).length>0?this.$menu.find("."+k.POPOVERHEADER)[0].cloneNode(!0):null,h=this.options.liveSearch?document.createElement("div"):null,p=this.options.actionsBox&&this.multiple&&this.$menu.find(".bs-actionsbox").length>0?this.$menu.find(".bs-actionsbox")[0].cloneNode(!0):null,m=this.options.doneButton&&this.multiple&&this.$menu.find(".bs-donebutton").length>0?this.$menu.find(".bs-donebutton")[0].cloneNode(!0):null;if(this.sizeInfo.selectWidth=this.$newElement[0].offsetWidth,c.className="text",u.className="dropdown-item",n.className=this.$menu[0].parentNode.className+" "+k.SHOW,n.style.width=this.sizeInfo.selectWidth+"px",i.className="dropdown-menu "+k.SHOW,r.className="inner "+k.SHOW,o.className="dropdown-menu inner "+("4"===C.major?k.SHOW:""),s.className=k.DIVIDER,a.className="dropdown-header",c.appendChild(document.createTextNode("Inner text")),u.appendChild(c),l.appendChild(u),a.appendChild(c.cloneNode(!0)),this.selectpicker.view.widestOption&&o.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)),o.appendChild(l),o.appendChild(s),o.appendChild(a),d&&i.appendChild(d),h){var g=document.createElement("input");h.className="bs-searchbox",g.className="form-control",h.appendChild(g),i.appendChild(h)}p&&i.appendChild(p),r.appendChild(o),i.appendChild(r),m&&i.appendChild(m),n.appendChild(i),document.body.appendChild(n);var v,y=u.offsetHeight,b=a?a.offsetHeight:0,x=d?d.offsetHeight:0,w=h?h.offsetHeight:0,_=p?p.offsetHeight:0,S=m?m.offsetHeight:0,T=t(s).outerHeight(!0),E=!!window.getComputedStyle&&window.getComputedStyle(i),D=i.offsetWidth,N=E?null:t(i),A={vert:f(E?E.paddingTop:N.css("paddingTop"))+f(E?E.paddingBottom:N.css("paddingBottom"))+f(E?E.borderTopWidth:N.css("borderTopWidth"))+f(E?E.borderBottomWidth:N.css("borderBottomWidth")),horiz:f(E?E.paddingLeft:N.css("paddingLeft"))+f(E?E.paddingRight:N.css("paddingRight"))+f(E?E.borderLeftWidth:N.css("borderLeftWidth"))+f(E?E.borderRightWidth:N.css("borderRightWidth"))},P={vert:A.vert+f(E?E.marginTop:N.css("marginTop"))+f(E?E.marginBottom:N.css("marginBottom"))+2,horiz:A.horiz+f(E?E.marginLeft:N.css("marginLeft"))+f(E?E.marginRight:N.css("marginRight"))+2};r.style.overflowY="scroll",v=i.offsetWidth-D,document.body.removeChild(n),this.sizeInfo.liHeight=y,this.sizeInfo.dropdownHeaderHeight=b,this.sizeInfo.headerHeight=x,this.sizeInfo.searchHeight=w,this.sizeInfo.actionsHeight=_,this.sizeInfo.doneButtonHeight=S,this.sizeInfo.dividerHeight=T,this.sizeInfo.menuPadding=A,this.sizeInfo.menuExtras=P,this.sizeInfo.menuWidth=D,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth,this.sizeInfo.scrollBarWidth=v,this.sizeInfo.selectHeight=this.$newElement[0].offsetHeight,this.setPositionData()}},getSelectPosition:function(){var e,n=t(window),i=this.$newElement.offset(),r=t(this.options.container);this.options.container&&!r.is("body")?((e=r.offset()).top+=parseInt(r.css("borderTopWidth")),e.left+=parseInt(r.css("borderLeftWidth"))):e={top:0,left:0};var o=this.options.windowPadding;this.sizeInfo.selectOffsetTop=i.top-e.top-n.scrollTop(),this.sizeInfo.selectOffsetBot=n.height()-this.sizeInfo.selectOffsetTop-this.sizeInfo.selectHeight-e.top-o[2],this.sizeInfo.selectOffsetLeft=i.left-e.left-n.scrollLeft(),this.sizeInfo.selectOffsetRight=n.width()-this.sizeInfo.selectOffsetLeft-this.sizeInfo.selectWidth-e.left-o[1],this.sizeInfo.selectOffsetTop-=o[0],this.sizeInfo.selectOffsetLeft-=o[3]},setMenuSize:function(t){this.getSelectPosition();var e,n,i,r,o,s,a,l=this.sizeInfo.selectWidth,u=this.sizeInfo.liHeight,c=this.sizeInfo.headerHeight,f=this.sizeInfo.searchHeight,d=this.sizeInfo.actionsHeight,h=this.sizeInfo.doneButtonHeight,p=this.sizeInfo.dividerHeight,m=this.sizeInfo.menuPadding,g=0;if(this.options.dropupAuto&&(a=u*this.selectpicker.current.elements.length+m.vert,this.$newElement.toggleClass(k.DROPUP,this.sizeInfo.selectOffsetTop-this.sizeInfo.selectOffsetBot>this.sizeInfo.menuExtras.vert&&a+this.sizeInfo.menuExtras.vert+50>this.sizeInfo.selectOffsetBot)),"auto"===this.options.size)r=this.selectpicker.current.elements.length>3?3*this.sizeInfo.liHeight+this.sizeInfo.menuExtras.vert-2:0,n=this.sizeInfo.selectOffsetBot-this.sizeInfo.menuExtras.vert,i=r+c+f+d+h,s=Math.max(r-m.vert,0),this.$newElement.hasClass(k.DROPUP)&&(n=this.sizeInfo.selectOffsetTop-this.sizeInfo.menuExtras.vert),o=n,e=n-c-f-d-h-m.vert;else if(this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size){for(var v=0;v<this.options.size;v++)"divider"===this.selectpicker.current.data[v].type&&g++;e=(n=u*this.options.size+g*p+m.vert)-m.vert,o=n+c+f+d+h,i=s=""}"auto"===this.options.dropdownAlignRight&&this.$menu.toggleClass(k.MENURIGHT,this.sizeInfo.selectOffsetLeft>this.sizeInfo.selectOffsetRight&&this.sizeInfo.selectOffsetRight<this.$menu[0].offsetWidth-l),this.$menu.css({"max-height":o+"px",overflow:"hidden","min-height":i+"px"}),this.$menuInner.css({"max-height":e+"px","overflow-y":"auto","min-height":s+"px"}),this.sizeInfo.menuInnerHeight=e,this.selectpicker.current.data.length&&this.selectpicker.current.data[this.selectpicker.current.data.length-1].position>this.sizeInfo.menuInnerHeight&&(this.sizeInfo.hasScrollBar=!0,this.sizeInfo.totalMenuWidth=this.sizeInfo.menuWidth+this.sizeInfo.scrollBarWidth,this.$menu.css("min-width",this.sizeInfo.totalMenuWidth)),this.dropdown&&this.dropdown._popper&&this.dropdown._popper.update()},setSize:function(e){if(this.liHeight(e),this.options.header&&this.$menu.css("padding-top",0),!1!==this.options.size){var n,i=this,r=t(window),o=0;this.setMenuSize(),"auto"===this.options.size?(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize",(function(){return i.setMenuSize()})),r.off("resize.setMenuSize scroll.setMenuSize").on("resize.setMenuSize scroll.setMenuSize",(function(){return i.setMenuSize()}))):this.options.size&&"auto"!=this.options.size&&this.selectpicker.current.elements.length>this.options.size&&(this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"),r.off("resize.setMenuSize scroll.setMenuSize")),e?o=this.$menuInner[0].scrollTop:i.multiple||"number"==typeof(n=i.selectpicker.main.map.newIndex[i.$element[0].selectedIndex])&&!1!==i.options.size&&(o=(o=i.sizeInfo.liHeight*n)-i.sizeInfo.menuInnerHeight/2+i.sizeInfo.liHeight/2),i.createView(!1,o)}},setWidth:function(){var t=this;"auto"===this.options.width?requestAnimationFrame((function(){t.$menu.css("min-width","0"),t.liHeight(),t.setMenuSize();var e=t.$newElement.clone().appendTo("body"),n=e.css("width","auto").children("button").outerWidth();e.remove(),t.sizeInfo.selectWidth=Math.max(t.sizeInfo.totalMenuWidth,n),t.$newElement.css("width",t.sizeInfo.selectWidth+"px")})):"fit"===this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width","").addClass("fit-width")):this.options.width?(this.$menu.css("min-width",""),this.$newElement.css("width",this.options.width)):(this.$menu.css("min-width",""),this.$newElement.css("width","")),this.$newElement.hasClass("fit-width")&&"fit"!==this.options.width&&this.$newElement.removeClass("fit-width")},selectPosition:function(){this.$bsContainer=t('<div class="bs-container" />');var e,n,i,r=this,o=t(this.options.container),s=function(t){var s={};r.$bsContainer.addClass(t.attr("class").replace(/form-control|fit-width/gi,"")).toggleClass(k.DROPUP,t.hasClass(k.DROPUP)),e=t.offset(),o.is("body")?n={top:0,left:0}:((n=o.offset()).top+=parseInt(o.css("borderTopWidth"))-o.scrollTop(),n.left+=parseInt(o.css("borderLeftWidth"))-o.scrollLeft()),i=t.hasClass(k.DROPUP)?0:t[0].offsetHeight,C.major<4&&(s.top=e.top-n.top+i,s.left=e.left-n.left),s.width=t[0].offsetWidth,r.$bsContainer.css(s)};this.$button.on("click.bs.dropdown.data-api",(function(){r.isDisabled()||(s(r.$newElement),r.$bsContainer.appendTo(r.options.container).toggleClass(k.SHOW,!r.$button.hasClass(k.SHOW)).append(r.$menu))})),t(window).on("resize scroll",(function(){s(r.$newElement)})),this.$element.on("hide.bs.select",(function(){r.$menu.data("height",r.$menu.height()),r.$bsContainer.detach()}))},setOptionStatus:function(){var t=this.$element.find("option");if(this.noScroll=!1,this.selectpicker.view.visibleElements&&this.selectpicker.view.visibleElements.length)for(var e=0;e<this.selectpicker.view.visibleElements.length;e++){var n=this.selectpicker.current.map.originalIndex[e+this.selectpicker.view.position0],i=t[n];if(i){var r=this.selectpicker.main.map.newIndex[n],o=this.selectpicker.main.elements[r];this.setDisabled(n,i.disabled||"OPTGROUP"===i.parentNode.tagName&&i.parentNode.disabled,r,o),this.setSelected(n,i.selected,r,o)}}},setSelected:function(t,e,n,i){var r,o,s,a=void 0!==this.activeIndex,l=this.activeIndex===t||e&&!this.multiple&&!a;n||(n=this.selectpicker.main.map.newIndex[t]),i||(i=this.selectpicker.main.elements[n]),s=i.firstChild,e&&(this.selectedIndex=t),i.classList.toggle("selected",e),i.classList.toggle("active",l),l&&(this.selectpicker.view.currentActive=i,this.activeIndex=t),s&&(s.classList.toggle("selected",e),s.classList.toggle("active",l),s.setAttribute("aria-selected",e)),l||!a&&e&&void 0!==this.prevActiveIndex&&(r=this.selectpicker.main.map.newIndex[this.prevActiveIndex],(o=this.selectpicker.main.elements[r]).classList.remove("selected"),o.classList.remove("active"),o.firstChild&&(o.firstChild.classList.remove("selected"),o.firstChild.classList.remove("active")))},setDisabled:function(t,e,n,i){var r;n||(n=this.selectpicker.main.map.newIndex[t]),i||(i=this.selectpicker.main.elements[n]),r=i.firstChild,i.classList.toggle(k.DISABLED,e),r&&("4"===C.major&&r.classList.toggle(k.DISABLED,e),r.setAttribute("aria-disabled",e),e?r.setAttribute("tabindex",-1):r.setAttribute("tabindex",0))},isDisabled:function(){return this.$element[0].disabled},checkDisabled:function(){var t=this;this.isDisabled()?(this.$newElement.addClass(k.DISABLED),this.$button.addClass(k.DISABLED).attr("tabindex",-1).attr("aria-disabled",!0)):(this.$button.hasClass(k.DISABLED)&&(this.$newElement.removeClass(k.DISABLED),this.$button.removeClass(k.DISABLED).attr("aria-disabled",!1)),-1!=this.$button.attr("tabindex")||this.$element.data("tabindex")||this.$button.removeAttr("tabindex")),this.$button.click((function(){return!t.isDisabled()}))},togglePlaceholder:function(){var t=this.$element[0],e=t.selectedIndex,n=-1===e;n||t.options[e].value||(n=!0),this.$button.toggleClass("bs-placeholder",n)},tabIndex:function(){this.$element.data("tabindex")!==this.$element.attr("tabindex")&&-98!==this.$element.attr("tabindex")&&"-98"!==this.$element.attr("tabindex")&&(this.$element.data("tabindex",this.$element.attr("tabindex")),this.$button.attr("tabindex",this.$element.data("tabindex"))),this.$element.attr("tabindex",-98)},clickListener:function(){var e=this,n=t(document);n.data("spaceSelect",!1),this.$button.on("keyup",(function(t){/(32)/.test(t.keyCode.toString(10))&&n.data("spaceSelect")&&(t.preventDefault(),n.data("spaceSelect",!1))})),this.$newElement.on("show.bs.dropdown",(function(){C.major>3&&!e.dropdown&&(e.dropdown=e.$button.data("bs.dropdown"),e.dropdown._menu=e.$menu[0])})),this.$button.on("click.bs.dropdown.data-api",(function(){e.$newElement.hasClass(k.SHOW)||e.setSize()})),this.$element.on("shown.bs.select",(function(){e.$menuInner[0].scrollTop!==e.selectpicker.view.scrollTop&&(e.$menuInner[0].scrollTop=e.selectpicker.view.scrollTop),e.options.liveSearch?e.$searchbox.focus():e.$menuInner.focus()})),this.$menuInner.on("click","li a",(function(n,i){var r=t(this),o=e.isVirtual()?e.selectpicker.view.position0:0,a=e.selectpicker.current.map.originalIndex[r.parent().index()+o],u=s(e.$element[0]),c=e.$element.prop("selectedIndex"),f=!0;if(e.multiple&&1!==e.options.maxOptions&&n.stopPropagation(),n.preventDefault(),!e.isDisabled()&&!r.parent().hasClass(k.DISABLED)){var d=e.$element.find("option"),h=d.eq(a),p=h.prop("selected"),m=h.parent("optgroup"),g=e.options.maxOptions,v=m.data("maxOptions")||!1;if(a===e.activeIndex&&(i=!0),i||(e.prevActiveIndex=e.activeIndex,e.activeIndex=void 0),e.multiple){if(h.prop("selected",!p),e.setSelected(a,!p),r.blur(),!1!==g||!1!==v){var y=g<d.filter(":selected").length,b=v<m.find("option:selected").length;if(g&&y||v&&b)if(g&&1==g)d.prop("selected",!1),h.prop("selected",!0),e.$menuInner.find(".selected").removeClass("selected"),e.setSelected(a,!0);else if(v&&1==v){m.find("option:selected").prop("selected",!1),h.prop("selected",!0);var x=e.selectpicker.current.data[r.parent().index()+e.selectpicker.view.position0].optID;e.$menuInner.find(".optgroup-"+x).removeClass("selected"),e.setSelected(a,!0)}else{var w="string"==typeof e.options.maxOptionsText?[e.options.maxOptionsText,e.options.maxOptionsText]:e.options.maxOptionsText,_="function"==typeof w?w(g,v):w,C=_[0].replace("{n}",g),S=_[1].replace("{n}",v),T=t('<div class="notify"></div>');_[2]&&(C=C.replace("{var}",_[2][g>1?0:1]),S=S.replace("{var}",_[2][v>1?0:1])),h.prop("selected",!1),e.$menu.append(T),g&&y&&(T.append(t("<div>"+C+"</div>")),f=!1,e.$element.trigger("maxReached.bs.select")),v&&b&&(T.append(t("<div>"+S+"</div>")),f=!1,e.$element.trigger("maxReachedGrp.bs.select")),setTimeout((function(){e.setSelected(a,!1)}),10),T.delay(750).fadeOut(300,(function(){t(this).remove()}))}}}else d.prop("selected",!1),h.prop("selected",!0),e.setSelected(a,!0);!e.multiple||e.multiple&&1===e.options.maxOptions?e.$button.focus():e.options.liveSearch&&e.$searchbox.focus(),f&&(u!=s(e.$element[0])&&e.multiple||c!=e.$element.prop("selectedIndex")&&!e.multiple)&&(l=[a,h.prop("selected"),u],e.$element.triggerNative("change"))}})),this.$menu.on("click","li."+k.DISABLED+" a, ."+k.POPOVERHEADER+", ."+k.POPOVERHEADER+" :not(.close)",(function(n){n.currentTarget==this&&(n.preventDefault(),n.stopPropagation(),e.options.liveSearch&&!t(n.target).hasClass("close")?e.$searchbox.focus():e.$button.focus())})),this.$menuInner.on("click",".divider, .dropdown-header",(function(t){t.preventDefault(),t.stopPropagation(),e.options.liveSearch?e.$searchbox.focus():e.$button.focus()})),this.$menu.on("click","."+k.POPOVERHEADER+" .close",(function(){e.$button.click()})),this.$searchbox.on("click",(function(t){t.stopPropagation()})),this.$menu.on("click",".actions-btn",(function(n){e.options.liveSearch?e.$searchbox.focus():e.$button.focus(),n.preventDefault(),n.stopPropagation(),t(this).hasClass("bs-select-all")?e.selectAll():e.deselectAll()})),this.$element.on({change:function(){e.render(),e.$element.trigger("changed.bs.select",l),l=null},focus:function(){e.$button.focus()}})},liveSearchListener:function(){var t=this,e=document.createElement("li");this.$button.on("click.bs.dropdown.data-api",(function(){t.$searchbox.val()&&t.$searchbox.val("")})),this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api",(function(t){t.stopPropagation()})),this.$searchbox.on("input propertychange",(function(){var n=t.$searchbox.val();if(t.selectpicker.search.map.newIndex={},t.selectpicker.search.map.originalIndex={},t.selectpicker.search.elements=[],t.selectpicker.search.data=[],n){var i=[],r=n.toUpperCase(),o={},s=[],a=t._searchStyle(),l=t.options.liveSearchNormalize;t._$lisSelected=t.$menuInner.find(".selected");for(var u=0;u<t.selectpicker.main.data.length;u++){var f=t.selectpicker.main.data[u];o[u]||(o[u]=c(f,r,a,l)),o[u]&&void 0!==f.headerIndex&&-1===s.indexOf(f.headerIndex)&&(f.headerIndex>0&&(o[f.headerIndex-1]=!0,s.push(f.headerIndex-1)),o[f.headerIndex]=!0,s.push(f.headerIndex),o[f.lastIndex+1]=!0),o[u]&&"optgroup-label"!==f.type&&s.push(u)}u=0;for(var d=s.length;u<d;u++){var h=s[u],m=s[u-1],g=(f=t.selectpicker.main.data[h],t.selectpicker.main.data[m]);("divider"!==f.type||"divider"===f.type&&g&&"divider"!==g.type&&d-1!==u)&&(t.selectpicker.search.data.push(f),i.push(t.selectpicker.main.elements[h]),t.selectpicker.search.map.newIndex[f.originalIndex]=i.length-1,t.selectpicker.search.map.originalIndex[i.length-1]=f.originalIndex)}t.activeIndex=void 0,t.noScroll=!0,t.$menuInner.scrollTop(0),t.selectpicker.search.elements=i,t.createView(!0),i.length||(e.className="no-results",e.innerHTML=t.options.noneResultsText.replace("{0}",'"'+p(n)+'"'),t.$menuInner[0].firstChild.appendChild(e))}else t.$menuInner.scrollTop(0),t.createView(!1)}))},_searchStyle:function(){return this.options.liveSearchStyle||"contains"},val:function(t){return void 0!==t?(this.$element.val(t).triggerNative("change"),this.$element):this.$element.val()},changeAll:function(t){if(this.multiple){void 0===t&&(t=!0);var e=this.$element.find("option"),n=0,i=0,r=s(this.$element[0]);this.$element.addClass("bs-select-hidden");for(var o=0;o<this.selectpicker.current.elements.length;o++){var a=e[this.selectpicker.current.map.originalIndex[o]];a&&(a.selected&&n++,a.selected=t,a.selected&&i++)}this.$element.removeClass("bs-select-hidden"),n!==i&&(this.setOptionStatus(),this.togglePlaceholder(),l=[null,null,r],this.$element.triggerNative("change"))}},selectAll:function(){return this.changeAll(!0)},deselectAll:function(){return this.changeAll(!1)},toggle:function(t){(t=t||window.event)&&t.stopPropagation(),this.$button.trigger("click.bs.dropdown.data-api")},keydown:function(e){var n,i,r,o,s,a=t(this),l=(a.is("input")?a.parent().parent():a.parent()).data("this"),u=l.findLis(),f=!1,d=e.which===x&&!a.hasClass("dropdown-toggle")&&!l.options.selectOnTab,h=S.test(e.which)||d,p=l.$menuInner[0].scrollTop,m=l.isVirtual(),C=!0===m?l.selectpicker.view.position0:0;if(!(i=l.$newElement.hasClass(k.SHOW))&&(h||e.which>=48&&e.which<=57||e.which>=96&&e.which<=105||e.which>=65&&e.which<=90)&&l.$button.trigger("click.bs.dropdown.data-api"),e.which===v&&i&&(e.preventDefault(),l.$button.trigger("click.bs.dropdown.data-api").focus()),h){if(!u.length)return;void 0===(n=!0===m?u.index(u.filter(".active")):l.selectpicker.current.map.newIndex[l.activeIndex])&&(n=-1),-1!==n&&((r=l.selectpicker.current.elements[n+C]).classList.remove("active"),r.firstChild&&r.firstChild.classList.remove("active")),e.which===w?(-1!==n&&n--,n+C<0&&(n+=u.length),l.selectpicker.view.canHighlight[n+C]||-1==(n=l.selectpicker.view.canHighlight.slice(0,n+C).lastIndexOf(!0)-C)&&(n=u.length-1)):(e.which===_||d)&&(++n+C>=l.selectpicker.view.canHighlight.length&&(n=0),l.selectpicker.view.canHighlight[n+C]||(n=n+1+l.selectpicker.view.canHighlight.slice(n+C+1).indexOf(!0))),e.preventDefault();var E=C+n;e.which===w?0===C&&n===u.length-1?(l.$menuInner[0].scrollTop=l.$menuInner[0].scrollHeight,E=l.selectpicker.current.elements.length-1):f=(s=(o=l.selectpicker.current.data[E]).position-o.height)<p:(e.which===_||d)&&(0!==C&&0===n?(l.$menuInner[0].scrollTop=0,E=0):f=(s=(o=l.selectpicker.current.data[E]).position-l.sizeInfo.menuInnerHeight)>p),(r=l.selectpicker.current.elements[E]).classList.add("active"),r.firstChild&&r.firstChild.classList.add("active"),l.activeIndex=l.selectpicker.current.map.originalIndex[E],l.selectpicker.view.currentActive=r,f&&(l.$menuInner[0].scrollTop=s),l.options.liveSearch?l.$searchbox.focus():a.focus()}else if(!a.is("input")&&!T.test(e.which)||e.which===b&&l.selectpicker.keydown.keyHistory){var D,N,A=[];e.preventDefault(),l.selectpicker.keydown.keyHistory+=g[e.which],l.selectpicker.keydown.resetKeyHistory.cancel&&clearTimeout(l.selectpicker.keydown.resetKeyHistory.cancel),l.selectpicker.keydown.resetKeyHistory.cancel=l.selectpicker.keydown.resetKeyHistory.start(),N=l.selectpicker.keydown.keyHistory,/^(.)\1+$/.test(N)&&(N=N.charAt(0));for(var P=0;P<l.selectpicker.current.data.length;P++){var O=l.selectpicker.current.data[P];c(O,N,"startsWith",!0)&&l.selectpicker.view.canHighlight[P]&&(O.index=P,A.push(O.originalIndex))}if(A.length){var I=0;u.removeClass("active").find("a").removeClass("active"),1===N.length&&(-1===(I=A.indexOf(l.activeIndex))||I===A.length-1?I=0:I++),D=l.selectpicker.current.map.newIndex[A[I]],p-(o=l.selectpicker.current.data[D]).position>0?(s=o.position-o.height,f=!0):(s=o.position-l.sizeInfo.menuInnerHeight,f=o.position>p+l.sizeInfo.menuInnerHeight),(r=l.selectpicker.current.elements[D]).classList.add("active"),r.firstChild&&r.firstChild.classList.add("active"),l.activeIndex=A[I],r.firstChild.focus(),f&&(l.$menuInner[0].scrollTop=s),a.focus()}}i&&(e.which===b&&!l.selectpicker.keydown.keyHistory||e.which===y||e.which===x&&l.options.selectOnTab)&&(e.which!==b&&e.preventDefault(),l.options.liveSearch&&e.which===b||(l.$menuInner.find(".active a").trigger("click",!0),a.focus(),l.options.liveSearch||(e.preventDefault(),t(document).data("spaceSelect",!0))))},mobile:function(){this.$element.addClass("mobile-device")},refresh:function(){var e=t.extend({},this.options,this.$element.data());this.options=e,this.selectpicker.main.map.newIndex={},this.selectpicker.main.map.originalIndex={},this.createLi(),this.checkDisabled(),this.render(),this.setStyle(),this.setWidth(),this.setSize(!0),this.$element.trigger("refreshed.bs.select")},hide:function(){this.$newElement.hide()},show:function(){this.$newElement.show()},remove:function(){this.$newElement.remove(),this.$element.remove()},destroy:function(){this.$newElement.before(this.$element).remove(),this.$bsContainer?this.$bsContainer.remove():this.$menu.remove(),this.$element.off(".bs.select").removeData("selectpicker").removeClass("bs-select-hidden selectpicker")}};var N=t.fn.selectpicker;t.fn.selectpicker=D,t.fn.selectpicker.Constructor=E,t.fn.selectpicker.noConflict=function(){return t.fn.selectpicker=N,this},t(document).off("keydown.bs.dropdown.data-api").on("keydown.bs.select",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',E.prototype.keydown).on("focusin.modal",'.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bs-searchbox input',(function(t){t.stopPropagation()})),t(window).on("load.bs.select.data-api",(function(){t(".selectpicker").each((function(){var e=t(this);D.call(e,e.data())}))}))}(t)}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r,o,s;!function(){"use strict";var t,e,n,i,r;t=function(t,e){return"string"==typeof t&&"string"==typeof e&&t.toLowerCase()===e.toLowerCase()},e=function(t,n,i){var r=i||"0",o=t.toString();return o.length<n?e(r+o,n):o},n=function(t){var e,i;for(t=t||{},e=1;e<arguments.length;e++)if(i=arguments[e])for(var r in i)i.hasOwnProperty(r)&&("object"==typeof i[r]?n(t[r],i[r]):t[r]=i[r]);return t},i=function(t,e){for(var n=0;n<e.length;n++)if(e[n].toLowerCase()===t.toLowerCase())return n;return-1},r={dateSettings:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],meridiem:["AM","PM"],ordinal:function(t){var e=t%10,n={1:"st",2:"nd",3:"rd"};return 1!==Math.floor(t%100/10)&&n[e]?n[e]:"th"}},separators:/[ \-+\/\.T:@]/g,validParts:/[dDjlNSwzWFmMntLoYyaABgGhHisueTIOPZcrU]/g,intParts:/[djwNzmnyYhHgGis]/g,tzParts:/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,tzClip:/[^-+\dA-Z]/g},(s=function(t){var e=this,i=n(r,t);e.dateSettings=i.dateSettings,e.separators=i.separators,e.validParts=i.validParts,e.intParts=i.intParts,e.tzParts=i.tzParts,e.tzClip=i.tzClip}).prototype={constructor:s,getMonth:function(t){var e;return 0===(e=i(t,this.dateSettings.monthsShort)+1)&&(e=i(t,this.dateSettings.months)+1),e},parseDate:function(e,n){var i,r,o,s,a,l,u,c,f,d,h=this,p=!1,m=!1,g=h.dateSettings,v={date:null,year:null,month:null,day:null,hour:0,min:0,sec:0};if(!e)return null;if(e instanceof Date)return e;if("U"===n)return(o=parseInt(e))?new Date(1e3*o):e;switch(typeof e){case"number":return new Date(e);case"string":break;default:return null}if(!(i=n.match(h.validParts))||0===i.length)throw new Error("Invalid date format definition.");for(r=e.replace(h.separators,"\0").split("\0"),o=0;o<r.length;o++)switch(s=r[o],a=parseInt(s),i[o]){case"y":case"Y":if(!a)return null;f=s.length,v.year=2===f?parseInt((70>a?"20":"19")+s):a,p=!0;break;case"m":case"n":case"M":case"F":if(isNaN(a)){if(!((l=h.getMonth(s))>0))return null;v.month=l}else{if(!(a>=1&&12>=a))return null;v.month=a}p=!0;break;case"d":case"j":if(!(a>=1&&31>=a))return null;v.day=a,p=!0;break;case"g":case"h":if(d=r[u=i.indexOf("a")>-1?i.indexOf("a"):i.indexOf("A")>-1?i.indexOf("A"):-1],u>-1)c=t(d,g.meridiem[0])?0:t(d,g.meridiem[1])?12:-1,a>=1&&12>=a&&c>-1?v.hour=a+c-1:a>=0&&23>=a&&(v.hour=a);else{if(!(a>=0&&23>=a))return null;v.hour=a}m=!0;break;case"G":case"H":if(!(a>=0&&23>=a))return null;v.hour=a,m=!0;break;case"i":if(!(a>=0&&59>=a))return null;v.min=a,m=!0;break;case"s":if(!(a>=0&&59>=a))return null;v.sec=a,m=!0}if(!0===p&&v.year&&v.month&&v.day)v.date=new Date(v.year,v.month-1,v.day,v.hour,v.min,v.sec,0);else{if(!0!==m)return null;v.date=new Date(0,0,0,v.hour,v.min,v.sec,0)}return v.date},guessDate:function(t,e){if("string"!=typeof t)return t;var n,i,r,o,s,a,l=t.replace(this.separators,"\0").split("\0"),u=e.match(this.validParts),c=new Date,f=0;if(!/^[djmn]/g.test(u[0]))return t;for(r=0;r<l.length;r++){if(f=2,s=l[r],a=parseInt(s.substr(0,2)),isNaN(a))return null;switch(r){case 0:"m"===u[0]||"n"===u[0]?c.setMonth(a-1):c.setDate(a);break;case 1:"m"===u[0]||"n"===u[0]?c.setDate(a):c.setMonth(a-1);break;case 2:if(i=c.getFullYear(),f=4>(n=s.length)?n:4,!(i=parseInt(4>n?i.toString().substr(0,4-n)+s:s.substr(0,4))))return null;c.setFullYear(i);break;case 3:c.setHours(a);break;case 4:c.setMinutes(a);break;case 5:c.setSeconds(a)}(o=s.substr(f)).length>0&&l.splice(r+1,0,o)}return c},parseFormat:function(t,n){var i,r=this,o=r.dateSettings,s=/\\?(.?)/gi,a=function(t,e){return i[t]?i[t]():e};return i={d:function(){return e(i.j(),2)},D:function(){return o.daysShort[i.w()]},j:function(){return n.getDate()},l:function(){return o.days[i.w()]},N:function(){return i.w()||7},w:function(){return n.getDay()},z:function(){var t=new Date(i.Y(),i.n()-1,i.j()),e=new Date(i.Y(),0,1);return Math.round((t-e)/864e5)},W:function(){var t=new Date(i.Y(),i.n()-1,i.j()-i.N()+3),n=new Date(t.getFullYear(),0,4);return e(1+Math.round((t-n)/864e5/7),2)},F:function(){return o.months[n.getMonth()]},m:function(){return e(i.n(),2)},M:function(){return o.monthsShort[n.getMonth()]},n:function(){return n.getMonth()+1},t:function(){return new Date(i.Y(),i.n(),0).getDate()},L:function(){var t=i.Y();return t%4==0&&t%100!=0||t%400==0?1:0},o:function(){var t=i.n(),e=i.W();return i.Y()+(12===t&&9>e?1:1===t&&e>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return i.Y().toString().slice(-2)},a:function(){return i.A().toLowerCase()},A:function(){var t=i.G()<12?0:1;return o.meridiem[t]},B:function(){var t=3600*n.getUTCHours(),i=60*n.getUTCMinutes(),r=n.getUTCSeconds();return e(Math.floor((t+i+r+3600)/86.4)%1e3,3)},g:function(){return i.G()%12||12},G:function(){return n.getHours()},h:function(){return e(i.g(),2)},H:function(){return e(i.G(),2)},i:function(){return e(n.getMinutes(),2)},s:function(){return e(n.getSeconds(),2)},u:function(){return e(1e3*n.getMilliseconds(),6)},e:function(){return/\((.*)\)/.exec(String(n))[1]||"Coordinated Universal Time"},I:function(){return new Date(i.Y(),0)-Date.UTC(i.Y(),0)!=new Date(i.Y(),6)-Date.UTC(i.Y(),6)?1:0},O:function(){var t=n.getTimezoneOffset(),i=Math.abs(t);return(t>0?"-":"+")+e(100*Math.floor(i/60)+i%60,4)},P:function(){var t=i.O();return t.substr(0,3)+":"+t.substr(3,2)},T:function(){return(String(n).match(r.tzParts)||[""]).pop().replace(r.tzClip,"")||"UTC"},Z:function(){return 60*-n.getTimezoneOffset()},c:function(){return"Y-m-d\\TH:i:sP".replace(s,a)},r:function(){return"D, d M Y H:i:s O".replace(s,a)},U:function(){return n.getTime()/1e3||0}},a(t,t)},formatDate:function(t,e){var n,i,r,o,s,a=this,l="";if("string"==typeof t&&!(t=a.parseDate(t,e)))return null;if(t instanceof Date){for(r=e.length,n=0;r>n;n++)"S"!==(s=e.charAt(n))&&"\\"!==s&&(n>0&&"\\"===e.charAt(n-1)?l+=s:(o=a.parseFormat(s,t),n!==r-1&&a.intParts.test(s)&&"S"===e.charAt(n+1)&&(i=parseInt(o)||0,o+=a.dateSettings.ordinal(i)),l+=o));return l}return""}}}();var a;a=function(t){"use strict";var e={i18n:{ar:{months:["ÙØ§ÙÙÙ Ø§ÙØ«Ø§ÙÙ","Ø´Ø¨Ø§Ø·","Ø¢Ø°Ø§Ø±","ÙÙØ³Ø§Ù","ÙØ§ÙÙ","Ø­Ø²ÙØ±Ø§Ù","ØªÙÙØ²","Ø¢Ø¨","Ø£ÙÙÙÙ","ØªØ´Ø±ÙÙ Ø§ÙØ£ÙÙ","ØªØ´Ø±ÙÙ Ø§ÙØ«Ø§ÙÙ","ÙØ§ÙÙÙ Ø§ÙØ£ÙÙ"],dayOfWeekShort:["Ù","Ø«","Ø¹","Ø®","Ø¬","Ø³","Ø­"],dayOfWeek:["Ø§ÙØ£Ø­Ø¯","Ø§ÙØ§Ø«ÙÙÙ","Ø§ÙØ«ÙØ§Ø«Ø§Ø¡","Ø§ÙØ£Ø±Ø¨Ø¹Ø§Ø¡","Ø§ÙØ®ÙÙØ³","Ø§ÙØ¬ÙØ¹Ø©","Ø§ÙØ³Ø¨Øª","Ø§ÙØ£Ø­Ø¯"]},ro:{months:["Ianuarie","Februarie","Martie","Aprilie","Mai","Iunie","Iulie","August","Septembrie","Octombrie","Noiembrie","Decembrie"],dayOfWeekShort:["Du","Lu","Ma","Mi","Jo","Vi","SÃ¢"],dayOfWeek:["DuminicÄ","Luni","MarÅ£i","Miercuri","Joi","Vineri","SÃ¢mbÄtÄ"]},id:{months:["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"],dayOfWeekShort:["Min","Sen","Sel","Rab","Kam","Jum","Sab"],dayOfWeek:["Minggu","Senin","Selasa","Rabu","Kamis","Jumat","Sabtu"]},is:{months:["JanÃºar","FebrÃºar","Mars","AprÃ­l","MaÃ­","JÃºnÃ­","JÃºlÃ­","ÃgÃºst","September","OktÃ³ber","NÃ³vember","Desember"],dayOfWeekShort:["Sun","MÃ¡n","ÃriÃ°","MiÃ°","Fim","FÃ¶s","Lau"],dayOfWeek:["Sunnudagur","MÃ¡nudagur","ÃriÃ°judagur","MiÃ°vikudagur","Fimmtudagur","FÃ¶studagur","Laugardagur"]},bg:{months:["Ð¯Ð½ÑÐ°ÑÐ¸","Ð¤ÐµÐ²ÑÑÐ°ÑÐ¸","ÐÐ°ÑÑ","ÐÐ¿ÑÐ¸Ð»","ÐÐ°Ð¹","Ð®Ð½Ð¸","Ð®Ð»Ð¸","ÐÐ²Ð³ÑÑÑ","Ð¡ÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸","ÐÐºÑÐ¾Ð¼Ð²ÑÐ¸","ÐÐ¾ÐµÐ¼Ð²ÑÐ¸","ÐÐµÐºÐµÐ¼Ð²ÑÐ¸"],dayOfWeekShort:["ÐÐ´","ÐÐ½","ÐÑ","Ð¡Ñ","Ð§Ñ","ÐÑ","Ð¡Ð±"],dayOfWeek:["ÐÐµÐ´ÐµÐ»Ñ","ÐÐ¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº","ÐÑÐ¾ÑÐ½Ð¸Ðº","Ð¡ÑÑÐ´Ð°","Ð§ÐµÑÐ²ÑÑÑÑÐº","ÐÐµÑÑÐº","Ð¡ÑÐ±Ð¾ÑÐ°"]},fa:{months:["ÙØ±ÙØ±Ø¯ÛÙ","Ø§Ø±Ø¯ÛØ¨ÙØ´Øª","Ø®Ø±Ø¯Ø§Ø¯","ØªÛØ±","ÙØ±Ø¯Ø§Ø¯","Ø´ÙØ±ÛÙØ±","ÙÙØ±","Ø¢Ø¨Ø§Ù","Ø¢Ø°Ø±","Ø¯Û","Ø¨ÙÙÙ","Ø§Ø³ÙÙØ¯"],dayOfWeekShort:["ÛÚ©Ø´ÙØ¨Ù","Ø¯ÙØ´ÙØ¨Ù","Ø³Ù Ø´ÙØ¨Ù","ÚÙØ§Ø±Ø´ÙØ¨Ù","Ù¾ÙØ¬Ø´ÙØ¨Ù","Ø¬ÙØ¹Ù","Ø´ÙØ¨Ù"],dayOfWeek:["ÛÚ©âØ´ÙØ¨Ù","Ø¯ÙØ´ÙØ¨Ù","Ø³ÙâØ´ÙØ¨Ù","ÚÙØ§Ø±Ø´ÙØ¨Ù","Ù¾ÙØ¬âØ´ÙØ¨Ù","Ø¬ÙØ¹Ù","Ø´ÙØ¨Ù","ÛÚ©âØ´ÙØ¨Ù"]},ru:{months:["Ð¯Ð½Ð²Ð°ÑÑ","Ð¤ÐµÐ²ÑÐ°Ð»Ñ","ÐÐ°ÑÑ","ÐÐ¿ÑÐµÐ»Ñ","ÐÐ°Ð¹","ÐÑÐ½Ñ","ÐÑÐ»Ñ","ÐÐ²Ð³ÑÑÑ","Ð¡ÐµÐ½ÑÑÐ±ÑÑ","ÐÐºÑÑÐ±ÑÑ","ÐÐ¾ÑÐ±ÑÑ","ÐÐµÐºÐ°Ð±ÑÑ"],dayOfWeekShort:["ÐÑ","ÐÐ½","ÐÑ","Ð¡Ñ","Ð§Ñ","ÐÑ","Ð¡Ð±"],dayOfWeek:["ÐÐ¾ÑÐºÑÐµÑÐµÐ½ÑÐµ","ÐÐ¾Ð½ÐµÐ´ÐµÐ»ÑÐ½Ð¸Ðº","ÐÑÐ¾ÑÐ½Ð¸Ðº","Ð¡ÑÐµÐ´Ð°","Ð§ÐµÑÐ²ÐµÑÐ³","ÐÑÑÐ½Ð¸ÑÐ°","Ð¡ÑÐ±Ð±Ð¾ÑÐ°"]},uk:{months:["Ð¡ÑÑÐµÐ½Ñ","ÐÑÑÐ¸Ð¹","ÐÐµÑÐµÐ·ÐµÐ½Ñ","ÐÐ²ÑÑÐµÐ½Ñ","Ð¢ÑÐ°Ð²ÐµÐ½Ñ","Ð§ÐµÑÐ²ÐµÐ½Ñ","ÐÐ¸Ð¿ÐµÐ½Ñ","Ð¡ÐµÑÐ¿ÐµÐ½Ñ","ÐÐµÑÐµÑÐµÐ½Ñ","ÐÐ¾Ð²ÑÐµÐ½Ñ","ÐÐ¸ÑÑÐ¾Ð¿Ð°Ð´","ÐÑÑÐ´ÐµÐ½Ñ"],dayOfWeekShort:["ÐÐ´Ð»","ÐÐ½Ð´","ÐÑÑ","Ð¡ÑÐ´","Ð§ÑÐ²","ÐÑÐ½","Ð¡Ð±Ñ"],dayOfWeek:["ÐÐµÐ´ÑÐ»Ñ","ÐÐ¾Ð½ÐµÐ´ÑÐ»Ð¾Ðº","ÐÑÐ²ÑÐ¾ÑÐ¾Ðº","Ð¡ÐµÑÐµÐ´Ð°","Ð§ÐµÑÐ²ÐµÑ","Ð'ÑÑÐ½Ð¸ÑÑ","Ð¡ÑÐ±Ð¾ÑÐ°"]},en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},el:{months:["ÎÎ±Î½Î¿ÏÎ¬ÏÎ¹Î¿Ï","Î¦ÎµÎ²ÏÎ¿ÏÎ¬ÏÎ¹Î¿Ï","ÎÎ¬ÏÏÎ¹Î¿Ï","ÎÏÏÎ¯Î»Î¹Î¿Ï","ÎÎ¬Î¹Î¿Ï","ÎÎ¿ÏÎ½Î¹Î¿Ï","ÎÎ¿ÏÎ»Î¹Î¿Ï","ÎÏÎ³Î¿ÏÏÏÎ¿Ï","Î£ÎµÏÏÎ­Î¼Î²ÏÎ¹Î¿Ï","ÎÎºÏÏÎ²ÏÎ¹Î¿Ï","ÎÎ¿Î­Î¼Î²ÏÎ¹Î¿Ï","ÎÎµÎºÎ­Î¼Î²ÏÎ¹Î¿Ï"],dayOfWeekShort:["ÎÏÏ","ÎÎµÏ","Î¤ÏÎ¹","Î¤ÎµÏ","Î ÎµÎ¼","Î Î±Ï","Î£Î±Î²"],dayOfWeek:["ÎÏÏÎ¹Î±ÎºÎ®","ÎÎµÏÏÎ­ÏÎ±","Î¤ÏÎ¯ÏÎ·","Î¤ÎµÏÎ¬ÏÏÎ·","Î Î­Î¼ÏÏÎ·","Î Î±ÏÎ±ÏÎºÎµÏÎ®","Î£Î¬Î²Î²Î±ÏÎ¿"]},de:{months:["Januar","Februar","MÃ¤rz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],dayOfWeekShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayOfWeek:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"]},nl:{months:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december"],dayOfWeekShort:["zo","ma","di","wo","do","vr","za"],dayOfWeek:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"]},tr:{months:["Ocak","Åubat","Mart","Nisan","MayÄ±s","Haziran","Temmuz","AÄustos","EylÃ¼l","Ekim","KasÄ±m","AralÄ±k"],dayOfWeekShort:["Paz","Pts","Sal","Ãar","Per","Cum","Cts"],dayOfWeek:["Pazar","Pazartesi","SalÄ±","ÃarÅamba","PerÅembe","Cuma","Cumartesi"]},fr:{months:["Janvier","FÃ©vrier","Mars","Avril","Mai","Juin","Juillet","AoÃ»t","Septembre","Octobre","Novembre","DÃ©cembre"],dayOfWeekShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayOfWeek:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},es:{months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],dayOfWeekShort:["Dom","Lun","Mar","MiÃ©","Jue","Vie","SÃ¡b"],dayOfWeek:["Domingo","Lunes","Martes","MiÃ©rcoles","Jueves","Viernes","SÃ¡bado"]},th:{months:["à¸¡à¸à¸£à¸²à¸à¸¡","à¸à¸¸à¸¡à¸ à¸²à¸à¸±à¸à¸à¹","à¸¡à¸µà¸à¸²à¸à¸¡","à¹à¸¡à¸©à¸²à¸¢à¸","à¸à¸¤à¸©à¸ à¸²à¸à¸¡","à¸¡à¸´à¸à¸¸à¸à¸²à¸¢à¸","à¸à¸£à¸à¸à¸²à¸à¸¡","à¸ªà¸´à¸à¸«à¸²à¸à¸¡","à¸à¸±à¸à¸¢à¸²à¸¢à¸","à¸à¸¸à¸¥à¸²à¸à¸¡","à¸à¸¤à¸¨à¸à¸´à¸à¸²à¸¢à¸","à¸à¸±à¸à¸§à¸²à¸à¸¡"],dayOfWeekShort:["à¸­à¸².","à¸.","à¸­.","à¸.","à¸à¸¤.","à¸¨.","à¸ª."],dayOfWeek:["à¸­à¸²à¸à¸´à¸à¸¢à¹","à¸à¸±à¸à¸à¸£à¹","à¸­à¸±à¸à¸à¸²à¸£","à¸à¸¸à¸","à¸à¸¤à¸«à¸±à¸ª","à¸¨à¸¸à¸à¸£à¹","à¹à¸ªà¸²à¸£à¹","à¸­à¸²à¸à¸´à¸à¸¢à¹"]},pl:{months:["styczeÅ","luty","marzec","kwiecieÅ","maj","czerwiec","lipiec","sierpieÅ","wrzesieÅ","paÅºdziernik","listopad","grudzieÅ"],dayOfWeekShort:["nd","pn","wt","År","cz","pt","sb"],dayOfWeek:["niedziela","poniedziaÅek","wtorek","Åroda","czwartek","piÄtek","sobota"]},pt:{months:["Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","Sab"],dayOfWeek:["Domingo","Segunda","TerÃ§a","Quarta","Quinta","Sexta","SÃ¡bado"]},ch:{months:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],dayOfWeekShort:["æ¥","ä¸","äº","ä¸","å","äº","å­"]},se:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["SÃ¶n","MÃ¥n","Tis","Ons","Tor","Fre","LÃ¶r"]},km:{months:["áááá¶â","áá»áááá","áá·áá¶â","áááá¶â","á§ááá¶â","áá·áá»áá¶â","áááááá¶â","áá¸á á¶â","ááááá¶â","áá»áá¶â","áá·áááá·áá¶","áááá¼â"],dayOfWeekShort:["á¢á¶áá·â","áááááâ","á¢áááá¶áâ","áá»áâ","áááá ââ","áá»áááâ","áááá"],dayOfWeek:["á¢á¶áá·áááâ","áááááâ","á¢áááá¶áâ","áá»áâ","áááá ááááá·áâ","áá»áááâ","áááá"]},kr:{months:["1ì","2ì","3ì","4ì","5ì","6ì","7ì","8ì","9ì","10ì","11ì","12ì"],dayOfWeekShort:["ì¼","ì","í","ì","ëª©","ê¸","í "],dayOfWeek:["ì¼ìì¼","ììì¼","íìì¼","ììì¼","ëª©ìì¼","ê¸ìì¼","í ìì¼"]},it:{months:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayOfWeek:["Domenica","LunedÃ¬","MartedÃ¬","MercoledÃ¬","GiovedÃ¬","VenerdÃ¬","Sabato"]},da:{months:["Januar","Februar","Marts","April","Maj","Juni","Juli","August","September","Oktober","November","December"],dayOfWeekShort:["SÃ¸n","Man","Tir","Ons","Tor","Fre","LÃ¸r"],dayOfWeek:["sÃ¸ndag","mandag","tirsdag","onsdag","torsdag","fredag","lÃ¸rdag"]},no:{months:["Januar","Februar","Mars","April","Mai","Juni","Juli","August","September","Oktober","November","Desember"],dayOfWeekShort:["SÃ¸n","Man","Tir","Ons","Tor","Fre","LÃ¸r"],dayOfWeek:["SÃ¸ndag","Mandag","Tirsdag","Onsdag","Torsdag","Fredag","LÃ¸rdag"]},ja:{months:["1æ","2æ","3æ","4æ","5æ","6æ","7æ","8æ","9æ","10æ","11æ","12æ"],dayOfWeekShort:["æ¥","æ","ç«","æ°´","æ¨","é","å"],dayOfWeek:["æ¥æ","ææ","ç«æ","æ°´æ","æ¨æ","éæ","åæ"]},vi:{months:["ThÃ¡ng 1","ThÃ¡ng 2","ThÃ¡ng 3","ThÃ¡ng 4","ThÃ¡ng 5","ThÃ¡ng 6","ThÃ¡ng 7","ThÃ¡ng 8","ThÃ¡ng 9","ThÃ¡ng 10","ThÃ¡ng 11","ThÃ¡ng 12"],dayOfWeekShort:["CN","T2","T3","T4","T5","T6","T7"],dayOfWeek:["Chá»§ nháº­t","Thá»© hai","Thá»© ba","Thá»© tÆ°","Thá»© nÄm","Thá»© sÃ¡u","Thá»© báº£y"]},sl:{months:["Januar","Februar","Marec","April","Maj","Junij","Julij","Avgust","September","Oktober","November","December"],dayOfWeekShort:["Ned","Pon","Tor","Sre","Äet","Pet","Sob"],dayOfWeek:["Nedelja","Ponedeljek","Torek","Sreda","Äetrtek","Petek","Sobota"]},cs:{months:["Leden","Ãnor","BÅezen","Duben","KvÄten","Äerven","Äervenec","Srpen","ZÃ¡ÅÃ­","ÅÃ­jen","Listopad","Prosinec"],dayOfWeekShort:["Ne","Po","Ãt","St","Ät","PÃ¡","So"]},hu:{months:["JanuÃ¡r","FebruÃ¡r","MÃ¡rcius","Ãprilis","MÃ¡jus","JÃºnius","JÃºlius","Augusztus","Szeptember","OktÃ³ber","November","December"],dayOfWeekShort:["Va","HÃ©","Ke","Sze","Cs","PÃ©","Szo"],dayOfWeek:["vasÃ¡rnap","hÃ©tfÅ","kedd","szerda","csÃ¼tÃ¶rtÃ¶k","pÃ©ntek","szombat"]},az:{months:["Yanvar","Fevral","Mart","Aprel","May","Iyun","Iyul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],dayOfWeekShort:["B","Be","Ãa","Ã","Ca","C","Å"],dayOfWeek:["Bazar","Bazar ertÉsi","ÃÉrÅÉnbÉ axÅamÄ±","ÃÉrÅÉnbÉ","CÃ¼mÉ axÅamÄ±","CÃ¼mÉ","ÅÉnbÉ"]},bs:{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Äet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Äetvrtak","Petak","Subota"]},ca:{months:["Gener","Febrer","MarÃ§","Abril","Maig","Juny","Juliol","Agost","Setembre","Octubre","Novembre","Desembre"],dayOfWeekShort:["Dg","Dl","Dt","Dc","Dj","Dv","Ds"],dayOfWeek:["Diumenge","Dilluns","Dimarts","Dimecres","Dijous","Divendres","Dissabte"]},"en-GB":{months:["January","February","March","April","May","June","July","August","September","October","November","December"],dayOfWeekShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},et:{months:["Jaanuar","Veebruar","MÃ¤rts","Aprill","Mai","Juuni","Juuli","August","September","Oktoober","November","Detsember"],dayOfWeekShort:["P","E","T","K","N","R","L"],dayOfWeek:["PÃ¼hapÃ¤ev","EsmaspÃ¤ev","TeisipÃ¤ev","KolmapÃ¤ev","NeljapÃ¤ev","Reede","LaupÃ¤ev"]},eu:{months:["Urtarrila","Otsaila","Martxoa","Apirila","Maiatza","Ekaina","Uztaila","Abuztua","Iraila","Urria","Azaroa","Abendua"],dayOfWeekShort:["Ig.","Al.","Ar.","Az.","Og.","Or.","La."],dayOfWeek:["Igandea","Astelehena","Asteartea","Asteazkena","Osteguna","Ostirala","Larunbata"]},fi:{months:["Tammikuu","Helmikuu","Maaliskuu","Huhtikuu","Toukokuu","KesÃ¤kuu","HeinÃ¤kuu","Elokuu","Syyskuu","Lokakuu","Marraskuu","Joulukuu"],dayOfWeekShort:["Su","Ma","Ti","Ke","To","Pe","La"],dayOfWeek:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"]},gl:{months:["Xan","Feb","Maz","Abr","Mai","Xun","Xul","Ago","Set","Out","Nov","Dec"],dayOfWeekShort:["Dom","Lun","Mar","Mer","Xov","Ven","Sab"],dayOfWeek:["Domingo","Luns","Martes","MÃ©rcores","Xoves","Venres","SÃ¡bado"]},hr:{months:["SijeÄanj","VeljaÄa","OÅ¾ujak","Travanj","Svibanj","Lipanj","Srpanj","Kolovoz","Rujan","Listopad","Studeni","Prosinac"],dayOfWeekShort:["Ned","Pon","Uto","Sri","Äet","Pet","Sub"],dayOfWeek:["Nedjelja","Ponedjeljak","Utorak","Srijeda","Äetvrtak","Petak","Subota"]},ko:{months:["1ì","2ì","3ì","4ì","5ì","6ì","7ì","8ì","9ì","10ì","11ì","12ì"],dayOfWeekShort:["ì¼","ì","í","ì","ëª©","ê¸","í "],dayOfWeek:["ì¼ìì¼","ììì¼","íìì¼","ììì¼","ëª©ìì¼","ê¸ìì¼","í ìì¼"]},lt:{months:["Sausio","Vasario","Kovo","BalandÅ¾io","GeguÅ¾Äs","BirÅ¾elio","Liepos","RugpjÅ«Äio","RugsÄjo","Spalio","LapkriÄio","GruodÅ¾io"],dayOfWeekShort:["Sek","Pir","Ant","Tre","Ket","Pen","Å eÅ¡"],dayOfWeek:["Sekmadienis","Pirmadienis","Antradienis","TreÄiadienis","Ketvirtadienis","Penktadienis","Å eÅ¡tadienis"]},lv:{months:["JanvÄris","FebruÄris","Marts","AprÄ«lis ","Maijs","JÅ«nijs","JÅ«lijs","Augusts","Septembris","Oktobris","Novembris","Decembris"],dayOfWeekShort:["Sv","Pr","Ot","Tr","Ct","Pk","St"],dayOfWeek:["SvÄtdiena","Pirmdiena","Otrdiena","TreÅ¡diena","Ceturtdiena","Piektdiena","Sestdiena"]},mk:{months:["ÑÐ°Ð½ÑÐ°ÑÐ¸","ÑÐµÐ²ÑÑÐ°ÑÐ¸","Ð¼Ð°ÑÑ","Ð°Ð¿ÑÐ¸Ð»","Ð¼Ð°Ñ","ÑÑÐ½Ð¸","ÑÑÐ»Ð¸","Ð°Ð²Ð³ÑÑÑ","ÑÐµÐ¿ÑÐµÐ¼Ð²ÑÐ¸","Ð¾ÐºÑÐ¾Ð¼Ð²ÑÐ¸","Ð½Ð¾ÐµÐ¼Ð²ÑÐ¸","Ð´ÐµÐºÐµÐ¼Ð²ÑÐ¸"],dayOfWeekShort:["Ð½ÐµÐ´","Ð¿Ð¾Ð½","Ð²ÑÐ¾","ÑÑÐµ","ÑÐµÑ","Ð¿ÐµÑ","ÑÐ°Ð±"],dayOfWeek:["ÐÐµÐ´ÐµÐ»Ð°","ÐÐ¾Ð½ÐµÐ´ÐµÐ»Ð½Ð¸Ðº","ÐÑÐ¾ÑÐ½Ð¸Ðº","Ð¡ÑÐµÐ´Ð°","Ð§ÐµÑÐ²ÑÑÐ¾Ðº","ÐÐµÑÐ¾Ðº","Ð¡Ð°Ð±Ð¾ÑÐ°"]},mn:{months:["1-Ñ ÑÐ°Ñ","2-Ñ ÑÐ°Ñ","3-Ñ ÑÐ°Ñ","4-Ñ ÑÐ°Ñ","5-Ñ ÑÐ°Ñ","6-Ñ ÑÐ°Ñ","7-Ñ ÑÐ°Ñ","8-Ñ ÑÐ°Ñ","9-Ñ ÑÐ°Ñ","10-Ñ ÑÐ°Ñ","11-Ñ ÑÐ°Ñ","12-Ñ ÑÐ°Ñ"],dayOfWeekShort:["ÐÐ°Ð²","ÐÑÐ³","ÐÑÐ°","ÐÒ¯Ñ","ÐÑÐ½","ÐÑÐ¼","ÐÑÐ¼"],dayOfWeek:["ÐÐ°Ð²Ð°Ð°","ÐÑÐ³Ð¼Ð°Ñ","ÐÑÐ°Ð³Ð²Ð°","ÐÒ¯ÑÑÐ²","ÐÐ°Ð°ÑÐ°Ð½","ÐÑÐ¼Ð±Ð°","ÐÑÐ¼"]},"pt-BR":{months:["Janeiro","Fevereiro","MarÃ§o","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],dayOfWeekShort:["Dom","Seg","Ter","Qua","Qui","Sex","SÃ¡b"],dayOfWeek:["Domingo","Segunda","TerÃ§a","Quarta","Quinta","Sexta","SÃ¡bado"]},sk:{months:["JanuÃ¡r","FebruÃ¡r","Marec","AprÃ­l","MÃ¡j","JÃºn","JÃºl","August","September","OktÃ³ber","November","December"],dayOfWeekShort:["Ne","Po","Ut","St","Å t","Pi","So"],dayOfWeek:["NedeÄ¾a","Pondelok","Utorok","Streda","Å tvrtok","Piatok","Sobota"]},sq:{months:["Janar","Shkurt","Mars","Prill","Maj","Qershor","Korrik","Gusht","Shtator","Tetor","NÃ«ntor","Dhjetor"],dayOfWeekShort:["Die","HÃ«n","Mar","MÃ«r","Enj","Pre","Shtu"],dayOfWeek:["E Diel","E HÃ«nÃ«","E MartÄ","E MÃ«rkurÃ«","E Enjte","E Premte","E ShtunÃ«"]},"sr-YU":{months:["Januar","Februar","Mart","April","Maj","Jun","Jul","Avgust","Septembar","Oktobar","Novembar","Decembar"],dayOfWeekShort:["Ned","Pon","Uto","Sre","Äet","Pet","Sub"],dayOfWeek:["Nedelja","Ponedeljak","Utorak","Sreda","Äetvrtak","Petak","Subota"]},sr:{months:["ÑÐ°Ð½ÑÐ°Ñ","ÑÐµÐ±ÑÑÐ°Ñ","Ð¼Ð°ÑÑ","Ð°Ð¿ÑÐ¸Ð»","Ð¼Ð°Ñ","ÑÑÐ½","ÑÑÐ»","Ð°Ð²Ð³ÑÑÑ","ÑÐµÐ¿ÑÐµÐ¼Ð±Ð°Ñ","Ð¾ÐºÑÐ¾Ð±Ð°Ñ","Ð½Ð¾Ð²ÐµÐ¼Ð±Ð°Ñ","Ð´ÐµÑÐµÐ¼Ð±Ð°Ñ"],dayOfWeekShort:["Ð½ÐµÐ´","Ð¿Ð¾Ð½","ÑÑÐ¾","ÑÑÐµ","ÑÐµÑ","Ð¿ÐµÑ","ÑÑÐ±"],dayOfWeek:["ÐÐµÐ´ÐµÑÐ°","ÐÐ¾Ð½ÐµÐ´ÐµÑÐ°Ðº","Ð£ÑÐ¾ÑÐ°Ðº","Ð¡ÑÐµÐ´Ð°","Ð§ÐµÑÐ²ÑÑÐ°Ðº","ÐÐµÑÐ°Ðº","Ð¡ÑÐ±Ð¾ÑÐ°"]},sv:{months:["Januari","Februari","Mars","April","Maj","Juni","Juli","Augusti","September","Oktober","November","December"],dayOfWeekShort:["SÃ¶n","MÃ¥n","Tis","Ons","Tor","Fre","LÃ¶r"],dayOfWeek:["SÃ¶ndag","MÃ¥ndag","Tisdag","Onsdag","Torsdag","Fredag","LÃ¶rdag"]},"zh-TW":{months:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],dayOfWeekShort:["æ¥","ä¸","äº","ä¸","å","äº","å­"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"]},zh:{months:["ä¸æ","äºæ","ä¸æ","åæ","äºæ","å­æ","ä¸æ","å«æ","ä¹æ","åæ","åä¸æ","åäºæ"],dayOfWeekShort:["æ¥","ä¸","äº","ä¸","å","äº","å­"],dayOfWeek:["æææ¥","ææä¸","ææäº","ææä¸","ææå","ææäº","ææå­"]},ug:{months:["1-Ø¦Ø§Ù","2-Ø¦Ø§Ù","3-Ø¦Ø§Ù","4-Ø¦Ø§Ù","5-Ø¦Ø§Ù","6-Ø¦Ø§Ù","7-Ø¦Ø§Ù","8-Ø¦Ø§Ù","9-Ø¦Ø§Ù","10-Ø¦Ø§Ù","11-Ø¦Ø§Ù","12-Ø¦Ø§Ù"],dayOfWeek:["ÙÛÙØ´ÛÙØ¨Û","Ø¯ÛØ´ÛÙØ¨Û","Ø³ÛÙØ´ÛÙØ¨Û","ÚØ§Ø±Ø´ÛÙØ¨Û","Ù¾ÛÙØ´ÛÙØ¨Û","Ø¬ÛÙÛ","Ø´ÛÙØ¨Û"]},he:{months:["×× ×××¨","×¤××¨×××¨","××¨×¥","××¤×¨××","×××","××× ×","××××","×××××¡×","×¡×¤××××¨","×××§××××¨","× ×××××¨","××¦×××¨"],dayOfWeekShort:["×'","×'","×'","×'","×'","×'","×©××ª"],dayOfWeek:["×¨××©××","×©× ×","×©×××©×","×¨×××¢×","××××©×","×©××©×","×©××ª","×¨××©××"]},hy:{months:["ÕÕ¸ÖÕ¶Õ¾Õ¡Ö","ÕÕ¥Õ¿ÖÕ¾Õ¡Ö","ÕÕ¡ÖÕ¿","Ô±ÕºÖÕ«Õ¬","ÕÕ¡ÕµÕ«Õ½","ÕÕ¸ÖÕ¶Õ«Õ½","ÕÕ¸ÖÕ¬Õ«Õ½","ÕÕ£Õ¸Õ½Õ¿Õ¸Õ½","ÕÕ¥ÕºÕ¿Õ¥Õ´Õ¢Õ¥Ö","ÕÕ¸Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö","ÕÕ¸ÕµÕ¥Õ´Õ¢Õ¥Ö","Ô´Õ¥Õ¯Õ¿Õ¥Õ´Õ¢Õ¥Ö"],dayOfWeekShort:["Ô¿Õ«","ÔµÖÕ¯","ÔµÖÖ","ÕÕ¸Ö","ÕÕ¶Õ£","ÕÖÖÕ¢","ÕÕ¢Õ©"],dayOfWeek:["Ô¿Õ«ÖÕ¡Õ¯Õ«","ÔµÖÕ¯Õ¸ÖÕ·Õ¡Õ¢Õ©Õ«","ÔµÖÕ¥ÖÕ·Õ¡Õ¢Õ©Õ«","ÕÕ¸ÖÕ¥ÖÕ·Õ¡Õ¢Õ©Õ«","ÕÕ«Õ¶Õ£Õ·Õ¡Õ¢Õ©Õ«","ÕÖÖÕ¢Õ¡Õ©","ÕÕ¡Õ¢Õ¡Õ©"]},kg:{months:["Ò®ÑÑÒ¯Ð½ Ð°Ð¹Ñ","ÐÐ¸ÑÐ´Ð¸Ð½ Ð°Ð¹Ñ","ÐÐ°Ð»Ð³Ð°Ð½ ÐÑÑÐ°Ð½","Ð§ÑÐ½ ÐÑÑÐ°Ð½","ÐÑÐ³Ñ","ÐÑÐ»Ð¶Ð°","Ð¢ÐµÐºÐµ","ÐÐ°Ñ ÐÐ¾Ð½Ð°","ÐÑÐº ÐÐ¾Ð½Ð°","Ð¢Ð¾Ð³ÑÐ·Ð´ÑÐ½ Ð°Ð¹Ñ","ÐÐµÑÐ¸Ð½Ð¸Ð½ Ð°Ð¹Ñ","ÐÐµÑÑÐ¸Ð½ Ð°Ð¹Ñ"],dayOfWeekShort:["ÐÐµÐº","ÐÒ¯Ð¹","Ð¨ÐµÐ¹","Ð¨Ð°Ñ","ÐÐµÐ¹","ÐÑÐ¼","ÐÑÐµ"],dayOfWeek:["ÐÐµÐºÑÐµÐ¼Ð±","ÐÒ¯Ð¹ÑÓ©Ð¼Ð±","Ð¨ÐµÐ¹ÑÐµÐ¼Ð±","Ð¨Ð°ÑÑÐµÐ¼Ð±","ÐÐµÐ¹ÑÐµÐ¼Ð±Ð¸","ÐÑÐ¼Ð°","ÐÑÐµÐ½Ð±"]},rm:{months:["Schaner","Favrer","Mars","Avrigl","Matg","Zercladur","Fanadur","Avust","Settember","October","November","December"],dayOfWeekShort:["Du","Gli","Ma","Me","Gie","Ve","So"],dayOfWeek:["Dumengia","Glindesdi","Mardi","Mesemna","Gievgia","Venderdi","Sonda"]},ka:{months:["áááááá á","ááááá áááá","ááá á¢á","ááá ááá","áááá¡á","ááááá¡á","ááááá¡á","ááááá¡á¢á","á¡áá¥á¢ááááá á","áá¥á¢ááááá á","ááááááá á","áááááááá á"],dayOfWeekShort:["áá","áá á¨","á¡ááá¨","ááá®","á®á£á","ááá ","á¨áá"],dayOfWeek:["áááá á","áá á¨ááááá","á¡ááá¨ááááá","ááá®á¨ááááá","á®á£áá¨ááááá","ááá áá¡áááá","á¨ááááá"]}},ownerDocument:document,contentWindow:window,value:"",rtl:!1,format:"Y/m/d H:i",formatTime:"H:i",formatDate:"Y/m/d",startDate:!1,step:60,monthChangeSpinner:!0,closeOnDateSelect:!1,closeOnTimeSelect:!0,closeOnWithoutClick:!0,closeOnInputClick:!0,openOnFocus:!0,timepicker:!0,datepicker:!0,weeks:!1,defaultTime:!1,defaultDate:!1,minDate:!1,maxDate:!1,minTime:!1,maxTime:!1,minDateTime:!1,maxDateTime:!1,allowTimes:[],opened:!1,initTime:!0,inline:!1,theme:"",touchMovedThreshold:5,onSelectDate:function(){},onSelectTime:function(){},onChangeMonth:function(){},onGetWeekOfYear:function(){},onChangeYear:function(){},onChangeDateTime:function(){},onShow:function(){},onClose:function(){},onGenerate:function(){},withoutCopyright:!0,inverseButton:!1,hours12:!1,next:"xdsoft_next",prev:"xdsoft_prev",dayOfWeekStart:0,parentID:"body",timeHeightInTimePicker:25,timepickerScrollbar:!0,todayButton:!0,prevButton:!0,nextButton:!0,defaultSelect:!0,scrollMonth:!0,scrollTime:!0,scrollInput:!0,lazyInit:!1,mask:!1,validateOnBlur:!0,allowBlank:!0,yearStart:1950,yearEnd:2050,monthStart:0,monthEnd:11,style:"",id:"",fixed:!1,roundTime:"round",className:"",weekends:[],highlightedDates:[],highlightedPeriods:[],allowDates:[],allowDateRe:null,disabledDates:[],disabledWeekDays:[],yearOffset:0,beforeShowDay:null,enterLikeTab:!0,showApplyButton:!1},n=null,i=null,r="en",o={meridiem:["AM","PM"]},a=function(){var a=e.i18n[r],l={days:a.dayOfWeek,daysShort:a.dayOfWeekShort,months:a.months,monthsShort:t.map(a.months,(function(t){return t.substring(0,3)}))};"function"==typeof s&&(n=i=new s({dateSettings:t.extend({},o,l)}))},l={moment:{default_options:{format:"YYYY/MM/DD HH:mm",formatDate:"YYYY/MM/DD",formatTime:"HH:mm"},formatter:{parseDate:function(t,e){if(c(e))return i.parseDate(t,e);var n=moment(t,e);return!!n.isValid()&&n.toDate()},formatDate:function(t,e){return c(e)?i.formatDate(t,e):moment(t).format(e)},formatMask:function(t){return t.replace(/Y{4}/g,"9999").replace(/Y{2}/g,"99").replace(/M{2}/g,"19").replace(/D{2}/g,"39").replace(/H{2}/g,"29").replace(/m{2}/g,"59").replace(/s{2}/g,"59")}}}};t.datetimepicker={setLocale:function(t){var n=e.i18n[t]?t:"en";r!==n&&(r=n,a())},setDateFormatter:function(i){if("string"==typeof i&&l.hasOwnProperty(i)){var r=l[i];t.extend(e,r.default_options),n=r.formatter}else n=i}};var u={RFC_2822:"D, d M Y H:i:s O",ATOM:"Y-m-dTH:i:sP",ISO_8601:"Y-m-dTH:i:sO",RFC_822:"D, d M y H:i:s O",RFC_850:"l, d-M-y H:i:s T",RFC_1036:"D, d M y H:i:s O",RFC_1123:"D, d M Y H:i:s O",RSS:"D, d M Y H:i:s O",W3C:"Y-m-dTH:i:sP"},c=function(t){return-1!==Object.values(u).indexOf(t)};function f(t,e,n){this.date=t,this.desc=e,this.style=n}t.extend(t.datetimepicker,u),a(),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var n=/(-([a-z]))/g;return"float"===e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,(function(t,e,n){return n.toUpperCase()}))),t.currentStyle[e]||null},this}),Array.prototype.indexOf||(Array.prototype.indexOf=function(t,e){var n,i;for(n=e||0,i=this.length;n<i;n+=1)if(this[n]===t)return n;return-1}),Date.prototype.countDaysInMonth=function(){return new Date(this.getFullYear(),this.getMonth()+1,0).getDate()},t.fn.xdsoftScroller=function(e,n){return this.each((function(){var i,r,o,s,a,l=t(this),u=function(t){var e,n={x:0,y:0};return"touchstart"===t.type||"touchmove"===t.type||"touchend"===t.type||"touchcancel"===t.type?(e=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],n.x=e.clientX,n.y=e.clientY):"mousedown"!==t.type&&"mouseup"!==t.type&&"mousemove"!==t.type&&"mouseover"!==t.type&&"mouseout"!==t.type&&"mouseenter"!==t.type&&"mouseleave"!==t.type||(n.x=t.clientX,n.y=t.clientY),n},c=100,f=!1,d=0,h=0,p=0,m=!1,g=0,v=function(){};"hide"!==n?(t(this).hasClass("xdsoft_scroller_box")||(i=l.children().eq(0),r=l[0].clientHeight,o=i[0].offsetHeight,s=t('<div class="xdsoft_scrollbar"></div>'),a=t('<div class="xdsoft_scroller"></div>'),s.append(a),l.addClass("xdsoft_scroller_box").append(s),v=function(t){var e=u(t).y-d+g;e<0&&(e=0),e+a[0].offsetHeight>p&&(e=p-a[0].offsetHeight),l.trigger("scroll_element.xdsoft_scroller",[c?e/c:0])},a.on("touchstart.xdsoft_scroller mousedown.xdsoft_scroller",(function(i){r||l.trigger("resize_scroll.xdsoft_scroller",[n]),d=u(i).y,g=parseInt(a.css("margin-top"),10),p=s[0].offsetHeight,"mousedown"===i.type||"touchstart"===i.type?(e.ownerDocument&&t(e.ownerDocument.body).addClass("xdsoft_noselect"),t([e.ownerDocument.body,e.contentWindow]).on("touchend mouseup.xdsoft_scroller",(function n(){t([e.ownerDocument.body,e.contentWindow]).off("touchend mouseup.xdsoft_scroller",n).off("mousemove.xdsoft_scroller",v).removeClass("xdsoft_noselect")})),t(e.ownerDocument.body).on("mousemove.xdsoft_scroller",v)):(m=!0,i.stopPropagation(),i.preventDefault())})).on("touchmove",(function(t){m&&(t.preventDefault(),v(t))})).on("touchend touchcancel",(function(){m=!1,g=0})),l.on("scroll_element.xdsoft_scroller",(function(t,e){r||l.trigger("resize_scroll.xdsoft_scroller",[e,!0]),e=e>1?1:e<0||isNaN(e)?0:e,a.css("margin-top",c*e),setTimeout((function(){i.css("marginTop",-parseInt((i[0].offsetHeight-r)*e,10))}),10)})).on("resize_scroll.xdsoft_scroller",(function(t,e,n){var u,f;r=l[0].clientHeight,o=i[0].offsetHeight,f=(u=r/o)*s[0].offsetHeight,u>1?a.hide():(a.show(),a.css("height",parseInt(f>10?f:10,10)),c=s[0].offsetHeight-a[0].offsetHeight,!0!==n&&l.trigger("scroll_element.xdsoft_scroller",[e||Math.abs(parseInt(i.css("marginTop"),10))/(o-r)]))})),l.on("mousewheel",(function(t){var e=Math.abs(parseInt(i.css("marginTop"),10));return(e-=20*t.deltaY)<0&&(e=0),l.trigger("scroll_element.xdsoft_scroller",[e/(o-r)]),t.stopPropagation(),!1})),l.on("touchstart",(function(t){f=u(t),h=Math.abs(parseInt(i.css("marginTop"),10))})),l.on("touchmove",(function(t){if(f){t.preventDefault();var e=u(t);l.trigger("scroll_element.xdsoft_scroller",[(h-(e.y-f.y))/(o-r)])}})),l.on("touchend touchcancel",(function(){f=!1,h=0}))),l.trigger("resize_scroll.xdsoft_scroller",[n])):l.find(".xdsoft_scrollbar").hide()}))},t.fn.datetimepicker=function(i,o){var s,a,l=this,u=17,c=13,d=27,h=37,p=38,m=39,g=40,v=9,y=116,b=65,x=67,w=86,_=90,C=89,k=!1,S=t.isPlainObject(i)||!i?t.extend(!0,{},e,i):t.extend(!0,{},e),T=0;return s=function(e){var o,s,a,l,T,E,D=t('<div class="xdsoft_datetimepicker xdsoft_noselect"></div>'),N=t('<div class="xdsoft_copyright"><a target="_blank" href="http://xdsoft.net/jqplugins/datetimepicker/">xdsoft.net</a></div>'),A=t('<div class="xdsoft_datepicker active"></div>'),P=t('<div class="xdsoft_monthpicker"><button type="button" class="xdsoft_prev"></button><button type="button" class="xdsoft_today_button"></button><div class="xdsoft_label xdsoft_month"><span></span><i></i></div><div class="xdsoft_label xdsoft_year"><span></span><i></i></div><button type="button" class="xdsoft_next"></button></div>'),O=t('<div class="xdsoft_calendar"></div>'),I=t('<div class="xdsoft_timepicker active"><button type="button" class="xdsoft_prev"></button><div class="xdsoft_time_box"></div><button type="button" class="xdsoft_next"></button></div>'),M=I.find(".xdsoft_time_box").eq(0),B=t('<div class="xdsoft_time_variant"></div>'),R=t('<button type="button" class="xdsoft_save_selected blue-gradient-button">Save Selected</button>'),L=t('<div class="xdsoft_select xdsoft_monthselect"><div></div></div>'),F=t('<div class="xdsoft_select xdsoft_yearselect"><div></div></div>'),H=!1,z=0;S.id&&D.attr("id",S.id),S.style&&D.attr("style",S.style),S.weeks&&D.addClass("xdsoft_showweeks"),S.rtl&&D.addClass("xdsoft_rtl"),D.addClass("xdsoft_"+S.theme),D.addClass(S.className),P.find(".xdsoft_month span").after(L),P.find(".xdsoft_year span").after(F),P.find(".xdsoft_month,.xdsoft_year").on("touchstart mousedown.xdsoft",(function(e){var n,i,r=t(this).find(".xdsoft_select").eq(0),o=0,s=0,a=r.is(":visible");for(P.find(".xdsoft_select").hide(),T.currentTime&&(o=T.currentTime[t(this).hasClass("xdsoft_month")?"getMonth":"getFullYear"]()),r[a?"hide":"show"](),n=r.find("div.xdsoft_option"),i=0;i<n.length&&n.eq(i).data("value")!==o;i+=1)s+=n[0].offsetHeight;return r.xdsoftScroller(S,s/(r.children()[0].offsetHeight-r[0].clientHeight)),e.stopPropagation(),!1}));var j=function(t){var e=t.originalEvent,n=e.touches?e.touches[0]:e;this.touchStartPosition=this.touchStartPosition||n;var i=Math.abs(this.touchStartPosition.clientX-n.clientX),r=Math.abs(this.touchStartPosition.clientY-n.clientY);Math.sqrt(i*i+r*r)>S.touchMovedThreshold&&(this.touchMoved=!0)};function W(){var t,n=!1;return S.startDate?n=T.strToDate(S.startDate):(n=S.value||(e&&e.val&&e.val()?e.val():""))?(n=T.strToDateTime(n),S.yearOffset&&(n=new Date(n.getFullYear()-S.yearOffset,n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()))):S.defaultDate&&(n=T.strToDateTime(S.defaultDate),S.defaultTime&&(t=T.strtotime(S.defaultTime),n.setHours(t.getHours()),n.setMinutes(t.getMinutes()))),n&&T.isValidDate(n)?D.data("changed",!0):n="",n||0}function $(i){var r=function(t,e){var n=t.replace(/([\[\]\/\{\}\(\)\-\.\+]{1})/g,"\\$1").replace(/_/g,"{digit+}").replace(/([0-9]{1})/g,"{digit$1}").replace(/\{digit([0-9]{1})\}/g,"[0-$1_]{1}").replace(/\{digit[\+]\}/g,"[0-9_]{1}");return new RegExp(n).test(e)},o=function(t,e){if(!(t="string"==typeof t||t instanceof String?i.ownerDocument.getElementById(t):t))return!1;if(t.createTextRange){var n=t.createTextRange();return n.collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select(),!0}return!!t.setSelectionRange&&(t.setSelectionRange(e,e),!0)};i.mask&&e.off("keydown.xdsoft"),!0===i.mask&&(n.formatMask?i.mask=n.formatMask(i.format):i.mask=i.format.replace(/Y/g,"9999").replace(/F/g,"9999").replace(/m/g,"19").replace(/d/g,"39").replace(/H/g,"29").replace(/i/g,"59").replace(/s/g,"59")),"string"===t.type(i.mask)&&(r(i.mask,e.val())||(e.val(i.mask.replace(/[0-9]/g,"_")),o(e[0],0)),e.on("paste.xdsoft",(function(n){var s=(n.clipboardData||n.originalEvent.clipboardData||window.clipboardData).getData("text"),a=this.value,l=this.selectionStart,u=a.substr(0,l),c=a.substr(l+s.length);return a=u+s+c,l+=s.length,r(i.mask,a)?(this.value=a,o(this,l)):""===t.trim(a)?this.value=i.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft"),n.preventDefault(),!1})),e.on("keydown.xdsoft",(function(n){var s,a=this.value,l=n.which,f=this.selectionStart,S=this.selectionEnd,T=f!==S;if(l>=48&&l<=57||l>=96&&l<=105||8===l||46===l){for(s=8===l||46===l?"_":String.fromCharCode(96<=l&&l<=105?l-48:l),8===l&&f&&!T&&(f-=1);;){var E=i.mask.substr(f,1),D=f<i.mask.length,N=f>0;if(!(/[^0-9_]/.test(E)&&D&&N))break;f+=8!==l||T?1:-1}if(T){var A=S-f,P=i.mask.replace(/[0-9]/g,"_"),O=P.substr(f,A).substr(1),I=a.substr(0,f),M=s+O,B=a.substr(f+A);a=I+M+B}else{var R=a.substr(0,f),L=s,F=a.substr(f+1);a=R+L+F}if(""===t.trim(a))a=P;else if(f===i.mask.length)return n.preventDefault(),!1;for(f+=8===l?0:1;/[^0-9_]/.test(i.mask.substr(f,1))&&f<i.mask.length&&f>0;)f+=8===l?0:1;r(i.mask,a)?(this.value=a,o(this,f)):""===t.trim(a)?this.value=i.mask.replace(/[0-9]/g,"_"):e.trigger("error_input.xdsoft")}else if(-1!==[b,x,w,_,C].indexOf(l)&&k||-1!==[d,p,g,h,m,y,u,v,c].indexOf(l))return!0;return n.preventDefault(),!1})))}P.find(".xdsoft_select").xdsoftScroller(S).on("touchstart mousedown.xdsoft",(function(t){var e=t.originalEvent;this.touchMoved=!1,this.touchStartPosition=e.touches?e.touches[0]:e,t.stopPropagation(),t.preventDefault()})).on("touchmove",".xdsoft_option",j).on("touchend mousedown.xdsoft",".xdsoft_option",(function(){if(!this.touchMoved){void 0!==T.currentTime&&null!==T.currentTime||(T.currentTime=T.now());var e=T.currentTime.getFullYear();T&&T.currentTime&&T.currentTime[t(this).parent().parent().hasClass("xdsoft_monthselect")?"setMonth":"setFullYear"](t(this).data("value")),t(this).parent().parent().hide(),D.trigger("xchange.xdsoft"),S.onChangeMonth&&t.isFunction(S.onChangeMonth)&&S.onChangeMonth.call(D,T.currentTime,D.data("input")),e!==T.currentTime.getFullYear()&&t.isFunction(S.onChangeYear)&&S.onChangeYear.call(D,T.currentTime,D.data("input"))}})),D.getValue=function(){return T.getCurrentTime()},D.setOptions=function(i){var r={};S=t.extend(!0,{},S,i),i.allowTimes&&t.isArray(i.allowTimes)&&i.allowTimes.length&&(S.allowTimes=t.extend(!0,[],i.allowTimes)),i.weekends&&t.isArray(i.weekends)&&i.weekends.length&&(S.weekends=t.extend(!0,[],i.weekends)),i.allowDates&&t.isArray(i.allowDates)&&i.allowDates.length&&(S.allowDates=t.extend(!0,[],i.allowDates)),i.allowDateRe&&"[object String]"===Object.prototype.toString.call(i.allowDateRe)&&(S.allowDateRe=new RegExp(i.allowDateRe)),i.highlightedDates&&t.isArray(i.highlightedDates)&&i.highlightedDates.length&&(t.each(i.highlightedDates,(function(e,i){var o,s=t.map(i.split(","),t.trim),a=new f(n.parseDate(s[0],S.formatDate),s[1],s[2]),l=n.formatDate(a.date,S.formatDate);void 0!==r[l]?(o=r[l].desc)&&o.length&&a.desc&&a.desc.length&&(r[l].desc=o+"\n"+a.desc):r[l]=a})),S.highlightedDates=t.extend(!0,[],r)),i.highlightedPeriods&&t.isArray(i.highlightedPeriods)&&i.highlightedPeriods.length&&(r=t.extend(!0,[],S.highlightedDates),t.each(i.highlightedPeriods,(function(e,i){var o,s,a,l,u,c,d;if(t.isArray(i))o=i[0],s=i[1],a=i[2],d=i[3];else{var h=t.map(i.split(","),t.trim);o=n.parseDate(h[0],S.formatDate),s=n.parseDate(h[1],S.formatDate),a=h[2],d=h[3]}for(;o<=s;)l=new f(o,a,d),u=n.formatDate(o,S.formatDate),o.setDate(o.getDate()+1),void 0!==r[u]?(c=r[u].desc)&&c.length&&l.desc&&l.desc.length&&(r[u].desc=c+"\n"+l.desc):r[u]=l})),S.highlightedDates=t.extend(!0,[],r)),i.disabledDates&&t.isArray(i.disabledDates)&&i.disabledDates.length&&(S.disabledDates=t.extend(!0,[],i.disabledDates)),i.disabledWeekDays&&t.isArray(i.disabledWeekDays)&&i.disabledWeekDays.length&&(S.disabledWeekDays=t.extend(!0,[],i.disabledWeekDays)),!S.open&&!S.opened||S.inline||e.trigger("open.xdsoft"),S.inline&&(H=!0,D.addClass("xdsoft_inline"),e.after(D).hide()),S.inverseButton&&(S.next="xdsoft_prev",S.prev="xdsoft_next"),S.datepicker?A.addClass("active"):A.removeClass("active"),S.timepicker?I.addClass("active"):I.removeClass("active"),S.value&&(T.setCurrentTime(S.value),e&&e.val&&e.val(T.str)),isNaN(S.dayOfWeekStart)?S.dayOfWeekStart=0:S.dayOfWeekStart=parseInt(S.dayOfWeekStart,10)%7,S.timepickerScrollbar||M.xdsoftScroller(S,"hide"),S.minDate&&/^[\+\-](.*)$/.test(S.minDate)&&(S.minDate=n.formatDate(T.strToDateTime(S.minDate),S.formatDate)),S.maxDate&&/^[\+\-](.*)$/.test(S.maxDate)&&(S.maxDate=n.formatDate(T.strToDateTime(S.maxDate),S.formatDate)),S.minDateTime&&/^\+(.*)$/.test(S.minDateTime)&&(S.minDateTime=T.strToDateTime(S.minDateTime).dateFormat(S.formatDate)),S.maxDateTime&&/^\+(.*)$/.test(S.maxDateTime)&&(S.maxDateTime=T.strToDateTime(S.maxDateTime).dateFormat(S.formatDate)),R.toggle(S.showApplyButton),P.find(".xdsoft_today_button").css("visibility",S.todayButton?"visible":"hidden"),P.find("."+S.prev).css("visibility",S.prevButton?"visible":"hidden"),P.find("."+S.next).css("visibility",S.nextButton?"visible":"hidden"),$(S),S.validateOnBlur&&e.off("blur.xdsoft").on("blur.xdsoft",(function(){if(S.allowBlank&&(!t.trim(t(this).val()).length||"string"==typeof S.mask&&t.trim(t(this).val())===S.mask.replace(/[0-9]/g,"_")))t(this).val(null),D.data("xdsoft_datetime").empty();else{var e=n.parseDate(t(this).val(),S.format);if(e)t(this).val(n.formatDate(e,S.format));else{var i=+[t(this).val()[0],t(this).val()[1]].join(""),r=+[t(this).val()[2],t(this).val()[3]].join("");!S.datepicker&&S.timepicker&&i>=0&&i<24&&r>=0&&r<60?t(this).val([i,r].map((function(t){return t>9?t:"0"+t})).join(":")):t(this).val(n.formatDate(T.now(),S.format))}D.data("xdsoft_datetime").setCurrentTime(t(this).val())}D.trigger("changedatetime.xdsoft"),D.trigger("close.xdsoft")})),S.dayOfWeekStartPrev=0===S.dayOfWeekStart?6:S.dayOfWeekStart-1,D.trigger("xchange.xdsoft").trigger("afterOpen.xdsoft")},D.data("options",S).on("touchstart mousedown.xdsoft",(function(t){return t.stopPropagation(),t.preventDefault(),F.hide(),L.hide(),!1})),M.append(B),M.xdsoftScroller(S),D.on("afterOpen.xdsoft",(function(){M.xdsoftScroller(S)})),D.append(A).append(I),!0!==S.withoutCopyright&&D.append(N),A.append(P).append(O).append(R),t(S.parentID).append(D),T=new function(){var e=this;e.now=function(t){var n,i,r=new Date;return!t&&S.defaultDate&&(n=e.strToDateTime(S.defaultDate),r.setFullYear(n.getFullYear()),r.setMonth(n.getMonth()),r.setDate(n.getDate())),r.setFullYear(r.getFullYear()),!t&&S.defaultTime&&(i=e.strtotime(S.defaultTime),r.setHours(i.getHours()),r.setMinutes(i.getMinutes()),r.setSeconds(i.getSeconds()),r.setMilliseconds(i.getMilliseconds())),r},e.isValidDate=function(t){return"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(t.getTime())},e.setCurrentTime=function(t,n){"string"==typeof t?e.currentTime=e.strToDateTime(t):e.isValidDate(t)?e.currentTime=t:t||n||!S.allowBlank||S.inline?e.currentTime=e.now():e.currentTime=null,D.trigger("xchange.xdsoft")},e.empty=function(){e.currentTime=null},e.getCurrentTime=function(){return e.currentTime},e.nextMonth=function(){void 0!==e.currentTime&&null!==e.currentTime||(e.currentTime=e.now());var n,i=e.currentTime.getMonth()+1;return 12===i&&(e.currentTime.setFullYear(e.currentTime.getFullYear()+1),i=0),n=e.currentTime.getFullYear(),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),i+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(i),S.onChangeMonth&&t.isFunction(S.onChangeMonth)&&S.onChangeMonth.call(D,T.currentTime,D.data("input")),n!==e.currentTime.getFullYear()&&t.isFunction(S.onChangeYear)&&S.onChangeYear.call(D,T.currentTime,D.data("input")),D.trigger("xchange.xdsoft"),i},e.prevMonth=function(){void 0!==e.currentTime&&null!==e.currentTime||(e.currentTime=e.now());var n=e.currentTime.getMonth()-1;return-1===n&&(e.currentTime.setFullYear(e.currentTime.getFullYear()-1),n=11),e.currentTime.setDate(Math.min(new Date(e.currentTime.getFullYear(),n+1,0).getDate(),e.currentTime.getDate())),e.currentTime.setMonth(n),S.onChangeMonth&&t.isFunction(S.onChangeMonth)&&S.onChangeMonth.call(D,T.currentTime,D.data("input")),D.trigger("xchange.xdsoft"),n},e.getWeekOfYear=function(e){if(S.onGetWeekOfYear&&t.isFunction(S.onGetWeekOfYear)){var n=S.onGetWeekOfYear.call(D,e);if(void 0!==n)return n}var i=new Date(e.getFullYear(),0,1);return 4!==i.getDay()&&i.setMonth(0,1+(4-i.getDay()+7)%7),Math.ceil(((e-i)/864e5+i.getDay()+1)/7)},e.strToDateTime=function(t){var i,r,o=[];return t&&t instanceof Date&&e.isValidDate(t)?t:((o=/^([+-]{1})(.*)$/.exec(t))&&(o[2]=n.parseDate(o[2],S.formatDate)),o&&o[2]?(i=o[2].getTime()-6e4*o[2].getTimezoneOffset(),r=new Date(e.now(!0).getTime()+parseInt(o[1]+"1",10)*i)):r=t?n.parseDate(t,S.format):e.now(),e.isValidDate(r)||(r=e.now()),r)},e.strToDate=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var i=t?n.parseDate(t,S.formatDate):e.now(!0);return e.isValidDate(i)||(i=e.now(!0)),i},e.strtotime=function(t){if(t&&t instanceof Date&&e.isValidDate(t))return t;var i=t?n.parseDate(t,S.formatTime):e.now(!0);return e.isValidDate(i)||(i=e.now(!0)),i},e.str=function(){var t=S.format;return S.yearOffset&&(t=(t=t.replace("Y",e.currentTime.getFullYear()+S.yearOffset)).replace("y",String(e.currentTime.getFullYear()+S.yearOffset).substring(2,4))),n.formatDate(e.currentTime,t)},e.currentTime=this.now()},R.on("touchend click",(function(t){t.preventDefault(),D.data("changed",!0),T.setCurrentTime(W()),e.val(T.str()),D.trigger("close.xdsoft")})),P.find(".xdsoft_today_button").on("touchend mousedown.xdsoft",(function(){D.data("changed",!0),T.setCurrentTime(0,!0),D.trigger("afterOpen.xdsoft")})).on("dblclick.xdsoft",(function(){var t,n,i=T.getCurrentTime();i=new Date(i.getFullYear(),i.getMonth(),i.getDate()),t=T.strToDate(S.minDate),i<(t=new Date(t.getFullYear(),t.getMonth(),t.getDate()))||(n=T.strToDate(S.maxDate),i>(n=new Date(n.getFullYear(),n.getMonth(),n.getDate()))||(e.val(T.str()),e.trigger("change"),D.trigger("close.xdsoft")))})),P.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var e=t(this),n=0,i=!1;!function t(r){e.hasClass(S.next)?T.nextMonth():e.hasClass(S.prev)&&T.prevMonth(),S.monthChangeSpinner&&(i||(n=setTimeout(t,r||100)))}(500),t([S.ownerDocument.body,S.contentWindow]).on("touchend mouseup.xdsoft",(function e(){clearTimeout(n),i=!0,t([S.ownerDocument.body,S.contentWindow]).off("touchend mouseup.xdsoft",e)}))})),I.find(".xdsoft_prev,.xdsoft_next").on("touchend mousedown.xdsoft",(function(){var e=t(this),n=0,i=!1,r=110;!function t(o){var s=M[0].clientHeight,a=B[0].offsetHeight,l=Math.abs(parseInt(B.css("marginTop"),10));e.hasClass(S.next)&&a-s-S.timeHeightInTimePicker>=l?B.css("marginTop","-"+(l+S.timeHeightInTimePicker)+"px"):e.hasClass(S.prev)&&l-S.timeHeightInTimePicker>=0&&B.css("marginTop","-"+(l-S.timeHeightInTimePicker)+"px"),M.trigger("scroll_element.xdsoft_scroller",[Math.abs(parseInt(B[0].style.marginTop,10)/(a-s))]),r=r>10?10:r-10,i||(n=setTimeout(t,o||r))}(500),t([S.ownerDocument.body,S.contentWindow]).on("touchend mouseup.xdsoft",(function e(){clearTimeout(n),i=!0,t([S.ownerDocument.body,S.contentWindow]).off("touchend mouseup.xdsoft",e)}))})),o=0,D.on("xchange.xdsoft",(function(s){clearTimeout(o),o=setTimeout((function(){void 0!==T.currentTime&&null!==T.currentTime||(T.currentTime=T.now());for(var o,s,a,l,u,c,f,d,h,p,m="",g=new Date(T.currentTime.getFullYear(),T.currentTime.getMonth(),1,12,0,0),v=0,y=T.now(),b=!1,x=!1,w=!1,_=!1,C=[],k=!0,E="";g.getDay()!==S.dayOfWeekStart;)g.setDate(g.getDate()-1);for(m+="<table><thead><tr>",S.weeks&&(m+="<th></th>"),o=0;o<7;o+=1)m+="<th>"+S.i18n[r].dayOfWeekShort[(o+S.dayOfWeekStart)%7]+"</th>";for(m+="</tr></thead>",m+="<tbody>",!1!==S.maxDate&&(b=T.strToDate(S.maxDate),b=new Date(b.getFullYear(),b.getMonth(),b.getDate(),23,59,59,999)),!1!==S.minDate&&(x=T.strToDate(S.minDate),x=new Date(x.getFullYear(),x.getMonth(),x.getDate())),!1!==S.minDateTime&&(w=T.strToDate(S.minDateTime),w=new Date(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds())),!1!==S.maxDateTime&&(_=T.strToDate(S.maxDateTime),_=new Date(_.getFullYear(),_.getMonth(),_.getDate(),_.getHours(),_.getMinutes(),_.getSeconds())),!1!==_&&(p=31*(12*_.getFullYear()+_.getMonth())+_.getDate());v<T.currentTime.countDaysInMonth()||g.getDay()!==S.dayOfWeekStart||T.currentTime.getMonth()===g.getMonth();){C=[],v+=1,a=g.getDay(),l=g.getDate(),u=g.getFullYear(),M=g.getMonth(),c=T.getWeekOfYear(g),h="",C.push("xdsoft_date"),f=S.beforeShowDay&&t.isFunction(S.beforeShowDay.call)?S.beforeShowDay.call(D,g):null,S.allowDateRe&&"[object RegExp]"===Object.prototype.toString.call(S.allowDateRe)&&(S.allowDateRe.test(n.formatDate(g,S.formatDate))||C.push("xdsoft_disabled")),S.allowDates&&S.allowDates.length>0&&-1===S.allowDates.indexOf(n.formatDate(g,S.formatDate))&&C.push("xdsoft_disabled");var N=31*(12*g.getFullYear()+g.getMonth())+g.getDate();(!1!==b&&g>b||!1!==w&&g<w||!1!==x&&g<x||!1!==_&&N>p||f&&!1===f[0])&&C.push("xdsoft_disabled"),-1!==S.disabledDates.indexOf(n.formatDate(g,S.formatDate))&&C.push("xdsoft_disabled"),-1!==S.disabledWeekDays.indexOf(a)&&C.push("xdsoft_disabled"),e.is("[disabled]")&&C.push("xdsoft_disabled"),f&&""!==f[1]&&C.push(f[1]),T.currentTime.getMonth()!==M&&C.push("xdsoft_other_month"),(S.defaultSelect||D.data("changed"))&&n.formatDate(T.currentTime,S.formatDate)===n.formatDate(g,S.formatDate)&&C.push("xdsoft_current"),n.formatDate(y,S.formatDate)===n.formatDate(g,S.formatDate)&&C.push("xdsoft_today"),0!==g.getDay()&&6!==g.getDay()&&-1===S.weekends.indexOf(n.formatDate(g,S.formatDate))||C.push("xdsoft_weekend"),void 0!==S.highlightedDates[n.formatDate(g,S.formatDate)]&&(s=S.highlightedDates[n.formatDate(g,S.formatDate)],C.push(void 0===s.style?"xdsoft_highlighted_default":s.style),h=void 0===s.desc?"":s.desc),S.beforeShowDay&&t.isFunction(S.beforeShowDay)&&C.push(S.beforeShowDay(g)),k&&(m+="<tr>",k=!1,S.weeks&&(m+="<th>"+c+"</th>")),m+='<td data-date="'+l+'" data-month="'+M+'" data-year="'+u+'" class="xdsoft_date xdsoft_day_of_week'+g.getDay()+" "+C.join(" ")+'" title="'+h+'"><div>'+l+"</div></td>",g.getDay()===S.dayOfWeekStartPrev&&(m+="</tr>",k=!0),g.setDate(l+1)}m+="</tbody></table>",O.html(m),P.find(".xdsoft_label span").eq(0).text(S.i18n[r].months[T.currentTime.getMonth()]),P.find(".xdsoft_label span").eq(1).text(T.currentTime.getFullYear()+S.yearOffset),E="",M="";var A=0;if(!1!==S.minTime){var I=T.strtotime(S.minTime);A=60*I.getHours()+I.getMinutes()}var M,R=1440;(!1!==S.maxTime&&(I=T.strtotime(S.maxTime),R=60*I.getHours()+I.getMinutes()),!1!==S.minDateTime&&(I=T.strToDateTime(S.minDateTime),n.formatDate(T.currentTime,S.formatDate)===n.formatDate(I,S.formatDate)&&(M=60*I.getHours()+I.getMinutes())>A&&(A=M)),!1!==S.maxDateTime)&&(I=T.strToDateTime(S.maxDateTime),n.formatDate(T.currentTime,S.formatDate)===n.formatDate(I,S.formatDate)&&(M=60*I.getHours()+I.getMinutes())<R&&(R=M));if(d=function(i,r){var o,s=T.now(),a=S.allowTimes&&t.isArray(S.allowTimes)&&S.allowTimes.length;s.setHours(i),i=parseInt(s.getHours(),10),s.setMinutes(r),r=parseInt(s.getMinutes(),10),C=[];var l=60*i+r;(e.is("[disabled]")||l>=R||l<A)&&C.push("xdsoft_disabled"),(o=new Date(T.currentTime)).setHours(parseInt(T.currentTime.getHours(),10)),a||o.setMinutes(Math[S.roundTime](T.currentTime.getMinutes()/S.step)*S.step),(S.initTime||S.defaultSelect||D.data("changed"))&&o.getHours()===parseInt(i,10)&&(!a&&S.step>59||o.getMinutes()===parseInt(r,10))&&(S.defaultSelect||D.data("changed")?C.push("xdsoft_current"):S.initTime&&C.push("xdsoft_init_time")),parseInt(y.getHours(),10)===parseInt(i,10)&&parseInt(y.getMinutes(),10)===parseInt(r,10)&&C.push("xdsoft_today"),E+='<div class="xdsoft_time '+C.join(" ")+'" data-hour="'+i+'" data-minute="'+r+'">'+n.formatDate(s,S.formatTime)+"</div>"},S.allowTimes&&t.isArray(S.allowTimes)&&S.allowTimes.length)for(v=0;v<S.allowTimes.length;v+=1)d(T.strtotime(S.allowTimes[v]).getHours(),M=T.strtotime(S.allowTimes[v]).getMinutes());else for(v=0,o=0;v<(S.hours12?12:24);v+=1)for(o=0;o<60;o+=S.step){var H=60*v+o;H<A||H>=R||d((v<10?"0":"")+v,M=(o<10?"0":"")+o)}for(B.html(E),i="",v=parseInt(S.yearStart,10);v<=parseInt(S.yearEnd,10);v+=1)i+='<div class="xdsoft_option '+(T.currentTime.getFullYear()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+(v+S.yearOffset)+"</div>";for(F.children().eq(0).html(i),v=parseInt(S.monthStart,10),i="";v<=parseInt(S.monthEnd,10);v+=1)i+='<div class="xdsoft_option '+(T.currentTime.getMonth()===v?"xdsoft_current":"")+'" data-value="'+v+'">'+S.i18n[r].months[v]+"</div>";L.children().eq(0).html(i),t(D).trigger("generate.xdsoft")}),10),s.stopPropagation()})).on("afterOpen.xdsoft",(function(){var t,e,n,i;S.timepicker&&(B.find(".xdsoft_current").length?t=".xdsoft_current":B.find(".xdsoft_init_time").length&&(t=".xdsoft_init_time"),t?(e=M[0].clientHeight,(n=B[0].offsetHeight)-e<(i=B.find(t).index()*S.timeHeightInTimePicker+1)&&(i=n-e),M.trigger("scroll_element.xdsoft_scroller",[parseInt(i,10)/(n-e)])):M.trigger("scroll_element.xdsoft_scroller",[0]))})),s=0,O.on("touchend click.xdsoft","td",(function(n){n.stopPropagation(),s+=1;var i=t(this),r=T.currentTime;if(null==r&&(T.currentTime=T.now(),r=T.currentTime),i.hasClass("xdsoft_disabled"))return!1;r.setDate(1),r.setFullYear(i.data("year")),r.setMonth(i.data("month")),r.setDate(i.data("date")),D.trigger("select.xdsoft",[r]),e.val(T.str()),S.onSelectDate&&t.isFunction(S.onSelectDate)&&S.onSelectDate.call(D,T.currentTime,D.data("input"),n),D.data("changed",!0),D.trigger("xchange.xdsoft"),D.trigger("changedatetime.xdsoft"),(s>1||!0===S.closeOnDateSelect||!1===S.closeOnDateSelect&&!S.timepicker)&&!S.inline&&D.trigger("close.xdsoft"),setTimeout((function(){s=0}),200)})),B.on("touchstart","div",(function(t){this.touchMoved=!1})).on("touchmove","div",j).on("touchend click.xdsoft","div",(function(e){if(!this.touchMoved){e.stopPropagation();var n=t(this),i=T.currentTime;if(null==i&&(T.currentTime=T.now(),i=T.currentTime),n.hasClass("xdsoft_disabled"))return!1;i.setHours(n.data("hour")),i.setMinutes(n.data("minute")),D.trigger("select.xdsoft",[i]),D.data("input").val(T.str()),S.onSelectTime&&t.isFunction(S.onSelectTime)&&S.onSelectTime.call(D,T.currentTime,D.data("input"),e),D.data("changed",!0),D.trigger("xchange.xdsoft"),D.trigger("changedatetime.xdsoft"),!0!==S.inline&&!0===S.closeOnTimeSelect&&D.trigger("close.xdsoft")}})),A.on("mousewheel.xdsoft",(function(t){return!S.scrollMonth||(t.deltaY<0?T.nextMonth():T.prevMonth(),!1)})),e.on("mousewheel.xdsoft",(function(t){return!S.scrollInput||(!S.datepicker&&S.timepicker?((a=B.find(".xdsoft_current").length?B.find(".xdsoft_current").eq(0).index():0)+t.deltaY>=0&&a+t.deltaY<B.children().length&&(a+=t.deltaY),B.children().eq(a).length&&B.children().eq(a).trigger("mousedown"),!1):S.datepicker&&!S.timepicker?(A.trigger(t,[t.deltaY,t.deltaX,t.deltaY]),e.val&&e.val(T.str()),D.trigger("changedatetime.xdsoft"),!1):void 0)})),D.on("changedatetime.xdsoft",(function(e){if(S.onChangeDateTime&&t.isFunction(S.onChangeDateTime)){var n=D.data("input");S.onChangeDateTime.call(D,T.currentTime,n,e),delete S.value,n.trigger("change")}})).on("generate.xdsoft",(function(){S.onGenerate&&t.isFunction(S.onGenerate)&&S.onGenerate.call(D,T.currentTime,D.data("input")),H&&(D.trigger("afterOpen.xdsoft"),H=!1)})).on("click.xdsoft",(function(t){t.stopPropagation()})),a=0,E=function(t,e){do{if(!(t=t.parentNode)||!1===e(t))break}while("HTML"!==t.nodeName)},l=function(){var e,n,i,r,o,s,a,l,u,c,f,d,h;if(e=(l=D.data("input")).offset(),n=l[0],c="top",i=e.top+n.offsetHeight-1,r=e.left,o="absolute",u=t(S.contentWindow).width(),d=t(S.contentWindow).height(),h=t(S.contentWindow).scrollTop(),S.ownerDocument.documentElement.clientWidth-e.left<A.parent().outerWidth(!0)){var p=A.parent().outerWidth(!0)-n.offsetWidth;r-=p}"rtl"===l.parent().css("direction")&&(r-=D.outerWidth()-l.outerWidth()),S.fixed?(i-=h,r-=t(S.contentWindow).scrollLeft(),o="fixed"):(a=!1,E(n,(function(t){return null!==t&&("fixed"===S.contentWindow.getComputedStyle(t).getPropertyValue("position")?(a=!0,!1):void 0)})),a?(o="fixed",i+D.outerHeight()>d+h?(c="bottom",i=d+h-e.top):i-=h):i+D[0].offsetHeight>d+h&&(i=e.top-D[0].offsetHeight+1),i<0&&(i=0),r+n.offsetWidth>u&&(r=u-n.offsetWidth)),s=D[0],E(s,(function(t){if("relative"===S.contentWindow.getComputedStyle(t).getPropertyValue("position")&&u>=t.offsetWidth)return r-=(u-t.offsetWidth)/2,!1})),(f={position:o,left:r,top:"",bottom:""})[c]=i,D.css(f)},D.on("open.xdsoft",(function(e){var n=!0;S.onShow&&t.isFunction(S.onShow)&&(n=S.onShow.call(D,T.currentTime,D.data("input"),e)),!1!==n&&(D.show(),l(),t(S.contentWindow).off("resize.xdsoft",l).on("resize.xdsoft",l),S.closeOnWithoutClick&&t([S.ownerDocument.body,S.contentWindow]).on("touchstart mousedown.xdsoft",(function e(){D.trigger("close.xdsoft"),t([S.ownerDocument.body,S.contentWindow]).off("touchstart mousedown.xdsoft",e)})))})).on("close.xdsoft",(function(e){var n=!0;P.find(".xdsoft_month,.xdsoft_year").find(".xdsoft_select").hide(),S.onClose&&t.isFunction(S.onClose)&&(n=S.onClose.call(D,T.currentTime,D.data("input"),e)),!1===n||S.opened||S.inline||D.hide(),e.stopPropagation()})).on("toggle.xdsoft",(function(){D.is(":visible")?D.trigger("close.xdsoft"):D.trigger("open.xdsoft")})).data("input",e),z=0,D.data("xdsoft_datetime",T),D.setOptions(S),T.setCurrentTime(W()),e.data("xdsoft_datetimepicker",D).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function(){e.is(":disabled")||e.data("xdsoft_datetimepicker").is(":visible")&&S.closeOnInputClick||S.openOnFocus&&(clearTimeout(z),z=setTimeout((function(){e.is(":disabled")||(H=!0,T.setCurrentTime(W(),!0),S.mask&&$(S),D.trigger("open.xdsoft"))}),100))})).on("keydown.xdsoft",(function(e){var n,i=e.which;return-1!==[c].indexOf(i)&&S.enterLikeTab?(n=t("input:visible,textarea:visible,button:visible,a:visible"),D.trigger("close.xdsoft"),n.eq(n.index(this)+1).focus(),!1):-1!==[v].indexOf(i)?(D.trigger("close.xdsoft"),!0):void 0})).on("blur.xdsoft",(function(){D.trigger("close.xdsoft")}))},a=function(e){var n=e.data("xdsoft_datetimepicker");n&&(n.data("xdsoft_datetime",null),n.remove(),e.data("xdsoft_datetimepicker",null).off(".xdsoft"),t(S.contentWindow).off("resize.xdsoft"),t([S.contentWindow,S.ownerDocument.body]).off("mousedown.xdsoft touchstart"),e.unmousewheel&&e.unmousewheel())},t(S.ownerDocument).off("keydown.xdsoftctrl keyup.xdsoftctrl").on("keydown.xdsoftctrl",(function(t){t.keyCode===u&&(k=!0)})).on("keyup.xdsoftctrl",(function(t){t.keyCode===u&&(k=!1)})),this.each((function(){var e,r=t(this).data("xdsoft_datetimepicker");if(r){if("string"===t.type(i))switch(i){case"show":t(this).select().focus(),r.trigger("open.xdsoft");break;case"hide":r.trigger("close.xdsoft");break;case"toggle":r.trigger("toggle.xdsoft");break;case"destroy":a(t(this));break;case"reset":this.value=this.defaultValue,this.value&&r.data("xdsoft_datetime").isValidDate(n.parseDate(this.value,S.format))||r.data("changed",!1),r.data("xdsoft_datetime").setCurrentTime(this.value);break;case"validate":r.data("input").trigger("blur.xdsoft");break;default:r[i]&&t.isFunction(r[i])&&(l=r[i](o))}else r.setOptions(i);return 0}"string"!==t.type(i)&&(!S.lazyInit||S.open||S.inline?s(t(this)):(e=t(this)).on("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",(function t(){e.is(":disabled")||e.data("xdsoft_datetimepicker")||(clearTimeout(T),T=setTimeout((function(){e.data("xdsoft_datetimepicker")||s(e),e.off("open.xdsoft focusin.xdsoft mousedown.xdsoft touchstart",t).trigger("open.xdsoft")}),100))})))})),l},t.fn.datetimepicker.defaults=e},r=[n(0),n(15)],void 0===(o="function"==typeof(i=a)?i.apply(e,r):i)||(t.exports=o),r=[n(0)],void 0===(o="function"==typeof(i=function(t){var e,n,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(t.event.fixHooks)for(var s=i.length;s;)t.event.fixHooks[i[--s]]=t.event.mouseHooks;var a=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=r.length;e;)this.addEventListener(r[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",a.getLineHeight(this)),t.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=r.length;e;)this.removeEventListener(r[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(i){var r=i||window.event,s=o.call(arguments,1),l=0,f=0,d=0,h=0,p=0,m=0;if((i=t.event.fix(r)).type="mousewheel","detail"in r&&(d=-1*r.detail),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(f=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(f=-1*d,d=0),l=0===d?f:d,"deltaY"in r&&(l=d=-1*r.deltaY),"deltaX"in r&&(f=r.deltaX,0===d&&(l=-1*f)),0!==d||0!==f){if(1===r.deltaMode){var g=t.data(this,"mousewheel-line-height");l*=g,d*=g,f*=g}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");l*=v,d*=v,f*=v}if(h=Math.max(Math.abs(d),Math.abs(f)),(!n||h<n)&&(n=h,c(r,h)&&(n/=40)),c(r,h)&&(l/=40,f/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/n),f=Math[f>=1?"floor":"ceil"](f/n),d=Math[d>=1?"floor":"ceil"](d/n),a.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=i.clientX-y.left,m=i.clientY-y.top}return i.deltaX=f,i.deltaY=d,i.deltaFactor=n,i.offsetX=p,i.offsetY=m,i.deltaMode=0,s.unshift(i,l,f,d),e&&clearTimeout(e),e=setTimeout(u,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function u(){n=null}function c(t,e){return a.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){var i,r,o;r=[n(0)],void 0===(o="function"==typeof(i=function(t){var e,n,i=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],r="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],o=Array.prototype.slice;if(t.event.fixHooks)for(var s=i.length;s;)t.event.fixHooks[i[--s]]=t.event.mouseHooks;var a=t.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var e=r.length;e;)this.addEventListener(r[--e],l,!1);else this.onmousewheel=l;t.data(this,"mousewheel-line-height",a.getLineHeight(this)),t.data(this,"mousewheel-page-height",a.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var e=r.length;e;)this.removeEventListener(r[--e],l,!1);else this.onmousewheel=null;t.removeData(this,"mousewheel-line-height"),t.removeData(this,"mousewheel-page-height")},getLineHeight:function(e){var n=t(e),i=n["offsetParent"in t.fn?"offsetParent":"parent"]();return i.length||(i=t("body")),parseInt(i.css("fontSize"),10)||parseInt(n.css("fontSize"),10)||16},getPageHeight:function(e){return t(e).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};function l(i){var r=i||window.event,s=o.call(arguments,1),l=0,f=0,d=0,h=0,p=0,m=0;if((i=t.event.fix(r)).type="mousewheel","detail"in r&&(d=-1*r.detail),"wheelDelta"in r&&(d=r.wheelDelta),"wheelDeltaY"in r&&(d=r.wheelDeltaY),"wheelDeltaX"in r&&(f=-1*r.wheelDeltaX),"axis"in r&&r.axis===r.HORIZONTAL_AXIS&&(f=-1*d,d=0),l=0===d?f:d,"deltaY"in r&&(l=d=-1*r.deltaY),"deltaX"in r&&(f=r.deltaX,0===d&&(l=-1*f)),0!==d||0!==f){if(1===r.deltaMode){var g=t.data(this,"mousewheel-line-height");l*=g,d*=g,f*=g}else if(2===r.deltaMode){var v=t.data(this,"mousewheel-page-height");l*=v,d*=v,f*=v}if(h=Math.max(Math.abs(d),Math.abs(f)),(!n||h<n)&&(n=h,c(r,h)&&(n/=40)),c(r,h)&&(l/=40,f/=40,d/=40),l=Math[l>=1?"floor":"ceil"](l/n),f=Math[f>=1?"floor":"ceil"](f/n),d=Math[d>=1?"floor":"ceil"](d/n),a.settings.normalizeOffset&&this.getBoundingClientRect){var y=this.getBoundingClientRect();p=i.clientX-y.left,m=i.clientY-y.top}return i.deltaX=f,i.deltaY=d,i.deltaFactor=n,i.offsetX=p,i.offsetY=m,i.deltaMode=0,s.unshift(i,l,f,d),e&&clearTimeout(e),e=setTimeout(u,200),(t.event.dispatch||t.event.handle).apply(this,s)}}function u(){n=null}function c(t,e){return a.settings.adjustOldDeltas&&"mousewheel"===t.type&&e%120==0}t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})})?i.apply(e,r):i)||(t.exports=o)},function(t,e,n){(function(t,e){!function(t,e,n,i){"use strict";if(t.console=t.console||{info:function(t){}},n)if(n.fn.fancybox)console.info("fancyBox already initialized");else{var r,o={loop:!1,gutter:50,keyboard:!0,arrows:!0,infobar:!0,smallBtn:"auto",toolbar:"auto",buttons:["zoom","thumbs","close"],idleTime:3,protect:!1,modal:!1,image:{preload:!1},ajax:{settings:{data:{fancybox:!0}}},iframe:{tpl:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true" src=""></iframe>',preload:!0,css:{},attr:{scrolling:"auto"}},defaultType:"image",animationEffect:"zoom",animationDuration:366,zoomOpacity:"auto",transitionEffect:"fade",transitionDuration:366,slideClass:"",baseClass:"",baseTpl:'<div class="fancybox-container" role="dialog" tabindex="-1"><div class="fancybox-bg"></div><div class="fancybox-inner"><div class="fancybox-infobar"><span data-fancybox-index></span>&nbsp;/&nbsp;<span data-fancybox-count></span></div><div class="fancybox-toolbar">{{buttons}}</div><div class="fancybox-navigation">{{arrows}}</div><div class="fancybox-stage"></div><div class="fancybox-caption"></div></div></div>',spinnerTpl:'<div class="fancybox-loading"></div>',errorTpl:'<div class="fancybox-error"><p>{{ERROR}}</p></div>',btnTpl:{download:'<a download data-fancybox-download class="fancybox-button fancybox-button--download" title="{{DOWNLOAD}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M13,16 L20,23 L27,16 M20,7 L20,23 M10,24 L10,28 L30,28 L30,24" /></svg></a>',zoom:'<button data-fancybox-zoom class="fancybox-button fancybox-button--zoom" title="{{ZOOM}}"><svg viewBox="0 0 40 40"><path d="M18,17 m-8,0 a8,8 0 1,0 16,0 a8,8 0 1,0 -16,0 M24,22 L31,29" /></svg></button>',close:'<button data-fancybox-close class="fancybox-button fancybox-button--close" title="{{CLOSE}}"><svg viewBox="0 0 40 40"><path d="M10,10 L30,30 M30,10 L10,30" /></svg></button>',smallBtn:'<button data-fancybox-close class="fancybox-close-small" title="{{CLOSE}}"><svg viewBox="0 0 32 32"><path d="M10,10 L22,22 M22,10 L10,22"></path></svg></button>',arrowLeft:'<a data-fancybox-prev class="fancybox-button fancybox-button--arrow_left" title="{{PREV}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M18,12 L10,20 L18,28 M10,20 L30,20"></path></svg></a>',arrowRight:'<a data-fancybox-next class="fancybox-button fancybox-button--arrow_right" title="{{NEXT}}" href="javascript:;"><svg viewBox="0 0 40 40"><path d="M10,20 L30,20 M22,12 L30,20 L22,28"></path></svg></a>'},parentEl:"body",autoFocus:!1,backFocus:!0,trapFocus:!0,fullScreen:{autoStart:!1},touch:{vertical:!0,momentum:!0},hash:null,media:{},slideShow:{autoStart:!1,speed:4e3},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"},wheel:"auto",onInit:n.noop,beforeLoad:n.noop,afterLoad:n.noop,beforeShow:n.noop,afterShow:n.noop,beforeClose:n.noop,afterClose:n.noop,onActivate:n.noop,onDeactivate:n.noop,clickContent:function(t,e){return"image"===t.type&&"zoom"},clickSlide:"close",clickOutside:"close",dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1,mobile:{idleTime:!1,clickContent:function(t,e){return"image"===t.type&&"toggleControls"},clickSlide:function(t,e){return"image"===t.type?"toggleControls":"close"},dblclickContent:function(t,e){return"image"===t.type&&"zoom"},dblclickSlide:function(t,e){return"image"===t.type&&"zoom"}},lang:"en",i18n:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow",FULL_SCREEN:"Full screen",THUMBS:"Thumbnails",DOWNLOAD:"Download",SHARE:"Share",ZOOM:"Zoom"},de:{CLOSE:"Schliessen",NEXT:"Weiter",PREV:"ZurÃ¼ck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es spÃ¤ter nochmal.",PLAY_START:"Diaschau starten",PLAY_STOP:"Diaschau beenden",FULL_SCREEN:"Vollbild",THUMBS:"Vorschaubilder",DOWNLOAD:"Herunterladen",SHARE:"Teilen",ZOOM:"MaÃstab"}}},s=n(t),a=n(e),l=0,u=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},c=function(){var t,n=e.createElement("fakeelement"),i={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(t in i)if(void 0!==n.style[t])return i[t];return"transitionend"}(),f=function(t){return t&&t.length&&t[0].offsetHeight},d=function(t,e){var i=n.extend(!0,{},t,e);return n.each(e,(function(t,e){n.isArray(e)&&(i[t]=e)})),i},h=function(t,i,r){this.opts=d({index:r},n.fancybox.defaults),n.isPlainObject(i)&&(this.opts=d(this.opts,i)),n.fancybox.isMobile&&(this.opts=d(this.opts,this.opts.mobile)),this.id=this.opts.id||++l,this.currIndex=parseInt(this.opts.index,10)||0,this.prevIndex=null,this.prevPos=null,this.currPos=0,this.firstRun=!0,this.group=[],this.slides={},this.addContent(t),this.group.length&&(this.$lastFocus=n(e.activeElement).trigger("blur"),this.init())};n.extend(h.prototype,{init:function(){var i,r,o,s=this,a=s.group[s.currIndex].opts,l=n.fancybox.scrollbarWidth;n.fancybox.getInstance()||!1===a.hideScrollbar||(n("body").addClass("fancybox-active"),!n.fancybox.isMobile&&e.body.scrollHeight>t.innerHeight&&(void 0===l&&(i=n('<div style="width:100px;height:100px;overflow:scroll;" />').appendTo("body"),l=n.fancybox.scrollbarWidth=i[0].offsetWidth-i[0].clientWidth,i.remove()),n("head").append('<style id="fancybox-style-noscroll" type="text/css">.compensate-for-scrollbar { margin-right: '+l+"px; }</style>"),n("body").addClass("compensate-for-scrollbar"))),o="",n.each(a.buttons,(function(t,e){o+=a.btnTpl[e]||""})),r=n(s.translate(s,a.baseTpl.replace("{{buttons}}",o).replace("{{arrows}}",a.btnTpl.arrowLeft+a.btnTpl.arrowRight))).attr("id","fancybox-container-"+s.id).addClass("fancybox-is-hidden").addClass(a.baseClass).data("FancyBox",s).appendTo(a.parentEl),s.$refs={container:r},["bg","inner","infobar","toolbar","stage","caption","navigation"].forEach((function(t){s.$refs[t]=r.find(".fancybox-"+t)})),s.trigger("onInit"),s.activate(),s.jumpTo(s.currIndex)},translate:function(t,e){var n=t.opts.i18n[t.opts.lang];return e.replace(/\{\{(\w+)\}\}/g,(function(t,e){var i=n[e];return void 0===i?t:i}))},addContent:function(t){var e,i=this,r=n.makeArray(t);n.each(r,(function(t,e){var r,o,s,a,l,u={},c={};n.isPlainObject(e)?(u=e,c=e.opts||e):"object"===n.type(e)&&n(e).length?(c=(r=n(e)).data()||{},(c=n.extend(!0,{},c,c.options)).$orig=r,u.src=i.opts.src||c.src||r.attr("href"),u.type||u.src||(u.type="inline",u.src=e)):u={type:"html",src:e+""},u.opts=n.extend(!0,{},i.opts,c),n.isArray(c.buttons)&&(u.opts.buttons=c.buttons),o=u.type||u.opts.type,a=u.src||"",!o&&a&&((s=a.match(/\.(mp4|mov|ogv)((\?|#).*)?$/i))?(o="video",u.opts.videoFormat||(u.opts.videoFormat="video/"+("ogv"===s[1]?"ogg":s[1]))):a.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?o="image":a.match(/\.(pdf)((\?|#).*)?$/i)?o="iframe":"#"===a.charAt(0)&&(o="inline")),o?u.type=o:i.trigger("objectNeedsType",u),u.contentType||(u.contentType=n.inArray(u.type,["html","inline","ajax"])>-1?"html":u.type),u.index=i.group.length,"auto"==u.opts.smallBtn&&(u.opts.smallBtn=n.inArray(u.type,["html","inline","ajax"])>-1),"auto"===u.opts.toolbar&&(u.opts.toolbar=!u.opts.smallBtn),u.opts.$trigger&&u.index===i.opts.index&&(u.opts.$thumb=u.opts.$trigger.find("img:first")),u.opts.$thumb&&u.opts.$thumb.length||!u.opts.$orig||(u.opts.$thumb=u.opts.$orig.find("img:first")),"function"===n.type(u.opts.caption)&&(u.opts.caption=u.opts.caption.apply(e,[i,u])),"function"===n.type(i.opts.caption)&&(u.opts.caption=i.opts.caption.apply(e,[i,u])),u.opts.caption instanceof n||(u.opts.caption=void 0===u.opts.caption?"":u.opts.caption+""),"ajax"===u.type&&(l=a.split(/\s+/,2)).length>1&&(u.src=l.shift(),u.opts.filter=l.shift()),u.opts.modal&&(u.opts=n.extend(!0,u.opts,{infobar:0,toolbar:0,smallBtn:0,keyboard:0,slideShow:0,fullScreen:0,thumbs:0,touch:0,clickContent:!1,clickSlide:!1,clickOutside:!1,dblclickContent:!1,dblclickSlide:!1,dblclickOutside:!1})),i.group.push(u)})),Object.keys(i.slides).length&&(i.updateControls(),(e=i.Thumbs)&&e.isActive&&(e.create(),e.focus()))},addEvents:function(){var i=this;i.removeEvents(),i.$refs.container.on("click.fb-close","[data-fancybox-close]",(function(t){t.stopPropagation(),t.preventDefault(),i.close(t)})).on("touchstart.fb-prev click.fb-prev","[data-fancybox-prev]",(function(t){t.stopPropagation(),t.preventDefault(),i.previous()})).on("touchstart.fb-next click.fb-next","[data-fancybox-next]",(function(t){t.stopPropagation(),t.preventDefault(),i.next()})).on("click.fb","[data-fancybox-zoom]",(function(t){i[i.isScaledDown()?"scaleToActual":"scaleToFit"]()})),s.on("orientationchange.fb resize.fb",(function(t){t&&t.originalEvent&&"resize"===t.originalEvent.type?u((function(){i.update()})):(i.$refs.stage.hide(),setTimeout((function(){i.$refs.stage.show(),i.update()}),n.fancybox.isMobile?600:250))})),a.on("focusin.fb",(function(t){var i=n.fancybox?n.fancybox.getInstance():null;i.isClosing||!i.current||!i.current.opts.trapFocus||n(t.target).hasClass("fancybox-container")||n(t.target).is(e)||i&&"fixed"!==n(t.target).css("position")&&!i.$refs.container.has(t.target).length&&(t.stopPropagation(),i.focus())})),a.on("keydown.fb",(function(t){var e=i.current,r=t.keyCode||t.which;if(e&&e.opts.keyboard&&!(t.ctrlKey||t.altKey||t.shiftKey||n(t.target).is("input")||n(t.target).is("textarea")))return 8===r||27===r?(t.preventDefault(),void i.close(t)):37===r||38===r?(t.preventDefault(),void i.previous()):39===r||40===r?(t.preventDefault(),void i.next()):void i.trigger("afterKeydown",t,r)})),i.group[i.currIndex].opts.idleTime&&(i.idleSecondsCounter=0,a.on("mousemove.fb-idle mouseleave.fb-idle mousedown.fb-idle touchstart.fb-idle touchmove.fb-idle scroll.fb-idle keydown.fb-idle",(function(t){i.idleSecondsCounter=0,i.isIdle&&i.showControls(),i.isIdle=!1})),i.idleInterval=t.setInterval((function(){i.idleSecondsCounter++,i.idleSecondsCounter>=i.group[i.currIndex].opts.idleTime&&!i.isDragging&&(i.isIdle=!0,i.idleSecondsCounter=0,i.hideControls())}),1e3))},removeEvents:function(){s.off("orientationchange.fb resize.fb"),a.off("focusin.fb keydown.fb .fb-idle"),this.$refs.container.off(".fb-close .fb-prev .fb-next"),this.idleInterval&&(t.clearInterval(this.idleInterval),this.idleInterval=null)},previous:function(t){return this.jumpTo(this.currPos-1,t)},next:function(t){return this.jumpTo(this.currPos+1,t)},jumpTo:function(t,e){var i,r,o,s,a,l,u,c=this,d=c.group.length;if(!(c.isDragging||c.isClosing||c.isAnimating&&c.firstRun)){if(t=parseInt(t,10),!(r=c.current?c.current.opts.loop:c.opts.loop)&&(t<0||t>=d))return!1;if(i=c.firstRun=!Object.keys(c.slides).length,!(d<2&&!i&&c.isDragging)){if(s=c.current,c.prevIndex=c.currIndex,c.prevPos=c.currPos,o=c.createSlide(t),d>1&&((r||o.index>0)&&c.createSlide(t-1),(r||o.index<d-1)&&c.createSlide(t+1)),c.current=o,c.currIndex=o.index,c.currPos=o.pos,c.trigger("beforeShow",i),c.updateControls(),l=n.fancybox.getTranslate(o.$slide),o.isMoved=(0!==l.left||0!==l.top)&&!o.$slide.hasClass("fancybox-animated"),o.forcedDuration=void 0,n.isNumeric(e)?o.forcedDuration=e:e=o.opts[i?"animationDuration":"transitionDuration"],e=parseInt(e,10),i)return o.opts.animationEffect&&e&&c.$refs.container.css("transition-duration",e+"ms"),c.$refs.container.removeClass("fancybox-is-hidden"),f(c.$refs.container),c.$refs.container.addClass("fancybox-is-open"),f(c.$refs.container),o.$slide.addClass("fancybox-slide--previous"),c.loadSlide(o),o.$slide.removeClass("fancybox-slide--previous").addClass("fancybox-slide--current"),void c.preload("image");n.each(c.slides,(function(t,e){n.fancybox.stop(e.$slide)})),o.$slide.removeClass("fancybox-slide--next fancybox-slide--previous").addClass("fancybox-slide--current"),o.isMoved?(a=Math.round(o.$slide.width()),n.each(c.slides,(function(t,i){var r=i.pos-o.pos;n.fancybox.animate(i.$slide,{top:0,left:r*a+r*i.opts.gutter},e,(function(){i.$slide.removeAttr("style").removeClass("fancybox-slide--next fancybox-slide--previous"),i.pos===c.currPos&&(o.isMoved=!1,c.complete())}))}))):c.$refs.stage.children().removeAttr("style"),o.isLoaded?c.revealContent(o):c.loadSlide(o),c.preload("image"),s.pos!==o.pos&&(u="fancybox-slide--"+(s.pos>o.pos?"next":"previous"),s.$slide.removeClass("fancybox-slide--complete fancybox-slide--current fancybox-slide--next fancybox-slide--previous"),s.isComplete=!1,e&&(o.isMoved||o.opts.transitionEffect)&&(o.isMoved?s.$slide.addClass(u):(u="fancybox-animated "+u+" fancybox-fx-"+o.opts.transitionEffect,n.fancybox.animate(s.$slide,u,e,(function(){s.$slide.removeClass(u).removeAttr("style")})))))}}},createSlide:function(t){var e,i;return i=(i=t%this.group.length)<0?this.group.length+i:i,!this.slides[t]&&this.group[i]&&(e=n('<div class="fancybox-slide"></div>').appendTo(this.$refs.stage),this.slides[t]=n.extend(!0,{},this.group[i],{pos:t,$slide:e,isLoaded:!1}),this.updateSlide(this.slides[t])),this.slides[t]},scaleToActual:function(t,e,i){var r,o,s,a,l,u=this,c=u.current,f=c.$content,d=n.fancybox.getTranslate(c.$slide).width,h=n.fancybox.getTranslate(c.$slide).height,p=c.width,m=c.height;!u.isAnimating&&f&&"image"==c.type&&c.isLoaded&&!c.hasError&&(n.fancybox.stop(f),u.isAnimating=!0,t=void 0===t?.5*d:t,e=void 0===e?.5*h:e,(r=n.fancybox.getTranslate(f)).top-=n.fancybox.getTranslate(c.$slide).top,r.left-=n.fancybox.getTranslate(c.$slide).left,a=p/r.width,l=m/r.height,o=.5*d-.5*p,s=.5*h-.5*m,p>d&&((o=r.left*a-(t*a-t))>0&&(o=0),o<d-p&&(o=d-p)),m>h&&((s=r.top*l-(e*l-e))>0&&(s=0),s<h-m&&(s=h-m)),u.updateCursor(p,m),n.fancybox.animate(f,{top:s,left:o,scaleX:a,scaleY:l},i||330,(function(){u.isAnimating=!1})),u.SlideShow&&u.SlideShow.isActive&&u.SlideShow.stop())},scaleToFit:function(t){var e,i=this,r=i.current,o=r.$content;!i.isAnimating&&o&&"image"==r.type&&r.isLoaded&&!r.hasError&&(n.fancybox.stop(o),i.isAnimating=!0,e=i.getFitPos(r),i.updateCursor(e.width,e.height),n.fancybox.animate(o,{top:e.top,left:e.left,scaleX:e.width/o.width(),scaleY:e.height/o.height()},t||330,(function(){i.isAnimating=!1})))},getFitPos:function(t){var e,n,i,r,o,s=t.$content,a=t.width||t.opts.width,l=t.height||t.opts.height,u={};return!!(t.isLoaded&&s&&s.length)&&(r={top:parseInt(t.$slide.css("paddingTop"),10),right:parseInt(t.$slide.css("paddingRight"),10),bottom:parseInt(t.$slide.css("paddingBottom"),10),left:parseInt(t.$slide.css("paddingLeft"),10)},e=parseInt(this.$refs.stage.width(),10)-(r.left+r.right),n=parseInt(this.$refs.stage.height(),10)-(r.top+r.bottom),a&&l||(a=e,l=n),i=Math.min(1,e/a,n/l),a=Math.floor(i*a),l=Math.floor(i*l),"image"===t.type?(u.top=Math.floor(.5*(n-l))+r.top,u.left=Math.floor(.5*(e-a))+r.left):"video"===t.contentType&&(l>a/(o=t.opts.width&&t.opts.height?a/l:t.opts.ratio||16/9)?l=a/o:a>l*o&&(a=l*o)),u.width=a,u.height=l,u)},update:function(){var t=this;n.each(t.slides,(function(e,n){t.updateSlide(n)}))},updateSlide:function(t,e){var i=t&&t.$content,r=t.width||t.opts.width,o=t.height||t.opts.height;i&&(r||o||"video"===t.contentType)&&!t.hasError&&(n.fancybox.stop(i),n.fancybox.setTranslate(i,this.getFitPos(t)),t.pos===this.currPos&&(this.isAnimating=!1,this.updateCursor())),t.$slide.trigger("refresh"),this.$refs.toolbar.toggleClass("compensate-for-scrollbar",t.$slide.get(0).scrollHeight>t.$slide.get(0).clientHeight),this.trigger("onUpdate",t)},centerSlide:function(t,e){var i,r;this.current&&(i=Math.round(t.$slide.width()),r=t.pos-this.current.pos,n.fancybox.animate(t.$slide,{top:0,left:r*i+r*t.opts.gutter,opacity:1},void 0===e?0:e,null,!1))},updateCursor:function(t,e){var i,r=this.current,o=this.$refs.container.removeClass("fancybox-is-zoomable fancybox-can-zoomIn fancybox-can-drag fancybox-can-zoomOut");r&&!this.isClosing&&(i=this.isZoomable(),o.toggleClass("fancybox-is-zoomable",i),n("[data-fancybox-zoom]").prop("disabled",!i),i&&("zoom"===r.opts.clickContent||n.isFunction(r.opts.clickContent)&&"zoom"===r.opts.clickContent(r))?this.isScaledDown(t,e)?o.addClass("fancybox-can-zoomIn"):r.opts.touch?o.addClass("fancybox-can-drag"):o.addClass("fancybox-can-zoomOut"):r.opts.touch&&"video"!==r.contentType&&o.addClass("fancybox-can-drag"))},isZoomable:function(){var t,e=this.current;if(e&&!this.isClosing&&"image"===e.type&&!e.hasError){if(!e.isLoaded)return!0;if(t=this.getFitPos(e),e.width>t.width||e.height>t.height)return!0}return!1},isScaledDown:function(t,e){var i=!1,r=this.current,o=r.$content;return void 0!==t&&void 0!==e?i=t<r.width&&e<r.height:o&&(i=(i=n.fancybox.getTranslate(o)).width<r.width&&i.height<r.height),i},canPan:function(){var t,e=!1,n=this.current;return"image"===n.type&&(t=n.$content)&&!n.hasError&&(e=this.getFitPos(n),e=Math.abs(t.width()-e.width)>1||Math.abs(t.height()-e.height)>1),e},loadSlide:function(t){var e,i,r,o=this;if(!t.isLoading&&!t.isLoaded){switch(t.isLoading=!0,o.trigger("beforeLoad",t),e=t.type,(i=t.$slide).off("refresh").trigger("onReset").addClass(t.opts.slideClass),e){case"image":o.setImage(t);break;case"iframe":o.setIframe(t);break;case"html":o.setContent(t,t.src||t.content);break;case"video":o.setContent(t,'<video class="fancybox-video" controls controlsList="nodownload"><source src="'+t.src+'" type="'+t.opts.videoFormat+"\">Your browser doesn't support HTML5 video</video");break;case"inline":n(t.src).length?o.setContent(t,n(t.src)):o.setError(t);break;case"ajax":o.showLoading(t),r=n.ajax(n.extend({},t.opts.ajax.settings,{url:t.src,success:function(e,n){"success"===n&&o.setContent(t,e)},error:function(e,n){e&&"abort"!==n&&o.setError(t)}})),i.one("onReset",(function(){r.abort()}));break;default:o.setError(t)}return!0}},setImage:function(e){var i,r,o,s,a,l=this,u=e.opts.srcset||e.opts.image.srcset;if(e.timouts=setTimeout((function(){var t=e.$image;!e.isLoading||t&&t[0].complete||e.hasError||l.showLoading(e)}),350),u){s=t.devicePixelRatio||1,a=t.innerWidth*s,(o=u.split(",").map((function(t){var e={};return t.trim().split(/\s+/).forEach((function(t,n){var i=parseInt(t.substring(0,t.length-1),10);if(0===n)return e.url=t;i&&(e.value=i,e.postfix=t[t.length-1])})),e}))).sort((function(t,e){return t.value-e.value}));for(var c=0;c<o.length;c++){var f=o[c];if("w"===f.postfix&&f.value>=a||"x"===f.postfix&&f.value>=s){r=f;break}}!r&&o.length&&(r=o[o.length-1]),r&&(e.src=r.url,e.width&&e.height&&"w"==r.postfix&&(e.height=e.width/e.height*r.value,e.width=r.value),e.opts.srcset=u)}e.$content=n('<div class="fancybox-content"></div>').addClass("fancybox-is-hidden").appendTo(e.$slide.addClass("fancybox-slide--image")),i=e.opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),!1!==e.opts.preload&&e.opts.width&&e.opts.height&&i&&(e.width=e.opts.width,e.height=e.opts.height,e.$ghost=n("<img />").one("error",(function(){n(this).remove(),e.$ghost=null})).one("load",(function(){l.afterLoad(e)})).addClass("fancybox-image").appendTo(e.$content).attr("src",i)),l.setBigImage(e)},setBigImage:function(t){var e=this,i=n("<img />");t.$image=i.one("error",(function(){e.setError(t)})).one("load",(function(){var n;t.$ghost||(e.resolveImageSlideSize(t,this.naturalWidth,this.naturalHeight),e.afterLoad(t)),t.timouts&&(clearTimeout(t.timouts),t.timouts=null),e.isClosing||(t.opts.srcset&&((n=t.opts.sizes)&&"auto"!==n||(n=(t.width/t.height>1&&s.width()/s.height()>1?"100":Math.round(t.width/t.height*100))+"vw"),i.attr("sizes",n).attr("srcset",t.opts.srcset)),t.$ghost&&setTimeout((function(){t.$ghost&&!e.isClosing&&t.$ghost.hide()}),Math.min(300,Math.max(1e3,t.height/1600))),e.hideLoading(t))})).addClass("fancybox-image").attr("src",t.src).appendTo(t.$content),(i[0].complete||"complete"==i[0].readyState)&&i[0].naturalWidth&&i[0].naturalHeight?i.trigger("load"):i[0].error&&i.trigger("error")},resolveImageSlideSize:function(t,e,n){var i=parseInt(t.opts.width,10),r=parseInt(t.opts.height,10);t.width=e,t.height=n,i>0&&(t.width=i,t.height=Math.floor(i*n/e)),r>0&&(t.width=Math.floor(r*e/n),t.height=r)},setIframe:function(t){var e,i=this,r=t.opts.iframe,o=t.$slide;t.$content=n('<div class="fancybox-content'+(r.preload?" fancybox-is-hidden":"")+'"></div>').css(r.css).appendTo(o),o.addClass("fancybox-slide--"+t.contentType),t.$iframe=e=n(r.tpl.replace(/\{rnd\}/g,(new Date).getTime())).attr(r.attr).appendTo(t.$content),r.preload?(i.showLoading(t),e.on("load.fb error.fb",(function(e){this.isReady=1,t.$slide.trigger("refresh"),i.afterLoad(t)})),o.on("refresh.fb",(function(){var n,i=t.$content,o=r.css.width,s=r.css.height;if(1===e[0].isReady){try{n=e.contents().find("body")}catch(t){}n&&n.length&&n.children().length&&(i.css({width:"",height:""}),void 0===o&&(o=Math.ceil(Math.max(n[0].clientWidth,n.outerWidth(!0)))),o&&i.width(o),void 0===s&&(s=Math.ceil(Math.max(n[0].clientHeight,n.outerHeight(!0)))),s&&i.height(s)),i.removeClass("fancybox-is-hidden")}}))):this.afterLoad(t),e.attr("src",t.src),o.one("onReset",(function(){try{n(this).find("iframe").hide().unbind().attr("src","//about:blank")}catch(t){}n(this).off("refresh.fb").empty(),t.isLoaded=!1}))},setContent:function(t,e){var i;this.isClosing||(this.hideLoading(t),t.$content&&n.fancybox.stop(t.$content),t.$slide.empty(),(i=e)&&i.hasOwnProperty&&i instanceof n&&e.parent().length?(e.parent().parent(".fancybox-slide--inline").trigger("onReset"),t.$placeholder=n("<div>").hide().insertAfter(e),e.css("display","inline-block")):t.hasError||("string"===n.type(e)&&3===(e=n("<div>").append(n.trim(e)).contents())[0].nodeType&&(e=n("<div>").html(e)),t.opts.filter&&(e=n("<div>").html(e).find(t.opts.filter))),t.$slide.one("onReset",(function(){n(this).find("video,audio").trigger("pause"),t.$placeholder&&(t.$placeholder.after(e.hide()).remove(),t.$placeholder=null),t.$smallBtn&&(t.$smallBtn.remove(),t.$smallBtn=null),t.hasError||(n(this).empty(),t.isLoaded=!1)})),n(e).appendTo(t.$slide),n(e).is("video,audio")&&(n(e).addClass("fancybox-video"),n(e).wrap("<div></div>"),t.contentType="video",t.opts.width=t.opts.width||n(e).attr("width"),t.opts.height=t.opts.height||n(e).attr("height")),t.$content=t.$slide.children().filter("div,form,main,video,audio").first().addClass("fancybox-content"),t.$slide.addClass("fancybox-slide--"+t.contentType),this.afterLoad(t))},setError:function(t){t.hasError=!0,t.$slide.trigger("onReset").removeClass("fancybox-slide--"+t.contentType).addClass("fancybox-slide--error"),t.contentType="html",this.setContent(t,this.translate(t,t.opts.errorTpl)),t.pos===this.currPos&&(this.isAnimating=!1)},showLoading:function(t){(t=t||this.current)&&!t.$spinner&&(t.$spinner=n(this.translate(this,this.opts.spinnerTpl)).appendTo(t.$slide))},hideLoading:function(t){(t=t||this.current)&&t.$spinner&&(t.$spinner.remove(),delete t.$spinner)},afterLoad:function(t){this.isClosing||(t.isLoading=!1,t.isLoaded=!0,this.trigger("afterLoad",t),this.hideLoading(t),t.pos===this.currPos&&this.updateCursor(),!t.opts.smallBtn||t.$smallBtn&&t.$smallBtn.length||(t.$smallBtn=n(this.translate(t,t.opts.btnTpl.smallBtn)).prependTo(t.$content)),t.opts.protect&&t.$content&&!t.hasError&&(t.$content.on("contextmenu.fb",(function(t){return 2==t.button&&t.preventDefault(),!0})),"image"===t.type&&n('<div class="fancybox-spaceball"></div>').appendTo(t.$content)),this.revealContent(t))},revealContent:function(t){var e,i,r,o,s=this,a=t.$slide,l=!1,u=!1;return e=t.opts[s.firstRun?"animationEffect":"transitionEffect"],r=t.opts[s.firstRun?"animationDuration":"transitionDuration"],r=parseInt(void 0===t.forcedDuration?r:t.forcedDuration,10),t.pos===s.currPos&&(t.isComplete?e=!1:s.isAnimating=!0),!t.isMoved&&t.pos===s.currPos&&r||(e=!1),"zoom"===e&&(t.pos===s.currPos&&r&&"image"===t.type&&!t.hasError&&(u=s.getThumbPos(t))?l=s.getFitPos(t):e="fade"),"zoom"===e?(l.scaleX=l.width/u.width,l.scaleY=l.height/u.height,"auto"==(o=t.opts.zoomOpacity)&&(o=Math.abs(t.width/t.height-u.width/u.height)>.1),o&&(u.opacity=.1,l.opacity=1),n.fancybox.setTranslate(t.$content.removeClass("fancybox-is-hidden"),u),f(t.$content),void n.fancybox.animate(t.$content,l,r,(function(){s.isAnimating=!1,s.complete()}))):(s.updateSlide(t),e?(n.fancybox.stop(a),i="fancybox-animated fancybox-slide--"+(t.pos>=s.prevPos?"next":"previous")+" fancybox-fx-"+e,a.removeAttr("style").removeClass("fancybox-slide--current fancybox-slide--next fancybox-slide--previous").addClass(i),t.$content.removeClass("fancybox-is-hidden"),f(a),void n.fancybox.animate(a,"fancybox-slide--current",r,(function(e){a.removeClass(i).removeAttr("style"),t.pos===s.currPos&&s.complete()}),!0)):(f(a),t.$content.removeClass("fancybox-is-hidden"),void(t.pos===s.currPos&&s.complete())))},getThumbPos:function(i){var r,o=!1,s=i.opts.$thumb,a=s&&s.length&&s[0].ownerDocument===e?s.offset():0;return a&&function(e){for(var i=e[0],r=i.getBoundingClientRect(),o=[];null!==i.parentElement;)"hidden"!==n(i.parentElement).css("overflow")&&"auto"!==n(i.parentElement).css("overflow")||o.push(i.parentElement.getBoundingClientRect()),i=i.parentElement;return o.every((function(t){var e=Math.min(r.right,t.right)-Math.max(r.left,t.left),n=Math.min(r.bottom,t.bottom)-Math.max(r.top,t.top);return e>0&&n>0}))&&r.bottom>0&&r.right>0&&r.left<n(t).width()&&r.top<n(t).height()}(s)&&(r=this.$refs.stage.offset(),o={top:a.top-r.top+parseFloat(s.css("border-top-width")||0),left:a.left-r.left+parseFloat(s.css("border-left-width")||0),width:s.width(),height:s.height(),scaleX:1,scaleY:1}),o},complete:function(){var t=this,i=t.current,r={};!i.isMoved&&i.isLoaded&&(i.isComplete||(i.isComplete=!0,i.$slide.siblings().trigger("onReset"),t.preload("inline"),f(i.$slide),i.$slide.addClass("fancybox-slide--complete"),n.each(t.slides,(function(e,i){i.pos>=t.currPos-1&&i.pos<=t.currPos+1?r[i.pos]=i:i&&(n.fancybox.stop(i.$slide),i.$slide.off().remove())})),t.slides=r),t.isAnimating=!1,t.updateCursor(),t.trigger("afterShow"),i.$slide.find("video,audio").filter(":visible:first").trigger("play"),(n(e.activeElement).is("[disabled]")||i.opts.autoFocus&&"image"!=i.type&&"iframe"!==i.type)&&t.focus())},preload:function(t){var e=this.slides[this.currPos+1],n=this.slides[this.currPos-1];e&&e.type===t&&this.loadSlide(e),n&&n.type===t&&this.loadSlide(n)},focus:function(){var t,e=this.current;this.isClosing||e&&e.isComplete&&e.$content&&((t=e.$content.find("input[autofocus]:enabled:visible:first")).length||(t=e.$content.find("button,:input,[tabindex],a").filter(":enabled:visible:first")),(t=t&&t.length?t:e.$content).trigger("focus"))},activate:function(){var t=this;n(".fancybox-container").each((function(){var e=n(this).data("FancyBox");e&&e.id!==t.id&&!e.isClosing&&(e.trigger("onDeactivate"),e.removeEvents(),e.isVisible=!1)})),t.isVisible=!0,(t.current||t.isIdle)&&(t.update(),t.updateControls()),t.trigger("onActivate"),t.addEvents()},close:function(t,e){var i,r,o,s,a,l,d,h=this,p=h.current,m=function(){h.cleanUp(t)};return!h.isClosing&&(h.isClosing=!0,!1===h.trigger("beforeClose",t)?(h.isClosing=!1,u((function(){h.update()})),!1):(h.removeEvents(),p.timouts&&clearTimeout(p.timouts),o=p.$content,i=p.opts.animationEffect,r=n.isNumeric(e)?e:i?p.opts.animationDuration:0,p.$slide.off(c).removeClass("fancybox-slide--complete fancybox-slide--next fancybox-slide--previous fancybox-animated"),p.$slide.siblings().trigger("onReset").remove(),r&&h.$refs.container.removeClass("fancybox-is-open").addClass("fancybox-is-closing"),h.hideLoading(p),h.hideControls(),h.updateCursor(),"zoom"!==i||!0!==t&&o&&r&&"image"===p.type&&!p.hasError&&(d=h.getThumbPos(p))||(i="fade"),"zoom"===i?(n.fancybox.stop(o),l={top:(s=n.fancybox.getTranslate(o)).top,left:s.left,scaleX:s.width/d.width,scaleY:s.height/d.height,width:d.width,height:d.height},"auto"==(a=p.opts.zoomOpacity)&&(a=Math.abs(p.width/p.height-d.width/d.height)>.1),a&&(d.opacity=0),n.fancybox.setTranslate(o,l),f(o),n.fancybox.animate(o,d,r,m),!0):(i&&r?!0===t?setTimeout(m,r):n.fancybox.animate(p.$slide.removeClass("fancybox-slide--current"),"fancybox-animated fancybox-slide--previous fancybox-fx-"+i,r,m):m(),!0)))},cleanUp:function(t){var e,i=n("body");this.current.$slide.trigger("onReset"),this.$refs.container.empty().remove(),this.trigger("afterClose",t),this.$lastFocus&&this.current.opts.backFocus&&this.$lastFocus.trigger("focus"),this.current=null,(e=n.fancybox.getInstance())?e.activate():(i.removeClass("fancybox-active compensate-for-scrollbar"),n("#fancybox-style-noscroll").remove())},trigger:function(t,e){var i,r=Array.prototype.slice.call(arguments,1),o=this,s=e&&e.opts?e:o.current;if(s?r.unshift(s):s=o,r.unshift(o),n.isFunction(s.opts[t])&&(i=s.opts[t].apply(s,r)),!1===i)return i;"afterClose"!==t&&o.$refs?o.$refs.container.trigger(t+".fb",r):a.trigger(t+".fb",r)},updateControls:function(t){var e=this.current,n=e.index,i=e.opts.caption,r=this.$refs.container,o=this.$refs.caption;e.$slide.trigger("refresh"),this.$caption=i&&i.length?o.html(i):null,this.isHiddenControls||this.isIdle||this.showControls(),r.find("[data-fancybox-count]").html(this.group.length),r.find("[data-fancybox-index]").html(n+1),r.find("[data-fancybox-prev]").toggleClass("disabled",!e.opts.loop&&n<=0),r.find("[data-fancybox-next]").toggleClass("disabled",!e.opts.loop&&n>=this.group.length-1),"image"===e.type?r.find("[data-fancybox-zoom]").show().end().find("[data-fancybox-download]").attr("href",e.opts.image.src||e.src).show():e.opts.toolbar&&r.find("[data-fancybox-download],[data-fancybox-zoom]").hide()},hideControls:function(){this.isHiddenControls=!0,this.$refs.container.removeClass("fancybox-show-infobar fancybox-show-toolbar fancybox-show-caption fancybox-show-nav")},showControls:function(){var t=this.current?this.current.opts:this.opts,e=this.$refs.container;this.isHiddenControls=!1,this.idleSecondsCounter=0,e.toggleClass("fancybox-show-toolbar",!(!t.toolbar||!t.buttons)).toggleClass("fancybox-show-infobar",!!(t.infobar&&this.group.length>1)).toggleClass("fancybox-show-nav",!!(t.arrows&&this.group.length>1)).toggleClass("fancybox-is-modal",!!t.modal),this.$caption?e.addClass("fancybox-show-caption "):e.removeClass("fancybox-show-caption")},toggleControls:function(){this.isHiddenControls?this.showControls():this.hideControls()}}),n.fancybox={version:"3.3.5",defaults:o,getInstance:function(t){var e=n('.fancybox-container:not(".fancybox-is-closing"):last').data("FancyBox"),i=Array.prototype.slice.call(arguments,1);return e instanceof h&&("string"===n.type(t)?e[t].apply(e,i):"function"===n.type(t)&&t.apply(e,i),e)},open:function(t,e,n){return new h(t,e,n)},close:function(t){var e=this.getInstance();e&&(e.close(),!0===t&&this.close())},destroy:function(){this.close(!0),a.add("body").off("click.fb-start","**")},isMobile:void 0!==e.createTouch&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),use3d:(r=e.createElement("div"),t.getComputedStyle&&t.getComputedStyle(r)&&t.getComputedStyle(r).getPropertyValue("transform")&&!(e.documentMode&&e.documentMode<11)),getTranslate:function(t){var e;return!(!t||!t.length)&&{top:(e=t[0].getBoundingClientRect()).top||0,left:e.left||0,width:e.width,height:e.height,opacity:parseFloat(t.css("opacity"))}},setTranslate:function(t,e){var n="",i={};if(t&&e)return void 0===e.left&&void 0===e.top||(n=(void 0===e.left?t.position().left:e.left)+"px, "+(void 0===e.top?t.position().top:e.top)+"px",n=this.use3d?"translate3d("+n+", 0px)":"translate("+n+")"),void 0!==e.scaleX&&void 0!==e.scaleY&&(n=(n.length?n+" ":"")+"scale("+e.scaleX+", "+e.scaleY+")"),n.length&&(i.transform=n),void 0!==e.opacity&&(i.opacity=e.opacity),void 0!==e.width&&(i.width=e.width),void 0!==e.height&&(i.height=e.height),t.css(i)},animate:function(t,e,i,r,o){var s=!1;n.isFunction(i)&&(r=i,i=null),n.isPlainObject(e)||t.removeAttr("style"),n.fancybox.stop(t),t.on(c,(function(i){(!i||!i.originalEvent||t.is(i.originalEvent.target)&&"z-index"!=i.originalEvent.propertyName)&&(n.fancybox.stop(t),s&&n.fancybox.setTranslate(t,s),n.isPlainObject(e)?!1===o&&t.removeAttr("style"):!0!==o&&t.removeClass(e),n.isFunction(r)&&r(i))})),n.isNumeric(i)&&t.css("transition-duration",i+"ms"),n.isPlainObject(e)?(void 0!==e.scaleX&&void 0!==e.scaleY&&(s=n.extend({},e,{width:t.width()*e.scaleX,height:t.height()*e.scaleY,scaleX:1,scaleY:1}),delete e.width,delete e.height,t.parent().hasClass("fancybox-slide--image")&&t.parent().addClass("fancybox-is-scaling")),n.fancybox.setTranslate(t,e)):t.addClass(e),t.data("timer",setTimeout((function(){t.trigger("transitionend")}),i+16))},stop:function(t){t&&t.length&&(clearTimeout(t.data("timer")),t.off("transitionend").css("transition-duration",""),t.parent().removeClass("fancybox-is-scaling"))}},n.fn.fancybox=function(t){var e;return(e=(t=t||{}).selector||!1)?n("body").off("click.fb-start",e).on("click.fb-start",e,{options:t},p):this.off("click.fb-start").on("click.fb-start",{items:this,options:t},p),this},a.on("click.fb-start","[data-fancybox]",p),a.on("click.fb-start","[data-trigger]",(function(t){p(t,{$target:n('[data-fancybox="'+n(t.currentTarget).attr("data-trigger")+'"]').eq(n(t.currentTarget).attr("data-index")||0),$trigger:n(this)})}))}function p(t,e){var i,r,o=[],s=0;t&&t.isDefaultPrevented()||(t.preventDefault(),(r=(i=(e=t&&t.data?t.data.options:e||{}).$target||n(t.currentTarget)).attr("data-fancybox")||"")?(s=(o=(o=e.selector?n(e.selector):t.data?t.data.items:[]).length?o.filter('[data-fancybox="'+r+'"]'):n('[data-fancybox="'+r+'"]')).index(i))<0&&(s=0):o=[i],n.fancybox.open(o,e,s))}}(window,document,t||e),function(t){"use strict";var e=function(e,n,i){if(e)return i=i||"","object"===t.type(i)&&(i=t.param(i,!0)),t.each(n,(function(t,n){e=e.replace("$"+t,n||"")})),i.length&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},n={youtube:{matcher:/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(watch\?(.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(.*)|[\w-]{11}|\?listType=(.*)&list=(.*))(.*)/i,params:{autoplay:1,autohide:1,fs:1,rel:0,hd:1,wmode:"transparent",enablejsapi:1,html5:1},paramPlace:8,type:"iframe",url:"//www.youtube.com/embed/$4",thumb:"//img.youtube.com/vi/$4/hqdefault.jpg"},vimeo:{matcher:/^.+vimeo.com\/(.*\/)?([\d]+)(.*)?/,params:{autoplay:1,hd:1,show_title:1,show_byline:1,show_portrait:0,fullscreen:1,api:1},paramPlace:3,type:"iframe",url:"//player.vimeo.com/video/$2"},instagram:{matcher:/(instagr\.am|instagram\.com)\/p\/([a-zA-Z0-9_\-]+)\/?/i,type:"image",url:"//$1/p/$2/media/?size=l"},gmap_place:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(((maps\/(place\/(.*)\/)?\@(.*),(\d+.?\d+?)z))|(\?ll=))(.*)?/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/?ll="+(t[9]?t[9]+"&z="+Math.floor(t[10])+(t[12]?t[12].replace(/^\//,"&"):""):t[12]+"").replace(/\?/,"&")+"&output="+(t[12]&&t[12].indexOf("layer=c")>0?"svembed":"embed")}},gmap_search:{matcher:/(maps\.)?google\.([a-z]{2,3}(\.[a-z]{2})?)\/(maps\/search\/)(.*)/i,type:"iframe",url:function(t){return"//maps.google."+t[2]+"/maps?q="+t[5].replace("query=","q=").replace("api=1","")+"&output=embed"}}};t(document).on("objectNeedsType.fb",(function(i,r,o){var s,a,l,u,c,f,d,h=o.src||"",p=!1;s=t.extend(!0,{},n,o.opts.media),t.each(s,(function(n,i){if(l=h.match(i.matcher)){if(p=i.type,d=n,f={},i.paramPlace&&l[i.paramPlace]){"?"==(c=l[i.paramPlace])[0]&&(c=c.substring(1)),c=c.split("&");for(var r=0;r<c.length;++r){var s=c[r].split("=",2);2==s.length&&(f[s[0]]=decodeURIComponent(s[1].replace(/\+/g," ")))}}return u=t.extend(!0,{},i.params,o.opts[n],f),h="function"===t.type(i.url)?i.url.call(this,l,u,o):e(i.url,l,u),a="function"===t.type(i.thumb)?i.thumb.call(this,l,u,o):e(i.thumb,l),"youtube"===n?h=h.replace(/&t=((\d+)m)?(\d+)s/,(function(t,e,n,i){return"&start="+((n?60*parseInt(n,10):0)+parseInt(i,10))})):"vimeo"===n&&(h=h.replace("&%23","#")),!1}})),p?(o.opts.thumb||o.opts.$thumb&&o.opts.$thumb.length||(o.opts.thumb=a),"iframe"===p&&(o.opts=t.extend(!0,o.opts,{iframe:{preload:!1,attr:{scrolling:"no"}}})),t.extend(o,{type:p,src:h,origSrc:o.src,contentSource:d,contentType:"image"===p?"image":"gmap_place"==d||"gmap_search"==d?"map":"video"})):h&&(o.type=o.opts.defaultType)}))}(t||e),function(t,e,n){"use strict";var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||function(e){return t.setTimeout(e,1e3/60)},r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||function(e){t.clearTimeout(e)},o=function(e){var n=[];for(var i in e=(e=e.originalEvent||e||t.e).touches&&e.touches.length?e.touches:e.changedTouches&&e.changedTouches.length?e.changedTouches:[e])e[i].pageX?n.push({x:e[i].pageX,y:e[i].pageY}):e[i].clientX&&n.push({x:e[i].clientX,y:e[i].clientY});return n},s=function(t,e,n){return e&&t?"x"===n?t.x-e.x:"y"===n?t.y-e.y:Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)):0},a=function(t){if(t.is('a,area,button,[role="button"],input,label,select,summary,textarea,video,audio')||n.isFunction(t.get(0).onclick)||t.data("selectable"))return!0;for(var e=0,i=t[0].attributes,r=i.length;e<r;e++)if("data-fancybox-"===i[e].nodeName.substr(0,14))return!0;return!1},l=function(e){for(var n,i,r,o,s,a=!1;n=e.get(0),i=void 0,r=void 0,o=void 0,s=void 0,i=t.getComputedStyle(n)["overflow-y"],r=t.getComputedStyle(n)["overflow-x"],o=("scroll"===i||"auto"===i)&&n.scrollHeight>n.clientHeight,s=("scroll"===r||"auto"===r)&&n.scrollWidth>n.clientWidth,!(a=o||s)&&(e=e.parent()).length&&!e.hasClass("fancybox-stage")&&!e.is("body"););return a},u=function(t){this.instance=t,this.$bg=t.$refs.bg,this.$stage=t.$refs.stage,this.$container=t.$refs.container,this.destroy(),this.$container.on("touchstart.fb.touch mousedown.fb.touch",n.proxy(this,"ontouchstart"))};u.prototype.destroy=function(){this.$container.off(".fb.touch")},u.prototype.ontouchstart=function(i){var r=n(i.target),u=this.instance,c=u.current,f=c.$content,d="touchstart"==i.type;if(d&&this.$container.off("mousedown.fb.touch"),(!i.originalEvent||2!=i.originalEvent.button)&&r.length&&!a(r)&&!a(r.parent())&&(r.is("img")||!(i.originalEvent.clientX>r[0].clientWidth+r.offset().left))){if(!c||u.isAnimating||u.isClosing)return i.stopPropagation(),void i.preventDefault();this.realPoints=this.startPoints=o(i),this.startPoints.length&&(i.stopPropagation(),this.startEvent=i,this.canTap=!0,this.$target=r,this.$content=f,this.opts=c.opts.touch,this.isPanning=!1,this.isSwiping=!1,this.isZooming=!1,this.isScrolling=!1,this.startTime=(new Date).getTime(),this.distanceX=this.distanceY=this.distance=0,this.canvasWidth=Math.round(c.$slide[0].clientWidth),this.canvasHeight=Math.round(c.$slide[0].clientHeight),this.contentLastPos=null,this.contentStartPos=n.fancybox.getTranslate(this.$content)||{top:0,left:0},this.sliderStartPos=this.sliderLastPos||n.fancybox.getTranslate(c.$slide),this.stagePos=n.fancybox.getTranslate(u.$refs.stage),this.sliderStartPos.top-=this.stagePos.top,this.sliderStartPos.left-=this.stagePos.left,this.contentStartPos.top-=this.stagePos.top,this.contentStartPos.left-=this.stagePos.left,n(e).off(".fb.touch").on(d?"touchend.fb.touch touchcancel.fb.touch":"mouseup.fb.touch mouseleave.fb.touch",n.proxy(this,"ontouchend")).on(d?"touchmove.fb.touch":"mousemove.fb.touch",n.proxy(this,"ontouchmove")),n.fancybox.isMobile&&e.addEventListener("scroll",this.onscroll,!0),(this.opts||u.canPan())&&(r.is(this.$stage)||this.$stage.find(r).length)?(n.fancybox.isMobile&&(l(r)||l(r.parent()))||i.preventDefault(),(1===this.startPoints.length||c.hasError)&&(this.instance.canPan()?(n.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.isPanning=!0):this.isSwiping=!0,this.$container.addClass("fancybox-controls--isGrabbing")),2===this.startPoints.length&&"image"===c.type&&(c.isLoaded||c.$ghost)&&(this.canTap=!1,this.isSwiping=!1,this.isPanning=!1,this.isZooming=!0,n.fancybox.stop(this.$content),this.$content.css("transition-duration",""),this.centerPointStartX=.5*(this.startPoints[0].x+this.startPoints[1].x)-n(t).scrollLeft(),this.centerPointStartY=.5*(this.startPoints[0].y+this.startPoints[1].y)-n(t).scrollTop(),this.percentageOfImageAtPinchPointX=(this.centerPointStartX-this.contentStartPos.left)/this.contentStartPos.width,this.percentageOfImageAtPinchPointY=(this.centerPointStartY-this.contentStartPos.top)/this.contentStartPos.height,this.startDistanceBetweenFingers=s(this.startPoints[0],this.startPoints[1]))):r.is(".fancybox-image")&&i.preventDefault())}},u.prototype.onscroll=function(t){this.isScrolling=!0,e.removeEventListener("scroll",this.onscroll,!0)},u.prototype.ontouchmove=function(t){var e=n(t.target);void 0===t.originalEvent.buttons||0!==t.originalEvent.buttons?this.isScrolling||!e.is(this.$stage)&&!this.$stage.find(e).length?this.canTap=!1:(this.newPoints=o(t),(this.opts||this.instance.canPan())&&this.newPoints.length&&this.newPoints.length&&(this.isSwiping&&!0===this.isSwiping||t.preventDefault(),this.distanceX=s(this.newPoints[0],this.startPoints[0],"x"),this.distanceY=s(this.newPoints[0],this.startPoints[0],"y"),this.distance=s(this.newPoints[0],this.startPoints[0]),this.distance>0&&(this.isSwiping?this.onSwipe(t):this.isPanning?this.onPan():this.isZooming&&this.onZoom()))):this.ontouchend(t)},u.prototype.onSwipe=function(e){var o,s=this,a=s.isSwiping,u=s.sliderStartPos.left||0;if(!0!==a)"x"==a&&(s.distanceX>0&&(s.instance.group.length<2||0===s.instance.current.index&&!s.instance.current.opts.loop)?u+=Math.pow(s.distanceX,.8):s.distanceX<0&&(s.instance.group.length<2||s.instance.current.index===s.instance.group.length-1&&!s.instance.current.opts.loop)?u-=Math.pow(-s.distanceX,.8):u+=s.distanceX),s.sliderLastPos={top:"x"==a?0:s.sliderStartPos.top+s.distanceY,left:u},s.requestId&&(r(s.requestId),s.requestId=null),s.requestId=i((function(){s.sliderLastPos&&(n.each(s.instance.slides,(function(t,e){var i=e.pos-s.instance.currPos;n.fancybox.setTranslate(e.$slide,{top:s.sliderLastPos.top,left:s.sliderLastPos.left+i*s.canvasWidth+i*e.opts.gutter})})),s.$container.addClass("fancybox-is-sliding"))}));else if(Math.abs(s.distance)>10){if(s.canTap=!1,s.instance.group.length<2&&s.opts.vertical?s.isSwiping="y":s.instance.isDragging||!1===s.opts.vertical||"auto"===s.opts.vertical&&n(t).width()>800?s.isSwiping="x":(o=Math.abs(180*Math.atan2(s.distanceY,s.distanceX)/Math.PI),s.isSwiping=o>45&&o<135?"y":"x"),s.canTap=!1,"y"===s.isSwiping&&n.fancybox.isMobile&&(l(s.$target)||l(s.$target.parent())))return void(s.isScrolling=!0);s.instance.isDragging=s.isSwiping,s.startPoints=s.newPoints,n.each(s.instance.slides,(function(t,e){n.fancybox.stop(e.$slide),e.$slide.css("transition-duration",""),e.inTransition=!1,e.pos===s.instance.current.pos&&(s.sliderStartPos.left=n.fancybox.getTranslate(e.$slide).left-n.fancybox.getTranslate(s.instance.$refs.stage).left)})),s.instance.SlideShow&&s.instance.SlideShow.isActive&&s.instance.SlideShow.stop()}},u.prototype.onPan=function(){var t=this;s(t.newPoints[0],t.realPoints[0])<(n.fancybox.isMobile?10:5)?t.startPoints=t.newPoints:(t.canTap=!1,t.contentLastPos=t.limitMovement(),t.requestId&&(r(t.requestId),t.requestId=null),t.requestId=i((function(){n.fancybox.setTranslate(t.$content,t.contentLastPos)})))},u.prototype.limitMovement=function(){var t,e,n,i,r,o,s=this.canvasWidth,a=this.canvasHeight,l=this.distanceX,u=this.distanceY,c=this.contentStartPos,f=c.left,d=c.top,h=c.width,p=c.height;return r=h>s?f+l:f,o=d+u,t=Math.max(0,.5*s-.5*h),e=Math.max(0,.5*a-.5*p),n=Math.min(s-h,.5*s-.5*h),i=Math.min(a-p,.5*a-.5*p),l>0&&r>t&&(r=t-1+Math.pow(-t+f+l,.8)||0),l<0&&r<n&&(r=n+1-Math.pow(n-f-l,.8)||0),u>0&&o>e&&(o=e-1+Math.pow(-e+d+u,.8)||0),u<0&&o<i&&(o=i+1-Math.pow(i-d-u,.8)||0),{top:o,left:r}},u.prototype.limitPosition=function(t,e,n,i){var r=this.canvasWidth,o=this.canvasHeight;return t=n>r?(t=t>0?0:t)<r-n?r-n:t:Math.max(0,r/2-n/2),{top:e=i>o?(e=e>0?0:e)<o-i?o-i:e:Math.max(0,o/2-i/2),left:t}},u.prototype.onZoom=function(){var e=this,o=e.contentStartPos,a=o.width,l=o.height,u=o.left,c=o.top,f=s(e.newPoints[0],e.newPoints[1])/e.startDistanceBetweenFingers,d=Math.floor(a*f),h=Math.floor(l*f),p=(a-d)*e.percentageOfImageAtPinchPointX,m=(l-h)*e.percentageOfImageAtPinchPointY,g=(e.newPoints[0].x+e.newPoints[1].x)/2-n(t).scrollLeft(),v=(e.newPoints[0].y+e.newPoints[1].y)/2-n(t).scrollTop(),y=g-e.centerPointStartX,b={top:c+(m+(v-e.centerPointStartY)),left:u+(p+y),scaleX:f,scaleY:f};e.canTap=!1,e.newWidth=d,e.newHeight=h,e.contentLastPos=b,e.requestId&&(r(e.requestId),e.requestId=null),e.requestId=i((function(){n.fancybox.setTranslate(e.$content,e.contentLastPos)}))},u.prototype.ontouchend=function(t){var i=Math.max((new Date).getTime()-this.startTime,1),s=this.isSwiping,a=this.isPanning,l=this.isZooming,u=this.isScrolling;if(this.endPoints=o(t),this.$container.removeClass("fancybox-controls--isGrabbing"),n(e).off(".fb.touch"),e.removeEventListener("scroll",this.onscroll,!0),this.requestId&&(r(this.requestId),this.requestId=null),this.isSwiping=!1,this.isPanning=!1,this.isZooming=!1,this.isScrolling=!1,this.instance.isDragging=!1,this.canTap)return this.onTap(t);this.speed=366,this.velocityX=this.distanceX/i*.5,this.velocityY=this.distanceY/i*.5,this.speedX=Math.max(.5*this.speed,Math.min(1.5*this.speed,1/Math.abs(this.velocityX)*this.speed)),a?this.endPanning():l?this.endZooming():this.endSwiping(s,u)},u.prototype.endSwiping=function(t,e){var i=!1,r=this.instance.group.length;this.sliderLastPos=null,"y"==t&&!e&&Math.abs(this.distanceY)>50?(n.fancybox.animate(this.instance.current.$slide,{top:this.sliderStartPos.top+this.distanceY+150*this.velocityY,opacity:0},200),i=this.instance.close(!0,200)):"x"==t&&this.distanceX>50&&r>1?i=this.instance.previous(this.speedX):"x"==t&&this.distanceX<-50&&r>1&&(i=this.instance.next(this.speedX)),!1!==i||"x"!=t&&"y"!=t||(e||r<2?this.instance.centerSlide(this.instance.current,150):this.instance.jumpTo(this.instance.current.index)),this.$container.removeClass("fancybox-is-sliding")},u.prototype.endPanning=function(){var t,e,i;this.contentLastPos&&(!1===this.opts.momentum?(t=this.contentLastPos.left,e=this.contentLastPos.top):(t=this.contentLastPos.left+this.velocityX*this.speed,e=this.contentLastPos.top+this.velocityY*this.speed),(i=this.limitPosition(t,e,this.contentStartPos.width,this.contentStartPos.height)).width=this.contentStartPos.width,i.height=this.contentStartPos.height,n.fancybox.animate(this.$content,i,330))},u.prototype.endZooming=function(){var t,e,i,r,o=this.instance.current,s=this.newWidth,a=this.newHeight;this.contentLastPos&&(t=this.contentLastPos.left,r={top:e=this.contentLastPos.top,left:t,width:s,height:a,scaleX:1,scaleY:1},n.fancybox.setTranslate(this.$content,r),s<this.canvasWidth&&a<this.canvasHeight?this.instance.scaleToFit(150):s>o.width||a>o.height?this.instance.scaleToActual(this.centerPointStartX,this.centerPointStartY,150):(i=this.limitPosition(t,e,s,a),n.fancybox.setTranslate(this.$content,n.fancybox.getTranslate(this.$content)),n.fancybox.animate(this.$content,i,150)))},u.prototype.onTap=function(e){var i,r=this,s=n(e.target),a=r.instance,l=a.current,u=e&&o(e)||r.startPoints,c=u[0]?u[0].x-n(t).scrollLeft()-r.stagePos.left:0,f=u[0]?u[0].y-n(t).scrollTop()-r.stagePos.top:0,d=function(t){var i=l.opts[t];if(n.isFunction(i)&&(i=i.apply(a,[l,e])),i)switch(i){case"close":a.close(r.startEvent);break;case"toggleControls":a.toggleControls(!0);break;case"next":a.next();break;case"nextOrClose":a.group.length>1?a.next():a.close(r.startEvent);break;case"zoom":"image"==l.type&&(l.isLoaded||l.$ghost)&&(a.canPan()?a.scaleToFit():a.isScaledDown()?a.scaleToActual(c,f):a.group.length<2&&a.close(r.startEvent))}};if((!e.originalEvent||2!=e.originalEvent.button)&&(s.is("img")||!(c>s[0].clientWidth+s.offset().left))){if(s.is(".fancybox-bg,.fancybox-inner,.fancybox-outer,.fancybox-container"))i="Outside";else if(s.is(".fancybox-slide"))i="Slide";else{if(!a.current.$content||!a.current.$content.find(s).addBack().filter(s).length)return;i="Content"}if(r.tapped){if(clearTimeout(r.tapped),r.tapped=null,Math.abs(c-r.tapX)>50||Math.abs(f-r.tapY)>50)return this;d("dblclick"+i)}else r.tapX=c,r.tapY=f,l.opts["dblclick"+i]&&l.opts["dblclick"+i]!==l.opts["click"+i]?r.tapped=setTimeout((function(){r.tapped=null,d("click"+i)}),500):d("click"+i);return this}},n(e).on("onActivate.fb",(function(t,e){e&&!e.Guestures&&(e.Guestures=new u(e))}))}(window,document,t||e),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{slideShow:'<button data-fancybox-play class="fancybox-button fancybox-button--play" title="{{PLAY_START}}"><svg viewBox="0 0 40 40"><path d="M13,12 L27,20 L13,27 Z" /><path d="M15,10 v19 M23,10 v19" /></svg></button>'},slideShow:{autoStart:!1,speed:3e3}});var n=function(t){this.instance=t,this.init()};e.extend(n.prototype,{timer:null,isActive:!1,$button:null,init:function(){var t=this;t.$button=t.instance.$refs.toolbar.find("[data-fancybox-play]").on("click",(function(){t.toggle()})),(t.instance.group.length<2||!t.instance.group[t.instance.currIndex].opts.slideShow)&&t.$button.hide()},set:function(t){var e=this;e.instance&&e.instance.current&&(!0===t||e.instance.current.opts.loop||e.instance.currIndex<e.instance.group.length-1)?e.timer=setTimeout((function(){e.isActive&&e.instance.jumpTo((e.instance.currIndex+1)%e.instance.group.length)}),e.instance.current.opts.slideShow.speed):(e.stop(),e.instance.idleSecondsCounter=0,e.instance.showControls())},clear:function(){clearTimeout(this.timer),this.timer=null},start:function(){var t=this.instance.current;t&&(this.isActive=!0,this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_STOP).removeClass("fancybox-button--play").addClass("fancybox-button--pause"),this.set(!0))},stop:function(){var t=this.instance.current;this.clear(),this.$button.attr("title",t.opts.i18n[t.opts.lang].PLAY_START).removeClass("fancybox-button--pause").addClass("fancybox-button--play"),this.isActive=!1},toggle:function(){this.isActive?this.stop():this.start()}}),e(t).on({"onInit.fb":function(t,e){e&&!e.SlideShow&&(e.SlideShow=new n(e))},"beforeShow.fb":function(t,e,n,i){var r=e&&e.SlideShow;i?r&&n.opts.slideShow.autoStart&&r.start():r&&r.isActive&&r.clear()},"afterShow.fb":function(t,e,n){var i=e&&e.SlideShow;i&&i.isActive&&i.set()},"afterKeydown.fb":function(n,i,r,o,s){var a=i&&i.SlideShow;!a||!r.opts.slideShow||80!==s&&32!==s||e(t.activeElement).is("button,a,input")||(o.preventDefault(),a.toggle())},"beforeClose.fb onDeactivate.fb":function(t,e){var n=e&&e.SlideShow;n&&n.stop()}}),e(t).on("visibilitychange",(function(){var n=e.fancybox.getInstance(),i=n&&n.SlideShow;i&&i.isActive&&(t.hidden?i.clear():i.set())}))}(document,t||e),function(t,e){"use strict";var n=function(){for(var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],n={},i=0;i<e.length;i++){var r=e[i];if(r&&r[1]in t){for(var o=0;o<r.length;o++)n[e[0][o]]=r[o];return n}}return!1}();if(n){var i={request:function(e){(e=e||t.documentElement)[n.requestFullscreen](e.ALLOW_KEYBOARD_INPUT)},exit:function(){t[n.exitFullscreen]()},toggle:function(e){e=e||t.documentElement,this.isFullscreen()?this.exit():this.request(e)},isFullscreen:function(){return Boolean(t[n.fullscreenElement])},enabled:function(){return Boolean(t[n.fullscreenEnabled])}};e.extend(!0,e.fancybox.defaults,{btnTpl:{fullScreen:'<button data-fancybox-fullscreen class="fancybox-button fancybox-button--fullscreen" title="{{FULL_SCREEN}}"><svg viewBox="0 0 40 40"><path d="M9,12 v16 h22 v-16 h-22 v8" /></svg></button>'},fullScreen:{autoStart:!1}}),e(t).on({"onInit.fb":function(t,e){e&&e.group[e.currIndex].opts.fullScreen?(e.$refs.container.on("click.fb-fullscreen","[data-fancybox-fullscreen]",(function(t){t.stopPropagation(),t.preventDefault(),i.toggle()})),e.opts.fullScreen&&!0===e.opts.fullScreen.autoStart&&i.request(),e.FullScreen=i):e&&e.$refs.toolbar.find("[data-fancybox-fullscreen]").hide()},"afterKeydown.fb":function(t,e,n,i,r){e&&e.FullScreen&&70===r&&(i.preventDefault(),e.FullScreen.toggle())},"beforeClose.fb":function(t,e){e&&e.FullScreen&&e.$refs.container.hasClass("fancybox-is-fullscreen")&&i.exit()}}),e(t).on(n.fullscreenchange,(function(){var t=i.isFullscreen(),n=e.fancybox.getInstance();n&&(n.current&&"image"===n.current.type&&n.isAnimating&&(n.current.$content.css("transition","none"),n.isAnimating=!1,n.update(!0,!0,0)),n.trigger("onFullscreenChange",t),n.$refs.container.toggleClass("fancybox-is-fullscreen",t))}))}else e&&e.fancybox&&(e.fancybox.defaults.btnTpl.fullScreen=!1)}(document,t||e),function(t,e){"use strict";var n="fancybox-thumbs";e.fancybox.defaults=e.extend(!0,{btnTpl:{thumbs:'<button data-fancybox-thumbs class="fancybox-button fancybox-button--thumbs" title="{{THUMBS}}"><svg viewBox="0 0 120 120"><path d="M30,30 h14 v14 h-14 Z M50,30 h14 v14 h-14 Z M70,30 h14 v14 h-14 Z M30,50 h14 v14 h-14 Z M50,50 h14 v14 h-14 Z M70,50 h14 v14 h-14 Z M30,70 h14 v14 h-14 Z M50,70 h14 v14 h-14 Z M70,70 h14 v14 h-14 Z" /></svg></button>'},thumbs:{autoStart:!1,hideOnClose:!0,parentEl:".fancybox-container",axis:"y"}},e.fancybox.defaults);var i=function(t){this.init(t)};e.extend(i.prototype,{$button:null,$grid:null,$list:null,isVisible:!1,isActive:!1,init:function(t){var e,n,i=this;i.instance=t,t.Thumbs=i,i.opts=t.group[t.currIndex].opts.thumbs,e=(e=t.group[0]).opts.thumb||!(!e.opts.$thumb||!e.opts.$thumb.length)&&e.opts.$thumb.attr("src"),t.group.length>1&&(n=(n=t.group[1]).opts.thumb||!(!n.opts.$thumb||!n.opts.$thumb.length)&&n.opts.$thumb.attr("src")),i.$button=t.$refs.toolbar.find("[data-fancybox-thumbs]"),i.opts&&e&&n&&e&&n?(i.$button.show().on("click",(function(){i.toggle()})),i.isActive=!0):i.$button.hide()},create:function(){var t,i=this.instance,r=this.opts.parentEl,o=[];this.$grid||(this.$grid=e('<div class="'+n+" "+n+"-"+this.opts.axis+'"></div>').appendTo(i.$refs.container.find(r).addBack().filter(r)),this.$grid.on("click","li",(function(){i.jumpTo(e(this).attr("data-index"))}))),this.$list||(this.$list=e("<ul>").appendTo(this.$grid)),e.each(i.group,(function(e,n){(t=n.opts.thumb||(n.opts.$thumb?n.opts.$thumb.attr("src"):null))||"image"!==n.type||(t=n.src),o.push('<li data-index="'+e+'" tabindex="0" class="fancybox-thumbs-loading"'+(t&&t.length?' style="background-image:url('+t+')" />':"")+"></li>")})),this.$list[0].innerHTML=o.join(""),"x"===this.opts.axis&&this.$list.width(parseInt(this.$grid.css("padding-right"),10)+i.group.length*this.$list.children().eq(0).outerWidth(!0))},focus:function(t){var e,n,i=this.$list,r=this.$grid;this.instance.current&&(n=(e=i.children().removeClass("fancybox-thumbs-active").filter('[data-index="'+this.instance.current.index+'"]').addClass("fancybox-thumbs-active")).position(),"y"===this.opts.axis&&(n.top<0||n.top>i.height()-e.outerHeight())?i.stop().animate({scrollTop:i.scrollTop()+n.top},t):"x"===this.opts.axis&&(n.left<r.scrollLeft()||n.left>r.scrollLeft()+(r.width()-e.outerWidth()))&&i.parent().stop().animate({scrollLeft:n.left},t))},update:function(){this.instance.$refs.container.toggleClass("fancybox-show-thumbs",this.isVisible),this.isVisible?(this.$grid||this.create(),this.instance.trigger("onThumbsShow"),this.focus(0)):this.$grid&&this.instance.trigger("onThumbsHide"),this.instance.update()},hide:function(){this.isVisible=!1,this.update()},show:function(){this.isVisible=!0,this.update()},toggle:function(){this.isVisible=!this.isVisible,this.update()}}),e(t).on({"onInit.fb":function(t,e){var n;e&&!e.Thumbs&&(n=new i(e)).isActive&&!0===n.opts.autoStart&&n.show()},"beforeShow.fb":function(t,e,n,i){var r=e&&e.Thumbs;r&&r.isVisible&&r.focus(i?0:250)},"afterKeydown.fb":function(t,e,n,i,r){var o=e&&e.Thumbs;o&&o.isActive&&71===r&&(i.preventDefault(),o.toggle())},"beforeClose.fb":function(t,e){var n=e&&e.Thumbs;n&&n.isVisible&&!1!==n.opts.hideOnClose&&n.$grid.hide()}})}(document,t||e),function(t,e){"use strict";e.extend(!0,e.fancybox.defaults,{btnTpl:{share:'<button data-fancybox-share class="fancybox-button fancybox-button--share" title="{{SHARE}}"><svg viewBox="0 0 40 40"><path d="M6,30 C8,18 19,16 23,16 L23,16 L23,10 L33,20 L23,29 L23,24 C19,24 8,27 6,30 Z"></svg></button>'},share:{url:function(t,e){return!t.currentHash&&"inline"!==e.type&&"html"!==e.type&&(e.origSrc||e.src)||window.location},tpl:'<div class="fancybox-share"><h1>{{SHARE}}</h1><p><a class="fancybox-share__button fancybox-share__button--fb" href="https://www.facebook.com/sharer/sharer.php?u={{url}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m287 456v-299c0-21 6-35 35-35h38v-63c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254h-205v72h196" /></svg><span>Facebook</span></a><a class="fancybox-share__button fancybox-share__button--tw" href="https://twitter.com/intent/tweet?url={{url}}&text={{descr}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z" /></svg><span>Twitter</span></a><a class="fancybox-share__button fancybox-share__button--pt" href="https://www.pinterest.com/pin/create/button/?url={{url}}&description={{descr}}&media={{media}}"><svg viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg"><path d="m265 56c-109 0-164 78-164 144 0 39 15 74 47 87 5 2 10 0 12-5l4-19c2-6 1-8-3-13-9-11-15-25-15-45 0-58 43-110 113-110 62 0 96 38 96 88 0 67-30 122-73 122-24 0-42-19-36-44 6-29 20-60 20-81 0-19-10-35-31-35-25 0-44 26-44 60 0 21 7 36 7 36l-30 125c-8 37-1 83 0 87 0 3 4 4 5 2 2-3 32-39 42-75l16-64c8 16 31 29 56 29 74 0 124-67 124-157 0-69-58-132-146-132z" fill="#fff"/></svg><span>Pinterest</span></a></p><p><input class="fancybox-share__input" type="text" value="{{url_raw}}" /></p></div>'}}),e(t).on("click","[data-fancybox-share]",(function(){var t,n,i,r,o=e.fancybox.getInstance(),s=o.current||null;s&&("function"===e.type(s.opts.share.url)&&(t=s.opts.share.url.apply(s,[o,s])),n=s.opts.share.tpl.replace(/\{\{media\}\}/g,"image"===s.type?encodeURIComponent(s.src):"").replace(/\{\{url\}\}/g,encodeURIComponent(t)).replace(/\{\{url_raw\}\}/g,(i=t,r={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},String(i).replace(/[&<>"'`=\/]/g,(function(t){return r[t]})))).replace(/\{\{descr\}\}/g,o.$caption?encodeURIComponent(o.$caption.text()):""),e.fancybox.open({src:o.translate(o,n),type:"html",opts:{animationEffect:!1,afterLoad:function(t,e){o.$refs.container.one("beforeClose.fb",(function(){t.close(null,0)})),e.$content.find(".fancybox-share__links a").click((function(){return window.open(this.href,"Share","width=550, height=450"),!1}))}}}))}))}(document,t||e),function(t,e,n){"use strict";function i(){var t=e.location.hash.substr(1),n=t.split("-"),i=n.length>1&&/^\+?\d+$/.test(n[n.length-1])&&parseInt(n.pop(-1),10)||1;return{hash:t,index:i<1?1:i,gallery:n.join("-")}}function r(t){""!==t.gallery&&n("[data-fancybox='"+n.escapeSelector(t.gallery)+"']").eq(t.index-1).trigger("click.fb-start")}function o(t){var e,n;return!!t&&(""!==(n=(e=t.current?t.current.opts:t.opts).hash||(e.$orig?e.$orig.data("fancybox"):""))&&n)}n.escapeSelector||(n.escapeSelector=function(t){return(t+"").replace(/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,(function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}))}),n((function(){!1!==n.fancybox.defaults.hash&&(n(t).on({"onInit.fb":function(t,e){var n,r;!1!==e.group[e.currIndex].opts.hash&&(n=i(),(r=o(e))&&n.gallery&&r==n.gallery&&(e.currIndex=n.index-1))},"beforeShow.fb":function(n,i,r,s){var a;r&&!1!==r.opts.hash&&(a=o(i))&&(i.currentHash=a+(i.group.length>1?"-"+(r.index+1):""),e.location.hash!=="#"+i.currentHash&&(i.origHash||(i.origHash=e.location.hash),i.hashTimer&&clearTimeout(i.hashTimer),i.hashTimer=setTimeout((function(){"replaceState"in e.history?(e.history[s?"pushState":"replaceState"]({},t.title,e.location.pathname+e.location.search+"#"+i.currentHash),s&&(i.hasCreatedHistory=!0)):e.location.hash=i.currentHash,i.hashTimer=null}),300)))},"beforeClose.fb":function(n,i,r){!1!==r.opts.hash&&(o(i),i.currentHash&&i.hasCreatedHistory?e.history.back():i.currentHash&&("replaceState"in e.history?e.history.replaceState({},t.title,e.location.pathname+e.location.search+(i.origHash||"")):e.location.hash=i.origHash),i.currentHash=null,clearTimeout(i.hashTimer))}}),n(e).on("hashchange.fb",(function(){var t,e=i();n.each(n(".fancybox-container").get().reverse(),(function(e,i){var r=n(i).data("FancyBox");if(r.currentHash)return t=r,!1})),t?!t.currentHash||t.currentHash===e.gallery+"-"+e.index||1===e.index&&t.currentHash==e.gallery||(t.currentHash=null,t.close()):""!==e.gallery&&r(e)})),setTimeout((function(){n.fancybox.getInstance()||r(i())}),50))}))}(document,window,t||e),function(t,e){"use strict";var n=(new Date).getTime();e(t).on({"onInit.fb":function(t,e,i){e.$refs.stage.on("mousewheel DOMMouseScroll wheel MozMousePixelScroll",(function(t){var i=e.current,r=(new Date).getTime();e.group.length<2||!1===i.opts.wheel||"auto"===i.opts.wheel&&"image"!==i.type||(t.preventDefault(),t.stopPropagation(),i.$slide.hasClass("fancybox-animated")||(t=t.originalEvent||t,r-n<250||(n=r,e[(-t.deltaY||-t.deltaX||t.wheelDelta||-t.detail)<0?"next":"previous"]())))}))}})}(document,t||e)}).call(this,n(0),n(0))},function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,n),r.loaded=!0,r.exports}return n.m=t,n.c=e,n.p="",n(0)}([function(t,e,n){var i,r;i=[n(1),n(3),n(4)],void 0===(r=function(t){return t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(2)],void 0===(r=function(t){function e(i){if(e.is(i,"function"))return n?i():t.on("raphael.DOMload",i);if(e.is(i,D))return e._engine.create[h](e,i.splice(0,3+e.is(i[0],E))).add(i);var r=Array.prototype.slice.call(arguments,0);if(e.is(r[r.length-1],"function")){var o=r.pop();return n?o.call(e._engine.create[h](e,r)):t.on("raphael.DOMload",(function(){o.call(e._engine.create[h](e,r))}))}return e._engine.create[h](e,arguments)}e.version="2.2.0",e.eve=t;var n,i,r,o,s=/[, ]+/,a={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},l=/\{(\d+)\}/g,u="hasOwnProperty",c={doc:document,win:window},f={was:Object.prototype[u].call(c.win,"Raphael"),is:c.win.Raphael},d=function(){this.ca=this.customAttributes={}},h="apply",p="ontouchstart"in c.win||c.win.DocumentTouch&&c.doc instanceof DocumentTouch,m="",g=" ",v=String,y="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel".split(g),b={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},x=v.prototype.toLowerCase,w=Math,_=w.max,C=w.min,k=w.abs,S=w.pow,T=w.PI,E="number",D="array",N=Object.prototype.toString,A=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),P={NaN:1,Infinity:1,"-Infinity":1},O=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,I=w.round,M=parseFloat,B=parseInt,R=v.prototype.toUpperCase,L=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},F=e._availableAnimAttrs={blur:E,"clip-rect":"csv",cx:E,cy:E,fill:"colour","fill-opacity":E,"font-size":E,height:E,opacity:E,path:"path",r:E,rx:E,ry:E,stroke:"colour","stroke-opacity":E,"stroke-width":E,transform:"transform",width:E,x:E,y:E},H=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,z={hs:1,rg:1},j=/,?([achlmqrstvxz]),?/gi,W=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,$=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,q=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,U=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),V=function(t,e){return M(t)-M(e)},Y=function(t){return t},X=e._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},G=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},K=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return G(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return G(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return X(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return X(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return X(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return X(e.x,e.y,e.width,e.height)}},J=e.mapPath=function(t,e){if(!e)return t;var n,i,r,o,s,a,l;for(r=0,s=(t=Tt(t)).length;r<s;r++)for(o=1,a=(l=t[r]).length;o<a;o+=2)n=e.x(l[o],l[o+1]),i=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return t};if(e._g=c,e.type=c.win.SVGAngle||c.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var Q,Z=c.doc.createElement("div");if(Z.innerHTML='<v:shape adj="1"/>',(Q=Z.firstChild).style.behavior="url(#default#VML)",!Q||"object"!=typeof Q.adj)return e.type=m;Z=null}function tt(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var n in t)t[u](n)&&(e[n]=tt(t[n]));return e}e.svg=!(e.vml="VML"==e.type),e._Paper=d,e.fn=i=d.prototype=e.prototype,e._id=0,e.is=function(t,e){return"finite"==(e=x.call(e))?!P[u](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||N.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,i,r,o,s){if(null==o){var a=t-i,l=n-r;return a||l?(180+180*w.atan2(-l,-a)/T+360)%360:0}return e.angle(t,n,o,s)-e.angle(i,r,o,s)},e.rad=function(t){return t%360*T/180},e.deg=function(t){return Math.round(180*t/T%360*1e3)/1e3},e.snapTo=function(t,n,i){if(i=e.is(i,"finite")?i:10,e.is(t,D)){for(var r=t.length;r--;)if(k(t[r]-n)<=i)return t[r]}else{var o=n%(t=+t);if(o<i)return n-o;if(o>t-i)return n-o+t}return n},e.createUUID=(r=/[xy]/g,o=function(t){var e=16*w.random()|0;return("x"==t?e:3&e|8).toString(16)},function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(r,o).toUpperCase()}),e.setWindow=function(n){t("raphael.setWindow",e,c.win,n),c.win=n,c.doc=c.win.document,e._engine.initWin&&e._engine.initWin(c.win)};var et=function(t){if(e.vml){var n,i=/^\s+|\s+$/g;try{var r=new ActiveXObject("htmlfile");r.write("<body>"),r.close(),n=r.body}catch(t){n=createPopup().document.body}var o=n.createTextRange();et=lt((function(t){try{n.style.color=v(t).replace(i,m);var e=o.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}}))}else{var s=c.doc.createElement("i");s.title="RaphaÃ«l Colour Picker",s.style.display="none",c.doc.body.appendChild(s),et=lt((function(t){return s.style.color=t,c.doc.defaultView.getComputedStyle(s,m).getPropertyValue("color")}))}return et(t)},nt=function(){return"hsb("+[this.h,this.s,this.b]+")"},it=function(){return"hsl("+[this.h,this.s,this.l]+")"},rt=function(){return this.hex},ot=function(t,n,i){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,n=t.g,t=t.r),null==n&&e.is(t,"string")){var r=e.getRGB(t);t=r.r,n=r.g,i=r.b}return(t>1||n>1||i>1)&&(t/=255,n/=255,i/=255),[t,n,i]},st=function(t,n,i,r){var o={r:t*=255,g:n*=255,b:i*=255,hex:e.rgb(t,n,i),toString:rt};return e.is(r,"finite")&&(o.opacity=r),o};function at(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function lt(t,e,n){return function i(){var r=Array.prototype.slice.call(arguments,0),o=r.join("â"),s=i.cache=i.cache||{},a=i.count=i.count||[];return s[u](o)?(at(a,o),n?n(s[o]):s[o]):(a.length>=1e3&&delete s[a.shift()],a.push(o),s[o]=t[h](e,r),n?n(s[o]):s[o])}}function ut(){return this.hex}function ct(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=rt,t},e.hsb2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=t.o,t=t.h),a=(l=n*e)*(1-k((t=(t*=360)%360/60)%2-1)),r=o=s=n-l,st(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],i)},e.hsl2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),a=(l=2*e*(n<.5?n:1-n))*(1-k((t=(t*=360)%360/60)%2-1)),r=o=s=n-l/2,st(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],i)},e.rgb2hsb=function(t,e,n){var i,r;return t=(n=ot(t,e,n))[0],e=n[1],n=n[2],{h:((0==(r=(i=_(t,e,n))-C(t,e,n))?null:i==t?(e-n)/r:i==e?(n-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:nt}},e.rgb2hsl=function(t,e,n){var i,r,o,s;return t=(n=ot(t,e,n))[0],e=n[1],n=n[2],i=((r=_(t,e,n))+(o=C(t,e,n)))/2,{h:((0==(s=r-o)?null:r==t?(e-n)/s:r==e?(n-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:i<.5?s/(2*i):s/(2-2*i),l:i,toString:it}},e._path2string=function(){return this.join(",").replace(j,"$1")},e._preload=function(t,e){var n=c.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,c.doc.body.removeChild(this)},n.onerror=function(){c.doc.body.removeChild(this)},c.doc.body.appendChild(n),n.src=t},e.getRGB=lt((function(t){if(!t||(t=v(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ut};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:ut};!z[u](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=et(t));var n,i,r,o,s,a,l=t.match(A);return l?(l[2]&&(r=B(l[2].substring(5),16),i=B(l[2].substring(3,5),16),n=B(l[2].substring(1,3),16)),l[3]&&(r=B((s=l[3].charAt(3))+s,16),i=B((s=l[3].charAt(2))+s,16),n=B((s=l[3].charAt(1))+s,16)),l[4]&&(a=l[4].split(H),n=M(a[0]),"%"==a[0].slice(-1)&&(n*=2.55),i=M(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),r=M(a[2]),"%"==a[2].slice(-1)&&(r*=2.55),"rgba"==l[1].toLowerCase().slice(0,4)&&(o=M(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100)),l[5]?(a=l[5].split(H),n=M(a[0]),"%"==a[0].slice(-1)&&(n*=2.55),i=M(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),r=M(a[2]),"%"==a[2].slice(-1)&&(r*=2.55),("deg"==a[0].slice(-3)||"Â°"==a[0].slice(-1))&&(n/=360),"hsba"==l[1].toLowerCase().slice(0,4)&&(o=M(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100),e.hsb2rgb(n,i,r,o)):l[6]?(a=l[6].split(H),n=M(a[0]),"%"==a[0].slice(-1)&&(n*=2.55),i=M(a[1]),"%"==a[1].slice(-1)&&(i*=2.55),r=M(a[2]),"%"==a[2].slice(-1)&&(r*=2.55),("deg"==a[0].slice(-3)||"Â°"==a[0].slice(-1))&&(n/=360),"hsla"==l[1].toLowerCase().slice(0,4)&&(o=M(a[3])),a[3]&&"%"==a[3].slice(-1)&&(o/=100),e.hsl2rgb(n,i,r,o)):((l={r:n,g:i,b:r,toString:ut}).hex="#"+(16777216|r|i<<8|n<<16).toString(16).slice(1),e.is(o,"finite")&&(l.opacity=o),l)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:ut}}),e),e.hsb=lt((function(t,n,i){return e.hsb2rgb(t,n,i).hex})),e.hsl=lt((function(t,n,i){return e.hsl2rgb(t,n,i).hex})),e.rgb=lt((function(t,e,n){function i(t){return t+.5|0}return"#"+(16777216|i(n)|i(e)<<8|i(t)<<16).toString(16).slice(1)})),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=ft(t);if(n.arr)return yt(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,D)&&e.is(t[0],D)&&(r=yt(t)),r.length||v(t).replace(W,(function(t,e,n){var o=[],s=e.toLowerCase();if(n.replace(q,(function(t,e){e&&o.push(+e)})),"m"==s&&o.length>2&&(r.push([e].concat(o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e].concat(o));else for(;o.length>=i[s]&&(r.push([e].concat(o.splice(0,i[s]))),i[s]););})),r.toString=e._path2string,n.arr=yt(r),r},e.parseTransformString=lt((function(t){if(!t)return null;var n=[];return e.is(t,D)&&e.is(t[0],D)&&(n=yt(t)),n.length||v(t).replace($,(function(t,e,i){var r=[];x.call(e),i.replace(q,(function(t,e){e&&r.push(+e)})),n.push([e].concat(r))})),n.toString=e._path2string,n}));var ft=function(t){var e=ft.ps=ft.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var n in e)e[u](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])})),e[t]};function dt(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function ht(t,e,n,i,r,o,s,a,l){null==l&&(l=1);for(var u=(l=l>1?1:l<0?0:l)/2,c=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],f=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],d=0,h=0;h<12;h++){var p=u*c[h]+u,m=dt(p,t,n,r,s),g=dt(p,e,i,o,a),v=m*m+g*g;d+=f[h]*w.sqrt(v)}return u*d}function pt(t,e,n,i,r,o,s,a){if(!(_(t,n)<C(r,s)||C(t,n)>_(r,s)||_(e,i)<C(o,a)||C(e,i)>_(o,a))){var l=(t-n)*(o-a)-(e-i)*(r-s);if(l){var u=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/l,c=((t*i-e*n)*(o-a)-(e-i)*(r*a-o*s))/l,f=+u.toFixed(2),d=+c.toFixed(2);if(!(f<+C(t,n).toFixed(2)||f>+_(t,n).toFixed(2)||f<+C(r,s).toFixed(2)||f>+_(r,s).toFixed(2)||d<+C(e,i).toFixed(2)||d>+_(e,i).toFixed(2)||d<+C(o,a).toFixed(2)||d>+_(o,a).toFixed(2)))return{x:u,y:c}}}}function mt(t,n,i){var r=e.bezierBBox(t),o=e.bezierBBox(n);if(!e.isBBoxIntersect(r,o))return i?0:[];for(var s=ht.apply(0,t),a=ht.apply(0,n),l=_(~~(s/5),1),u=_(~~(a/5),1),c=[],f=[],d={},h=i?0:[],p=0;p<l+1;p++){var m=e.findDotsAtSegment.apply(e,t.concat(p/l));c.push({x:m.x,y:m.y,t:p/l})}for(p=0;p<u+1;p++)m=e.findDotsAtSegment.apply(e,n.concat(p/u)),f.push({x:m.x,y:m.y,t:p/u});for(p=0;p<l;p++)for(var g=0;g<u;g++){var v=c[p],y=c[p+1],b=f[g],x=f[g+1],w=k(y.x-v.x)<.001?"y":"x",S=k(x.x-b.x)<.001?"y":"x",T=pt(v.x,v.y,y.x,y.y,b.x,b.y,x.x,x.y);if(T){if(d[T.x.toFixed(4)]==T.y.toFixed(4))continue;d[T.x.toFixed(4)]=T.y.toFixed(4);var E=v.t+k((T[w]-v[w])/(y[w]-v[w]))*(y.t-v.t),D=b.t+k((T[S]-b[S])/(x[S]-b[S]))*(x.t-b.t);E>=0&&E<=1.001&&D>=0&&D<=1.001&&(i?h++:h.push({x:T.x,y:T.y,t1:C(E,1),t2:C(D,1)}))}}return h}function gt(t,n,i){t=e._path2curve(t),n=e._path2curve(n);for(var r,o,s,a,l,u,c,f,d,h,p=i?0:[],m=0,g=t.length;m<g;m++){var v=t[m];if("M"==v[0])r=l=v[1],o=u=v[2];else{"C"==v[0]?(d=[r,o].concat(v.slice(1)),r=d[6],o=d[7]):(d=[r,o,r,o,l,u,l,u],r=l,o=u);for(var y=0,b=n.length;y<b;y++){var x=n[y];if("M"==x[0])s=c=x[1],a=f=x[2];else{"C"==x[0]?(h=[s,a].concat(x.slice(1)),s=h[6],a=h[7]):(h=[s,a,s,a,c,f,c,f],s=c,a=f);var w=mt(d,h,i);if(i)p+=w;else{for(var _=0,C=w.length;_<C;_++)w[_].segment1=m,w[_].segment2=y,w[_].bez1=d,w[_].bez2=h;p=p.concat(w)}}}}}return p}e.findDotsAtSegment=function(t,e,n,i,r,o,s,a,l){var u=1-l,c=S(u,3),f=S(u,2),d=l*l,h=d*l,p=c*t+3*f*l*n+3*u*l*l*r+h*s,m=c*e+3*f*l*i+3*u*l*l*o+h*a,g=t+2*l*(n-t)+d*(r-2*n+t),v=e+2*l*(i-e)+d*(o-2*i+e),y=n+2*l*(r-n)+d*(s-2*r+n),b=i+2*l*(o-i)+d*(a-2*o+i),x=u*t+l*n,_=u*e+l*i,C=u*r+l*s,k=u*o+l*a,E=90-180*w.atan2(g-y,v-b)/T;return(g>y||v<b)&&(E+=180),{x:p,y:m,m:{x:g,y:v},n:{x:y,y:b},start:{x:x,y:_},end:{x:C,y:k},alpha:E}},e.bezierBBox=function(t,n,i,r,o,s,a,l){e.is(t,"array")||(t=[t,n,i,r,o,s,a,l]);var u=St.apply(null,t);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var i=e.isPointInsideBBox;return i(n,t.x,t.y)||i(n,t.x2,t.y)||i(n,t.x,t.y2)||i(n,t.x2,t.y2)||i(t,n.x,n.y)||i(t,n.x2,n.y)||i(t,n.x,n.y2)||i(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return gt(t,e)},e.pathIntersectionNumber=function(t,e){return gt(t,e,1)},e.isPointInsidePath=function(t,n,i){var r=e.pathBBox(t);return e.isPointInsideBBox(r,n,i)&&gt(t,[["M",n,i],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"RaphaÃ«l: you are calling to method â"+e+"â of removed object",e)}};var vt=e.pathBBox=function(t){var e=ft(t);if(e.bbox)return tt(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var n,i=0,r=0,o=[],s=[],a=0,l=(t=Tt(t)).length;a<l;a++)if("M"==(n=t[a])[0])i=n[1],r=n[2],o.push(i),s.push(r);else{var u=St(i,r,n[1],n[2],n[3],n[4],n[5],n[6]);o=o.concat(u.min.x,u.max.x),s=s.concat(u.min.y,u.max.y),i=n[5],r=n[6]}var c=C[h](0,o),f=C[h](0,s),d=_[h](0,o),p=_[h](0,s),m=d-c,g=p-f,v={x:c,y:f,x2:d,y2:p,width:m,height:g,cx:c+m/2,cy:f+g/2};return e.bbox=tt(v),v},yt=function(t){var n=tt(t);return n.toString=e._path2string,n},bt=e._pathToRelative=function(t){var n=ft(t);if(n.rel)return yt(n.rel);e.is(t,D)&&e.is(t&&t[0],D)||(t=e.parsePathString(t));var i=[],r=0,o=0,s=0,a=0,l=0;"M"==t[0][0]&&(s=r=t[0][1],a=o=t[0][2],l++,i.push(["M",r,o]));for(var u=l,c=t.length;u<c;u++){var f=i[u]=[],d=t[u];if(d[0]!=x.call(d[0]))switch(f[0]=x.call(d[0]),f[0]){case"a":f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4],f[5]=d[5],f[6]=+(d[6]-r).toFixed(3),f[7]=+(d[7]-o).toFixed(3);break;case"v":f[1]=+(d[1]-o).toFixed(3);break;case"m":s=d[1],a=d[2];default:for(var h=1,p=d.length;h<p;h++)f[h]=+(d[h]-(h%2?r:o)).toFixed(3)}else{f=i[u]=[],"m"==d[0]&&(s=d[1]+r,a=d[2]+o);for(var m=0,g=d.length;m<g;m++)i[u][m]=d[m]}var v=i[u].length;switch(i[u][0]){case"z":r=s,o=a;break;case"h":r+=+i[u][v-1];break;case"v":o+=+i[u][v-1];break;default:r+=+i[u][v-2],o+=+i[u][v-1]}}return i.toString=e._path2string,n.rel=yt(i),i},xt=e._pathToAbsolute=function(t){var n=ft(t);if(n.abs)return yt(n.abs);if(e.is(t,D)&&e.is(t&&t[0],D)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],r=0,o=0,s=0,a=0,l=0;"M"==t[0][0]&&(s=r=+t[0][1],a=o=+t[0][2],l++,i[0]=["M",r,o]);for(var u,c,f=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),d=l,h=t.length;d<h;d++){if(i.push(u=[]),(c=t[d])[0]!=R.call(c[0]))switch(u[0]=R.call(c[0]),u[0]){case"A":u[1]=c[1],u[2]=c[2],u[3]=c[3],u[4]=c[4],u[5]=c[5],u[6]=+(c[6]+r),u[7]=+(c[7]+o);break;case"V":u[1]=+c[1]+o;break;case"H":u[1]=+c[1]+r;break;case"R":for(var p=[r,o].concat(c.slice(1)),m=2,g=p.length;m<g;m++)p[m]=+p[m]+r,p[++m]=+p[m]+o;i.pop(),i=i.concat(ct(p,f));break;case"M":s=+c[1]+r,a=+c[2]+o;default:for(m=1,g=c.length;m<g;m++)u[m]=+c[m]+(m%2?r:o)}else if("R"==c[0])p=[r,o].concat(c.slice(1)),i.pop(),i=i.concat(ct(p,f)),u=["R"].concat(c.slice(-2));else for(var v=0,y=c.length;v<y;v++)u[v]=c[v];switch(u[0]){case"Z":r=s,o=a;break;case"H":r=u[1];break;case"V":o=u[1];break;case"M":s=u[u.length-2],a=u[u.length-1];default:r=u[u.length-2],o=u[u.length-1]}}return i.toString=e._path2string,n.abs=yt(i),i},wt=function(t,e,n,i){return[t,e,n,i,n,i]},_t=function(t,e,n,i,r,o){return[1/3*t+2/3*n,1/3*e+2/3*i,1/3*r+2/3*n,1/3*o+2/3*i,r,o]},Ct=function(t,e,n,i,r,o,s,a,l,u){var c,f=120*T/180,d=T/180*(+r||0),h=[],p=lt((function(t,e,n){return{x:t*w.cos(n)-e*w.sin(n),y:t*w.sin(n)+e*w.cos(n)}}));if(u)S=u[0],E=u[1],_=u[2],C=u[3];else{t=(c=p(t,e,-d)).x,e=c.y,a=(c=p(a,l,-d)).x,l=c.y,w.cos(T/180*r),w.sin(T/180*r);var m=(t-a)/2,g=(e-l)/2,v=m*m/(n*n)+g*g/(i*i);v>1&&(n*=v=w.sqrt(v),i*=v);var y=n*n,b=i*i,x=(o==s?-1:1)*w.sqrt(k((y*b-y*g*g-b*m*m)/(y*g*g+b*m*m))),_=x*n*g/i+(t+a)/2,C=x*-i*m/n+(e+l)/2,S=w.asin(((e-C)/i).toFixed(9)),E=w.asin(((l-C)/i).toFixed(9));(S=t<_?T-S:S)<0&&(S=2*T+S),(E=a<_?T-E:E)<0&&(E=2*T+E),s&&S>E&&(S-=2*T),!s&&E>S&&(E-=2*T)}var D=E-S;if(k(D)>f){var N=E,A=a,P=l;E=S+f*(s&&E>S?1:-1),a=_+n*w.cos(E),l=C+i*w.sin(E),h=Ct(a,l,n,i,r,0,s,A,P,[E,N,_,C])}D=E-S;var O=w.cos(S),I=w.sin(S),M=w.cos(E),B=w.sin(E),R=w.tan(D/4),L=4/3*n*R,F=4/3*i*R,H=[t,e],z=[t+L*I,e-F*O],j=[a+L*B,l-F*M],W=[a,l];if(z[0]=2*H[0]-z[0],z[1]=2*H[1]-z[1],u)return[z,j,W].concat(h);for(var $=[],q=0,U=(h=[z,j,W].concat(h).join().split(",")).length;q<U;q++)$[q]=q%2?p(h[q-1],h[q],d).y:p(h[q],h[q+1],d).x;return $},kt=function(t,e,n,i,r,o,s,a,l){var u=1-l;return{x:S(u,3)*t+3*S(u,2)*l*n+3*u*l*l*r+S(l,3)*s,y:S(u,3)*e+3*S(u,2)*l*i+3*u*l*l*o+S(l,3)*a}},St=lt((function(t,e,n,i,r,o,s,a){var l,u=r-2*n+t-(s-2*r+n),c=2*(n-t)-2*(r-n),f=t-n,d=(-c+w.sqrt(c*c-4*u*f))/2/u,p=(-c-w.sqrt(c*c-4*u*f))/2/u,m=[e,a],g=[t,s];return k(d)>"1e12"&&(d=.5),k(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=kt(t,e,n,i,r,o,s,a,d),g.push(l.x),m.push(l.y)),p>0&&p<1&&(l=kt(t,e,n,i,r,o,s,a,p),g.push(l.x),m.push(l.y)),u=o-2*i+e-(a-2*o+i),f=e-i,d=(-(c=2*(i-e)-2*(o-i))+w.sqrt(c*c-4*u*f))/2/u,p=(-c-w.sqrt(c*c-4*u*f))/2/u,k(d)>"1e12"&&(d=.5),k(p)>"1e12"&&(p=.5),d>0&&d<1&&(l=kt(t,e,n,i,r,o,s,a,d),g.push(l.x),m.push(l.y)),p>0&&p<1&&(l=kt(t,e,n,i,r,o,s,a,p),g.push(l.x),m.push(l.y)),{min:{x:C[h](0,g),y:C[h](0,m)},max:{x:_[h](0,g),y:_[h](0,m)}}})),Tt=e._path2curve=lt((function(t,e){var n=!e&&ft(t);if(!e&&n.curve)return yt(n.curve);for(var i=xt(t),r=e&&xt(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"].concat(Ct[h](0,[e.x,e.y].concat(t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r].concat(t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"].concat(_t(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"].concat(_t(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"].concat(wt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"].concat(wt(e.x,e.y,t[1],e.y));break;case"V":t=["C"].concat(wt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"].concat(wt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)c[e]="A",r&&(f[e]="A"),t.splice(e++,0,["C"].concat(n.splice(0,6)));t.splice(e,1),g=_(i.length,r&&r.length||0)}},u=function(t,e,n,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],g=_(i.length,r&&r.length||0))},c=[],f=[],d="",p="",m=0,g=_(i.length,r&&r.length||0);m<g;m++){i[m]&&(d=i[m][0]),"C"!=d&&(c[m]=d,m&&(p=c[m-1])),i[m]=a(i[m],o,p),"A"!=c[m]&&"C"==d&&(c[m]="C"),l(i,m),r&&(r[m]&&(d=r[m][0]),"C"!=d&&(f[m]=d,m&&(p=f[m-1])),r[m]=a(r[m],s,p),"A"!=f[m]&&"C"==d&&(f[m]="C"),l(r,m)),u(i,r,o,s,m),u(r,i,s,o,m);var v=i[m],y=r&&r[m],b=v.length,x=r&&y.length;o.x=v[b-2],o.y=v[b-1],o.bx=M(v[b-4])||o.x,o.by=M(v[b-3])||o.y,s.bx=r&&(M(y[x-4])||s.x),s.by=r&&(M(y[x-3])||s.y),s.x=r&&y[x-2],s.y=r&&y[x-1]}return r||(n.curve=yt(i)),r?[i,r]:i}),null,yt),Et=(e._parseDots=lt((function(t){for(var n=[],i=0,r=t.length;i<r;i++){var o={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(s[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),n.push(o)}for(i=1,r=n.length-1;i<r;i++)if(!n[i].offset){for(var a=M(n[i-1].offset||0),l=0,u=i+1;u<r;u++)if(n[u].offset){l=n[u].offset;break}l||(l=100,u=r);for(var c=((l=M(l))-a)/(u-i+1);i<u;i++)a+=c,n[i].offset=a+"%"}return n})),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Dt=(e._tofront=function(t,e){e.top!==t&&(Et(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Et(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Et(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Et(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=vt(t),i={_:{transform:m},getBBox:function(){return n}};return Nt(i,e),i.matrix}),Nt=(e.transformPath=function(t,e){return J(t,Dt(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=v(n).replace(/\.{3}|\u2026/g,t._.transform||m);var i,r,o=e.parseTransformString(n),s=0,a=1,l=1,u=t._,c=new Ot;if(u.transform=o||[],o)for(var f=0,d=o.length;f<d;f++){var h,p,g,y,b,x=o[f],w=x.length,_=v(x[0]).toLowerCase(),C=x[0]!=_,k=C?c.invert():0;"t"==_&&3==w?C?(h=k.x(0,0),p=k.y(0,0),g=k.x(x[1],x[2]),y=k.y(x[1],x[2]),c.translate(g-h,y-p)):c.translate(x[1],x[2]):"r"==_?2==w?(b=b||t.getBBox(1),c.rotate(x[1],b.x+b.width/2,b.y+b.height/2),s+=x[1]):4==w&&(C?(g=k.x(x[2],x[3]),y=k.y(x[2],x[3]),c.rotate(x[1],g,y)):c.rotate(x[1],x[2],x[3]),s+=x[1]):"s"==_?2==w||3==w?(b=b||t.getBBox(1),c.scale(x[1],x[w-1],b.x+b.width/2,b.y+b.height/2),a*=x[1],l*=x[w-1]):5==w&&(C?(g=k.x(x[3],x[4]),y=k.y(x[3],x[4]),c.scale(x[1],x[2],g,y)):c.scale(x[1],x[2],x[3],x[4]),a*=x[1],l*=x[2]):"m"==_&&7==w&&c.add(x[1],x[2],x[3],x[4],x[5],x[6]),u.dirtyT=1,t.matrix=c}t.matrix=c,u.sx=a,u.sy=l,u.deg=s,u.dx=i=c.e,u.dy=r=c.f,1==a&&1==l&&!s&&u.bbox?(u.bbox.x+=+i,u.bbox.y+=+r):u.dirtyT=1}),At=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Pt=e._equaliseTransform=function(t,n){n=v(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var i,r,o,s,a=_(t.length,n.length),l=[],u=[],c=0;c<a;c++){if(o=t[c]||At(n[c]),s=n[c]||At(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(l[c]=[],u[c]=[],i=0,r=_(o.length,s.length);i<r;i++)i in o&&(l[c][i]=o[i]),i in s&&(u[c][i]=s[i])}return{from:l,to:u}};function Ot(t,e,n,i,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}e._getContainer=function(t,n,i,r){var o;if(null!=(o=null!=r||e.is(t,"object")?t:c.doc.getElementById(t)))return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:i}:{container:1,x:t,y:n,width:i,height:r}},e.pathToRelative=bt,e._engine={},e.path2curve=Tt,e.matrix=function(t,e,n,i,r,o){return new Ot(t,e,n,i,r,o)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=w.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,r,o){var s,a,l,u,c=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],d=[[t,n,r],[e,i,o],[0,0,1]];for(t&&t instanceof Ot&&(d=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(a=0;a<3;a++){for(u=0,l=0;l<3;l++)u+=f[s][l]*d[l][a];c[s][a]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new Ot(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new Ot(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var r=+w.cos(t).toFixed(9),o=+w.sin(t).toFixed(9);this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[v.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=w.sqrt(n(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=w.sqrt(n(r[1])),i(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return s<0?(t.rotate=e.deg(w.acos(s)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(w.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this.split();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:m)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:m)+(e.rotate?"r"+[e.rotate,0,0]:m)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(Ot.prototype);for(var It=function(){this.returnValue=!1},Mt=function(){return this.originalEvent.preventDefault()},Bt=function(){this.cancelBubble=!0},Rt=function(){return this.originalEvent.stopPropagation()},Lt=function(t){var e=c.doc.documentElement.scrollTop||c.doc.body.scrollTop,n=c.doc.documentElement.scrollLeft||c.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},Ft=c.doc.addEventListener?function(t,e,n,i){var r=function(t){var e=Lt(t);return n.call(i,t,e.x,e.y)};if(t.addEventListener(e,r,!1),p&&b[e]){var o=function(e){for(var r=Lt(e),o=e,s=0,a=e.targetTouches&&e.targetTouches.length;s<a;s++)if(e.targetTouches[s].target==t){(e=e.targetTouches[s]).originalEvent=o,e.preventDefault=Mt,e.stopPropagation=Rt;break}return n.call(i,e,r.x,r.y)};t.addEventListener(b[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),p&&b[e]&&t.removeEventListener(b[e],o,!1),!0}}:c.doc.attachEvent?function(t,e,n,i){var r=function(t){t=t||c.win.event;var e=c.doc.documentElement.scrollTop||c.doc.body.scrollTop,r=c.doc.documentElement.scrollLeft||c.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||It,t.stopPropagation=t.stopPropagation||Bt,n.call(i,t,o,s)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0,Ht=[],zt=function(e){for(var n,i=e.clientX,r=e.clientY,o=c.doc.documentElement.scrollTop||c.doc.body.scrollTop,s=c.doc.documentElement.scrollLeft||c.doc.body.scrollLeft,a=Ht.length;a--;){if(n=Ht[a],p&&e.touches){for(var l,u=e.touches.length;u--;)if((l=e.touches[u]).identifier==n.el._drag.id){i=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var f,d=n.el.node,h=d.nextSibling,m=d.parentNode,g=d.style.display;c.win.opera&&m.removeChild(d),d.style.display="none",f=n.el.paper.getElementByPoint(i,r),d.style.display=g,c.win.opera&&(h?m.insertBefore(d,h):m.appendChild(d)),f&&t("raphael.drag.over."+n.el.id,n.el,f),i+=s,r+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},jt=function(n){e.unmousemove(zt).unmouseup(jt);for(var i,r=Ht.length;r--;)(i=Ht[r]).el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);Ht=[]},Wt=e.el={},$t=y.length;$t--;)!function(t){e[t]=Wt[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:Ft(this.shape||this.node||c.doc,t,n,i||this)})),this},e["un"+t]=Wt["un"+t]=function(n){for(var i=this.events||[],r=i.length;r--;)i[r].name!=t||!e.is(n,"undefined")&&i[r].f!=n||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}(y[$t]);Wt.data=function(n,i){var r=U[this.id]=U[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(n,"object")){for(var o in n)n[u](o)&&this.data(o,n[o]);return this}return t("raphael.data.get."+this.id,this,r[n],n),r[n]}return r[n]=i,t("raphael.data.set."+this.id,this,i,n),this},Wt.removeData=function(t){return null==t?U[this.id]={}:U[this.id]&&delete U[this.id][t],this},Wt.getData=function(){return tt(U[this.id]||{})},Wt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},Wt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var qt=[];function Ut(){return this.x+g+this.y+g+this.width+" Ã "+this.height}Wt.drag=function(n,i,r,o,s,a){function l(l){(l.originalEvent||l).preventDefault();var u=l.clientX,f=l.clientY,d=c.doc.documentElement.scrollTop||c.doc.body.scrollTop,h=c.doc.documentElement.scrollLeft||c.doc.body.scrollLeft;if(this._drag.id=l.identifier,p&&l.touches)for(var m,g=l.touches.length;g--;)if(m=l.touches[g],this._drag.id=m.identifier,m.identifier==this._drag.id){u=m.clientX,f=m.clientY;break}this._drag.x=u+h,this._drag.y=f+d,!Ht.length&&e.mousemove(zt).mouseup(jt),Ht.push({el:this,move_scope:o,start_scope:s,end_scope:a}),i&&t.on("raphael.drag.start."+this.id,i),n&&t.on("raphael.drag.move."+this.id,n),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,s||o||this,l.clientX+h,l.clientY+d,l)}return this._drag={},qt.push({el:this,start:l}),this.mousedown(l),this},Wt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Wt.undrag=function(){for(var n=qt.length;n--;)qt[n].el==this&&(this.unmousedown(qt[n].start),qt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!qt.length&&e.unmousemove(zt).unmouseup(jt),Ht=[]},i.circle=function(t,n,i){var r=e._engine.circle(this,t||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},i.rect=function(t,n,i,r,o){var s=e._engine.rect(this,t||0,n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},i.ellipse=function(t,n,i,r){var o=e._engine.ellipse(this,t||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},i.path=function(t){t&&!e.is(t,"string")&&!e.is(t[0],D)&&(t+=m);var n=e._engine.path(e.format[h](e,arguments),this);return this.__set__&&this.__set__.push(n),n},i.image=function(t,n,i,r,o){var s=e._engine.image(this,t||"about:blank",n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},i.text=function(t,n,i){var r=e._engine.text(this,t||0,n||0,v(i));return this.__set__&&this.__set__.push(r),r},i.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new ce(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},i.setStart=function(t){this.__set__=t||this.set()},i.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},i.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},i.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},i.setViewBox=function(t,n,i,r,o){return e._engine.setViewBox.call(this,t,n,i,r,o)},i.top=i.bottom=null,i.raphael=e,i.getElementByPoint=function(t,e){var n,i,r,o,s,a,l,u=this.canvas,f=c.doc.elementFromPoint(t,e);if(c.win.opera&&"svg"==f.tagName){var d=(i=(n=u).getBoundingClientRect(),r=n.ownerDocument,o=r.body,s=r.documentElement,a=s.clientTop||o.clientTop||0,l=s.clientLeft||o.clientLeft||0,{y:i.top+(c.win.pageYOffset||s.scrollTop||o.scrollTop)-a,x:i.left+(c.win.pageXOffset||s.scrollLeft||o.scrollLeft)-l}),h=u.createSVGRect();h.x=t-d.x,h.y=e-d.y,h.width=h.height=1;var p=u.getIntersectionList(h,null);p.length&&(f=p[p.length-1])}if(!f)return null;for(;f.parentNode&&f!=u.parentNode&&!f.raphael;)f=f.parentNode;return f==this.canvas.parentNode&&(f=u),f=f&&f.raphael?this.getById(f.raphaelid):null},i.getElementsByBBox=function(t){var n=this.set();return this.forEach((function(i){e.isBBoxIntersect(i.getBBox(),t)&&n.push(i)})),n},i.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},i.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},i.getElementsByPoint=function(t,e){var n=this.set();return this.forEach((function(i){i.isPointInside(t,e)&&n.push(i)})),n},Wt.isPointInside=function(t,n){var i=this.realPath=K[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,n)},Wt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=K[this.type](this),e.bboxwt=vt(this.realPath),e.bboxwt.toString=Ut,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=K[this.type](this)),e.bbox=vt(J(this.realPath,this.matrix)),e.bbox.toString=Ut,e.dirty=e.dirtyT=0),e.bbox)},Wt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Wt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),o=this.realPath||K[this.type](this);o=this.matrix?J(o,this.matrix):o;for(var s=1;s<n+1;s++)r.push(i.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*s).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Vt=function(t,n,i,r,o,s,a,l,u){return null==u?ht(t,n,i,r,o,s,a,l):e.findDotsAtSegment(t,n,i,r,o,s,a,l,function(t,e,n,i,r,o,s,a,l){if(!(l<0||ht(t,e,n,i,r,o,s,a)<l)){var u,c=.5,f=1-c;for(u=ht(t,e,n,i,r,o,s,a,f);k(u-l)>.01;)u=ht(t,e,n,i,r,o,s,a,f+=(u<l?1:-1)*(c/=2));return f}}(t,n,i,r,o,s,a,l,u))},Yt=function(t,n){return function(i,r,o){for(var s,a,l,u,c,f="",d={},h=0,p=0,m=(i=Tt(i)).length;p<m;p++){if("M"==(l=i[p])[0])s=+l[1],a=+l[2];else{if(h+(u=Vt(s,a,l[1],l[2],l[3],l[4],l[5],l[6]))>r){if(n&&!d.start){if(f+=["C"+(c=Vt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-h)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return f;d.start=f,f=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),h+=u,s=+l[5],a=+l[6];continue}if(!t&&!n)return{x:(c=Vt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-h)).x,y:c.y,alpha:c.alpha}}h+=u,s=+l[5],a=+l[6]}f+=l.shift()+l}return d.end=f,(c=t?h:n?d:e.findDotsAtSegment(s,a,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Xt=Yt(1),Gt=Yt(),Kt=Yt(0,1);e.getTotalLength=Xt,e.getPointAtLength=Gt,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return Kt(t,e).end;var i=Kt(t,n,1);return e?Kt(i,e).end:i},Wt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Xt(t)},Wt.getPointAtLength=function(t){var e=this.getPath();if(e)return Gt(e,t)},Wt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},Wt.getSubpath=function(t,n){var i=this.getPath();if(i)return e.getSubpath(i,t,n)};var Jt=e.easing_formulas={linear:function(t){return t},"<":function(t){return S(t,1.7)},">":function(t){return S(t,.48)},"<>":function(t){var e=.48-t/1.04,n=w.sqrt(.1734+e*e),i=n-e,r=-n-e,o=S(k(i),1/3)*(i<0?-1:1)+S(k(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:S(2,-10*t)*w.sin(2*T*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};Jt.easeIn=Jt["ease-in"]=Jt["<"],Jt.easeOut=Jt["ease-out"]=Jt[">"],Jt.easeInOut=Jt["ease-in-out"]=Jt["<>"],Jt["back-in"]=Jt.backIn,Jt["back-out"]=Jt.backOut;var Qt=[],Zt=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},te=function(){for(var n=+new Date,i=0;i<Qt.length;i++){var r=Qt[i];if(!r.el.removed&&!r.paused){var o,s,a=n-r.start,l=r.ms,c=r.easing,f=r.from,d=r.diff,h=r.to,p=(r.t,r.el),m={},v={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&Qt.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/l))/r.anim.top,!(a<0))if(a<l){var y=c(a/l);for(var b in f)if(f[u](b)){switch(F[b]){case E:o=+f[b]+y*l*d[b];break;case"colour":o="rgb("+[ee(I(f[b].r+y*l*d[b].r)),ee(I(f[b].g+y*l*d[b].g)),ee(I(f[b].b+y*l*d[b].b))].join(",")+")";break;case"path":o=[];for(var x=0,w=f[b].length;x<w;x++){o[x]=[f[b][x][0]];for(var _=1,C=f[b][x].length;_<C;_++)o[x][_]=+f[b][x][_]+y*l*d[b][x][_];o[x]=o[x].join(g)}o=o.join(g);break;case"transform":if(d[b].real)for(o=[],x=0,w=f[b].length;x<w;x++)for(o[x]=[f[b][x][0]],_=1,C=f[b][x].length;_<C;_++)o[x][_]=f[b][x][_]+y*l*d[b][x][_];else{var k=function(t){return+f[b][t]+y*l*d[b][t]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==b)for(o=[],x=4;x--;)o[x]=+f[b][x]+y*l*d[b][x];break;default:var S=[].concat(f[b]);for(o=[],x=p.paper.customAttributes[b].length;x--;)o[x]=+S[x]+y*l*d[b][x]}m[b]=o}p.attr(m),function(e,n,i){setTimeout((function(){t("raphael.anim.frame."+e,n,i)}))}(p.id,p,r.anim)}else{if(function(n,i,r){setTimeout((function(){t("raphael.anim.frame."+i.id,i,r),t("raphael.anim.finish."+i.id,i,r),e.is(n,"function")&&n.call(i)}))}(r.callback,p,r.anim),p.attr(h),Qt.splice(i--,1),r.repeat>1&&!r.next){for(s in h)h[u](s)&&(v[s]=r.totalOrigin[s]);r.el.attr(v),re(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&re(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}Qt.length&&Zt(te)},ee=function(t){return t>255?255:t<0?0:t};function ne(t,e,n,i,r,o){var s=3*e,a=3*(i-e)-s,l=1-s-a,u=3*n,c=3*(r-n)-u,f=1-u-c;function d(t){return((l*t+a)*t+s)*t}return function(t,e){var n=function(t,e){var n,i,r,o,u,c;for(r=t,c=0;c<8;c++){if(o=d(r)-t,k(o)<e)return r;if(k(u=(3*l*r+2*a)*r+s)<1e-6)break;r-=o/u}if(i=1,(r=t)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=d(r),k(o-t)<e)return r;t>o?n=r:i=r,r=(i-n)/2+n}return r}(t,e);return((f*n+c)*n+u)*n}(t,1/(200*o))}function ie(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[u](r)&&(i[M(r)]=t[r],n.push(M(r)));n.sort(V)}this.anim=i,this.top=n[n.length-1],this.percents=n}function re(n,i,r,o,a,l){r=M(r);var c,f,d,h,p,m,g=n.ms,y={},b={},x={};if(o)for(_=0,C=Qt.length;_<C;_++){var w=Qt[_];if(w.el.id==i.id&&w.anim==n){w.percent!=r?(Qt.splice(_,1),d=1):f=w,i.attr(w.totalOrigin);break}}else o=+b;for(var _=0,C=n.percents.length;_<C;_++){if(n.percents[_]==r||n.percents[_]>o*n.top){r=n.percents[_],p=n.percents[_-1]||0,g=g/n.top*(r-p),h=n.percents[_+1],c=n.anim[r];break}o&&i.attr(n.anim[n.percents[_]])}if(c){if(f)f.initstatus=o,f.start=new Date-f.ms*o;else{for(var k in c)if(c[u](k)&&(F[u](k)||i.paper.customAttributes[u](k)))switch(y[k]=i.attr(k),null==y[k]&&(y[k]=L[k]),b[k]=c[k],F[k]){case E:x[k]=(b[k]-y[k])/g;break;case"colour":y[k]=e.getRGB(y[k]);var S=e.getRGB(b[k]);x[k]={r:(S.r-y[k].r)/g,g:(S.g-y[k].g)/g,b:(S.b-y[k].b)/g};break;case"path":var T=Tt(y[k],b[k]),D=T[1];for(y[k]=T[0],x[k]=[],_=0,C=y[k].length;_<C;_++){x[k][_]=[0];for(var N=1,A=y[k][_].length;N<A;N++)x[k][_][N]=(D[_][N]-y[k][_][N])/g}break;case"transform":var P=i._,I=Pt(P[k],b[k]);if(I)for(y[k]=I.from,b[k]=I.to,x[k]=[],x[k].real=!0,_=0,C=y[k].length;_<C;_++)for(x[k][_]=[y[k][_][0]],N=1,A=y[k][_].length;N<A;N++)x[k][_][N]=(b[k][_][N]-y[k][_][N])/g;else{var B=i.matrix||new Ot,R={_:{transform:P.transform},getBBox:function(){return i.getBBox(1)}};y[k]=[B.a,B.b,B.c,B.d,B.e,B.f],Nt(R,b[k]),b[k]=R._.transform,x[k]=[(R.matrix.a-B.a)/g,(R.matrix.b-B.b)/g,(R.matrix.c-B.c)/g,(R.matrix.d-B.d)/g,(R.matrix.e-B.e)/g,(R.matrix.f-B.f)/g]}break;case"csv":var H=v(c[k]).split(s),z=v(y[k]).split(s);if("clip-rect"==k)for(y[k]=z,x[k]=[],_=z.length;_--;)x[k][_]=(H[_]-y[k][_])/g;b[k]=H;break;default:for(H=[].concat(c[k]),z=[].concat(y[k]),x[k]=[],_=i.paper.customAttributes[k].length;_--;)x[k][_]=((H[_]||0)-(z[_]||0))/g}var j=c.easing,W=e.easing_formulas[j];if(!W)if((W=v(j).match(O))&&5==W.length){var $=W;W=function(t){return ne(t,+$[1],+$[2],+$[3],+$[4],g)}}else W=Y;if(w={anim:n,percent:r,timestamp:m=c.start||n.start||+new Date,start:m+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:W,from:y,diff:x,to:b,el:i,callback:c.callback,prev:p,next:h,repeat:l||n.times,origin:i.attr(),totalOrigin:a},Qt.push(w),o&&!f&&!d&&(w.stop=!0,w.start=new Date-g*o,1==Qt.length))return te();d&&(w.start=new Date-w.ms*o),1==Qt.length&&Zt(te)}t("raphael.anim.start."+i.id,i,n)}}function oe(t){for(var e=0;e<Qt.length;e++)Qt[e].el.paper==t&&Qt.splice(e--,1)}Wt.animateWith=function(t,n,i,r,o,s){if(this.removed)return s&&s.call(this),this;var a=i instanceof ie?i:e.animation(i,r,o,s);re(a,this,a.percents[0],null,this.attr());for(var l=0,u=Qt.length;l<u;l++)if(Qt[l].anim==n&&Qt[l].el==t){Qt[u-1].start=Qt[l].start;break}return this},Wt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},ie.prototype.delay=function(t){var e=new ie(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},ie.prototype.repeat=function(t){var e=new ie(this.anim,this.ms);return e.del=this.del,e.times=w.floor(_(t,0))||1,e},e.animation=function(t,n,i,r){if(t instanceof ie)return t;!e.is(i,"function")&&i||(r=r||i||null,i=null),t=Object(t),n=+n||0;var o,s,a={};for(s in t)t[u](s)&&M(s)!=s&&M(s)+"%"!=s&&(o=!0,a[s]=t[s]);if(o)return i&&(a.easing=i),r&&(a.callback=r),new ie({100:a},n);if(r){var l=0;for(var c in t){var f=B(c);t[u](c)&&f>l&&(l=f)}!t[l+="%"].callback&&(t[l].callback=r)}return new ie(t,n)},Wt.animate=function(t,n,i,r){if(this.removed)return r&&r.call(this),this;var o=t instanceof ie?t:e.animation(t,n,i,r);return re(o,this,o.percents[0],null,this.attr()),this},Wt.setTime=function(t,e){return t&&null!=e&&this.status(t,C(e,t.ms)/t.ms),this},Wt.status=function(t,e){var n,i,r=[],o=0;if(null!=e)return re(t,this,-1,C(e,1)),this;for(n=Qt.length;o<n;o++)if((i=Qt[o]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},Wt.pause=function(e){for(var n=0;n<Qt.length;n++)Qt[n].el.id!=this.id||e&&Qt[n].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,Qt[n].anim)&&(Qt[n].paused=!0);return this},Wt.resume=function(e){for(var n=0;n<Qt.length;n++)if(Qt[n].el.id==this.id&&(!e||Qt[n].anim==e)){var i=Qt[n];!1!==t("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},Wt.stop=function(e){for(var n=0;n<Qt.length;n++)Qt[n].el.id!=this.id||e&&Qt[n].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,Qt[n].anim)&&Qt.splice(n--,1);return this},t.on("raphael.remove",oe),t.on("raphael.clear",oe),Wt.toString=function(){return"RaphaÃ«lâs object"};var se,ae,le,ue,ce=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Wt.constructor&&t[e].constructor!=ce||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},fe=ce.prototype;for(var de in fe.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=Wt.constructor&&t.constructor!=ce||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},fe.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},fe.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this},Wt)Wt[u](de)&&(fe[de]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t][h](n,e)}))}}(de));return fe.attr=function(t,n){if(t&&e.is(t,D)&&e.is(t[0],"object"))for(var i=0,r=t.length;i<r;i++)this.items[i].attr(t[i]);else for(var o=0,s=this.items.length;o<s;o++)this.items[o].attr(t,n);return this},fe.clear=function(){for(;this.length;)this.pop()},fe.splice=function(t,e,n){t=t<0?_(this.length+t,0):t,e=_(0,C(this.length-t,e));var i,r=[],o=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<e;i++)o.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var a=s.length;for(i=0;i<a+r.length;i++)this.items[t+i]=this[t+i]=i<a?s[i]:r[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new ce(o)},fe.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},fe.animate=function(t,n,i,r){(e.is(i,"function")||!i)&&(r=i||null);var o,s,a=this.items.length,l=a,u=this;if(!a)return this;r&&(s=function(){!--a&&r.call(u)}),i=e.is(i,"string")?i:s;var c=e.animation(t,n,i,s);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c),this.items[l]&&!this.items[l].removed||a--;return this},fe.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},fe.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return{x:t=C[h](0,t),y:e=C[h](0,e),x2:n=_[h](0,n),y2:i=_[h](0,i),width:n-t,height:i-e}},fe.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},fe.toString=function(){return"RaphaÃ«lâs set"},fe.glow=function(t){var e=this.paper.set();return this.forEach((function(n,i){var r=n.glow(t);null!=r&&r.forEach((function(t,n){e.push(t)}))})),e},fe.isPointInside=function(t,e){var n=!1;return this.forEach((function(i){if(i.isPointInside(t,e))return n=!0,!1})),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[u](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var r in e.face["units-per-em"]=B(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[u](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,(function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"}))+"z"},o.k)for(var s in o.k)o[u](s)&&(e.glyphs[r].k[s]=o.k[s])}return t},i.getFont=function(t,n,i,r){if(r=r||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var o,s=e.fonts[t];if(!s){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,m)+"(\\s|$)","i");for(var l in e.fonts)if(e.fonts[u](l)&&a.test(l)){s=e.fonts[l];break}}if(s)for(var c=0,f=s.length;c<f&&((o=s[c]).face["font-weight"]!=n||o.face["font-style"]!=i&&o.face["font-style"]||o.face["font-stretch"]!=r);c++);return o}},i.print=function(t,n,i,r,o,a,l,u){a=a||"middle",l=_(C(l||0,1),-1),u=_(C(u||1,3),1);var c,f=v(i).split(m),d=0,h=0,p=m;if(e.is(r,"string")&&(r=this.getFont(r)),r){c=(o||16)/r.face["units-per-em"];for(var g=r.face.bbox.split(s),y=+g[0],b=g[3]-g[1],x=0,w=+g[1]+("baseline"==a?b+ +r.face.descent:b/2),k=0,S=f.length;k<S;k++){if("\n"==f[k])d=0,E=0,h=0,x+=b*u;else{var T=h&&r.glyphs[f[k-1]]||{},E=r.glyphs[f[k]];d+=h?(T.w||r.w)+(T.k&&T.k[f[k]]||0)+r.w*l:0,h=1}E&&E.d&&(p+=e.transformPath(E.d,["t",d*c,x*c,"s",c,c,y,w,"t",(t-y)/c,(n-w)/c]))}}return this.path(p).attr({fill:"#000",stroke:"none"})},i.add=function(t){if(e.is(t,"array"))for(var n,i=this.set(),r=0,o=t.length;r<o;r++)n=t[r]||{},a[u](n.type)&&i.push(this[n.type]().attr(n));return i},e.format=function(t,n){var i=e.is(n,D)?[0].concat(n):arguments;return t&&e.is(t,"string")&&i.length-1&&(t=t.replace(l,(function(t,e){return null==i[++e]?m:i[e]}))),t||m},e.fullfill=(se=/\{([^\}]+)\}/g,ae=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,function(t,e){return String(t).replace(se,(function(t,n){return function(t,e,n){var i=n;return e.replace(ae,(function(t,e,n,r,o){e=e||r,i&&(e in i&&(i=i[e]),"function"==typeof i&&o&&(i=i()))})),i=(null==i||i==n?t:i)+""}(t,n,e)}))}),e.ninja=function(){if(f.was)c.win.Raphael=f.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=fe,t.on("raphael.DOMload",(function(){n=!0})),null==(le=document).readyState&&le.addEventListener&&(le.addEventListener("DOMContentLoaded",ue=function(){le.removeEventListener("DOMContentLoaded",ue,!1),le.readyState="complete"},!1),le.readyState="loading"),function t(){/in/.test(le.readyState)?setTimeout(t,9):e.eve("raphael.DOMload")}(),e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r,o,s,a,l,u,c,f,d,h,p,m;s="hasOwnProperty",a=/[\.\/]/,l=/\s*,\s*/,u=function(t,e){return t-e},c={n:{}},f=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},d=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},h=Object.prototype.toString,p=String,m=Array.isArray||function(t){return t instanceof Array||"[object Array]"==h.call(t)},eve=function(t,e){var n,i=o,s=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),l=0,c=[],h={},p=[],m=r;p.firstDefined=f,p.lastDefined=d,r=t,o=0;for(var g=0,v=a.length;g<v;g++)"zIndex"in a[g]&&(c.push(a[g].zIndex),a[g].zIndex<0&&(h[a[g].zIndex]=a[g]));for(c.sort(u);c[l]<0;)if(n=h[c[l++]],p.push(n.apply(e,s)),o)return o=i,p;for(g=0;g<v;g++)if("zIndex"in(n=a[g]))if(n.zIndex==c[l]){if(p.push(n.apply(e,s)),o)break;do{if((n=h[c[++l]])&&p.push(n.apply(e,s)),o)break}while(n)}else h[n.zIndex]=n;else if(p.push(n.apply(e,s)),o)break;return o=i,r=m,p},eve._events=c,eve.listeners=function(t){var e,n,i,r,o,s,l,u,f=m(t)?t:t.split(a),d=c,h=[d],p=[];for(r=0,o=f.length;r<o;r++){for(u=[],s=0,l=h.length;s<l;s++)for(n=[(d=h[s].n)[f[r]],d["*"]],i=2;i--;)(e=n[i])&&(u.push(e),p=p.concat(e.f||[]));h=u}return p},eve.separator=function(t){t?(t="["+(t=p(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",a=new RegExp(t)):a=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=m(t)?m(t[0])?t:[t]:p(t).split(l),i=0,r=n.length;i<r;i++)!function(t){for(var n,i=m(t)?t:p(t).split(a),r=c,o=0,s=i.length;o<s;o++)r=(r=r.n).hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,s=r.f.length;o<s;o++)if(r.f[o]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){o=1},eve.nt=function(t){var e=m(r)?r.join("."):r;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return m(r)?r:r.split(a)},eve.off=eve.unbind=function(t,e){if(t){var n=m(t)?m(t[0])?t:[t]:p(t).split(l);if(n.length>1)for(var i=0,r=n.length;i<r;i++)eve.off(n[i],e);else{n=m(t)?t:p(t).split(a);var o,u,f,d,h,g=[c];for(i=0,r=n.length;i<r;i++)for(d=0;d<g.length;d+=f.length-2){if(f=[d,1],o=g[d].n,"*"!=n[i])o[n[i]]&&f.push(o[n[i]]);else for(u in o)o[s](u)&&f.push(o[u]);g.splice.apply(g,f)}for(i=0,r=g.length;i<r;i++)for(o=g[i];o.n;){if(e){if(o.f){for(d=0,h=o.f.length;d<h;d++)if(o.f[d]==e){o.f.splice(d,1);break}!o.f.length&&delete o.f}for(u in o.n)if(o.n[s](u)&&o.n[u].f){var v=o.n[u].f;for(d=0,h=v.length;d<h;d++)if(v[d]==e){v.splice(d,1);break}!v.length&&delete o.n[u].f}}else for(u in delete o.f,o.n)o.n[s](u)&&o.n[u].f&&delete o.n[u].f;o=o.n}}}else eve._events=c={n:{}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version="0.5.0",eve.toString=function(){return"You are running Eve 0.5.0"},void 0!==t&&t.exports?t.exports=eve:void 0===(i=function(){return eve}.apply(e,[]))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,i=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,l=o.pow,u=/[, ]+/,c=t.eve,f="",d=" ",h="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};t.toString=function(){return"Your browser supports SVG.\nYou are running RaphaÃ«l "+this.version};var g=function(i,r){if(r)for(var o in"string"==typeof i&&(i=g(i)),r)r[e](o)&&("xlink:"==o.substring(0,6)?i.setAttributeNS(h,o.substring(6),n(r[o])):i.setAttribute(o,n(r[o])));else(i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i)).style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,r){var u="linear",c=e.id+r,d=.5,h=.5,p=e.node,m=e.paper,v=p.style,b=t._g.doc.getElementById(c);if(!b){if(r=(r=n(r).replace(t._radial_gradient,(function(t,e,n){if(u="radial",e&&n){d=i(e);var r=2*((h=i(n))>.5)-1;l(d-.5,2)+l(h-.5,2)>.25&&(h=o.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=h&&(h=h.toFixed(5)-1e-5*r)}return f}))).split(/\s*\-\s*/),"linear"==u){var x=r.shift();if(x=-i(x),isNaN(x))return null;var w=[0,0,o.cos(t.rad(x)),o.sin(t.rad(x))],_=1/(s(a(w[2]),a(w[3]))||1);w[2]*=_,w[3]*=_,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var C=t._parseDots(r);if(!C)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=g(u+"Gradient",{id:c}),e.gradient=b,g(b,"radial"==u?{fx:d,fy:h}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(b);for(var k=0,S=C.length;k<S;k++)b.appendChild(g("stop",{offset:C[k].offset?C[k].offset:k?"100%":"0%","stop-color":C[k].color||"#fff","stop-opacity":isFinite(C[k].opacity)?C[k].opacity:1}))}}return g(p,{fill:y(c),opacity:1,"fill-opacity":1}),v.fill=f,v.opacity=1,v.fillOpacity=1,1},y=function(t){if((e=document.documentMode)&&(9===e||10===e))return"url('#"+t+"')";var e,n=document.location;return"url('"+n.protocol+"//"+n.host+n.pathname+n.search+"#"+t+"')"},b=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},x=function(i,r,o){if("path"==i.type){for(var s,a,l,u,c,d=n(r).toLowerCase().split("-"),h=i.paper,v=o?"end":"start",y=i.node,b=i.attrs,x=b["stroke-width"],w=d.length,_="classic",C=3,k=3,S=5;w--;)switch(d[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=d[w];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":C=5;break;case"short":C=2}if("open"==_?(C+=2,k+=2,S+=2,l=1,u=o?4:1,c={fill:"none",stroke:b.stroke}):(u=l=C/2,c={fill:b.stroke,stroke:"none"}),i._.arrows?o?(i._.arrows.endPath&&m[i._.arrows.endPath]--,i._.arrows.endMarker&&m[i._.arrows.endMarker]--):(i._.arrows.startPath&&m[i._.arrows.startPath]--,i._.arrows.startMarker&&m[i._.arrows.startMarker]--):i._.arrows={},"none"!=_){var T="raphael-marker-"+_,E="raphael-marker-"+v+_+C+k+"-obj"+i.id;t._g.doc.getElementById(T)?m[T]++:(h.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:p[_],id:T})),m[T]=1);var D,N=t._g.doc.getElementById(E);N?(m[E]++,D=N.getElementsByTagName("use")[0]):(N=g(g("marker"),{id:E,markerHeight:k,markerWidth:C,orient:"auto",refX:u,refY:k/2}),D=g(g("use"),{"xlink:href":"#"+T,transform:(o?"rotate(180 "+C/2+" "+k/2+") ":f)+"scale("+C/S+","+k/S+")","stroke-width":(1/((C/S+k/S)/2)).toFixed(4)}),N.appendChild(D),h.defs.appendChild(N),m[E]=1),g(D,c);var A=l*("diamond"!=_&&"oval"!=_);o?(s=i._.arrows.startdx*x||0,a=t.getTotalLength(b.path)-A*x):(s=A*x,a=t.getTotalLength(b.path)-(i._.arrows.enddx*x||0)),(c={})["marker-"+v]="url(#"+E+")",(a||s)&&(c.d=t.getSubpath(b.path,s,a)),g(y,c),i._.arrows[v+"Path"]=T,i._.arrows[v+"Marker"]=E,i._.arrows[v+"dx"]=A,i._.arrows[v+"Type"]=_,i._.arrows[v+"String"]=r}else o?(s=i._.arrows.startdx*x||0,a=t.getTotalLength(b.path)-s):(s=0,a=t.getTotalLength(b.path)-(i._.arrows.enddx*x||0)),i._.arrows[v+"Path"]&&g(y,{d:t.getSubpath(b.path,s,a)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(c in m)if(m[e](c)&&!m[c]){var P=t._g.doc.getElementById(c);P&&P.parentNode.removeChild(P)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(t,e,i){if(e=w[n(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],a=e.length;a--;)s[a]=e[a]*r+(a%2?1:-1)*o;g(t.node,{"stroke-dasharray":s.join(",")})}else g(t.node,{"stroke-dasharray":"none"})},C=function(i,o){var l=i.node,c=i.attrs,d=l.style.visibility;for(var p in l.style.visibility="hidden",o)if(o[e](p)){if(!t._availableAttrs[e](p))continue;var m=o[p];switch(c[p]=m,p){case"blur":i.blur(m);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=m;else{y=g("title");var w=t._g.doc.createTextNode(m);y.appendChild(w),l.appendChild(y)}break;case"href":case"target":var C=l.parentNode;if("a"!=C.tagName.toLowerCase()){var S=g("a");C.insertBefore(S,l),S.appendChild(l),C=S}"target"==p?C.setAttributeNS(h,"show","blank"==m?"new":m):C.setAttributeNS(h,p,m);break;case"cursor":l.style.cursor=m;break;case"transform":i.transform(m);break;case"arrow-start":x(i,m);break;case"arrow-end":x(i,m,1);break;case"clip-rect":var T=n(m).split(u);if(4==T.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var E=g("clipPath"),D=g("rect");E.id=t.createUUID(),g(D,{x:T[0],y:T[1],width:T[2],height:T[3]}),E.appendChild(D),i.paper.defs.appendChild(E),g(l,{"clip-path":"url(#"+E.id+")"}),i.clip=D}if(!m){var N=l.getAttribute("clip-path");if(N){var A=t._g.doc.getElementById(N.replace(/(^url\(#|\)$)/g,f));A&&A.parentNode.removeChild(A),g(l,{"clip-path":f}),delete i.clip}}break;case"path":"path"==i.type&&(g(l,{d:m?c.path=t._pathToAbsolute(m):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,m),i._.dirty=1,!c.fx)break;p="x",m=c.x;case"x":c.fx&&(m=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==i.type)break;case"cx":l.setAttribute(p,m),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(p,m),i._.dirty=1,!c.fy)break;p="y",m=c.y;case"y":c.fy&&(m=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==i.type)break;case"cy":l.setAttribute(p,m),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?g(l,{rx:m,ry:m}):l.setAttribute(p,m),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(h,"href",m);break;case"stroke-width":1==i._.sx&&1==i._.sy||(m/=s(a(i._.sx),a(i._.sy))||1),l.setAttribute(p,m),c["stroke-dasharray"]&&_(i,c["stroke-dasharray"],o),i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1));break;case"stroke-dasharray":_(i,m,o);break;case"fill":var P=n(m).match(t._ISURL);if(P){E=g("pattern");var O=g("image");E.id=t.createUUID(),g(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(O,{x:0,y:0,"xlink:href":P[1]}),E.appendChild(O),function(e){t._preload(P[1],(function(){var t=this.offsetWidth,n=this.offsetHeight;g(e,{width:t,height:n}),g(O,{width:t,height:n})}))}(E),i.paper.defs.appendChild(E),g(l,{fill:"url(#"+E.id+")"}),i.pattern=E,i.pattern&&b(i);break}var I=t.getRGB(m);if(I.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(m).charAt())&&v(i,m)){if("opacity"in c||"fill-opacity"in c){var M=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(M){var B=M.getElementsByTagName("stop");g(B[B.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=m,c.fill="none";break}}else delete o.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(o.opacity,"undefined")&&g(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&g(l,{"fill-opacity":c["fill-opacity"]});I[e]("opacity")&&g(l,{"fill-opacity":I.opacity>1?I.opacity/100:I.opacity});case"stroke":I=t.getRGB(m),l.setAttribute(p,I.hex),"stroke"==p&&I[e]("opacity")&&g(l,{"stroke-opacity":I.opacity>1?I.opacity/100:I.opacity}),"stroke"==p&&i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(m).charAt())&&v(i,m);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(c.gradient){(M=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f)))&&(B=M.getElementsByTagName("stop"),g(B[B.length-1],{"stop-opacity":m}));break}default:"font-size"==p&&(m=r(m,10)+"px");var R=p.replace(/(\-.)/g,(function(t){return t.substring(1).toUpperCase()}));l.style[R]=m,i._.dirty=1,l.setAttribute(p,m)}}k(i,o),l.style.visibility=d},k=function(i,o){if("text"==i.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var s=i.attrs,a=i.node,l=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,f).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var u,c=n(o.text).split("\n"),d=[],h=0,p=c.length;h<p;h++)u=g("tspan"),h&&g(u,{dy:1.2*l,x:s.x}),u.appendChild(t._g.doc.createTextNode(c[h])),a.appendChild(u),d[h]=u}else for(h=0,p=(d=a.getElementsByTagName("tspan")).length;h<p;h++)h?g(d[h],{dy:1.2*l,x:s.x}):g(d[0],{dy:0});g(a,{x:s.x,y:s.y}),i._.dirty=1;var m=i._getBBox(),v=s.y-(m.y+m.height/2);v&&t.is(v,"finite")&&g(d[0],{dy:v})}},S=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},T=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},E=t.el;T.prototype=E,E.constructor=T,t._engine.path=function(t,e){var n=g("path");e.canvas&&e.canvas.appendChild(n);var i=new T(n,e);return i.type="path",C(i,{fill:"none",stroke:"#000",path:t}),i},E.rotate=function(t,e,r){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},E.scale=function(t,e,r,o){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3])),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},E.translate=function(t,e){return this.removed?this:((t=n(t).split(u)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},E.transform=function(n){var i=this._;if(null==n)return i.transform;if(t._extractTransform(this,n),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&g(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},E.hide=function(){return this.removed||(this.node.style.display="none"),this},E.show=function(){return this.removed||(this.node.style.display=""),this},E.remove=function(){var e=S(this.node);if(!this.removed&&e.parentNode){var n=this.paper;for(var i in n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData(),this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},E._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(t){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(e.display="none")}return t&&this.hide(),i},E.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var s=n.split(u),a={},l=0,f=s.length;l<f;l++)(n=s[l])in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return f-1?a:a[s[0]]}if(null==i&&t.is(n,"array")){for(a={},l=0,f=n.length;l<f;l++)a[n[l]]=this.attr(n[l]);return a}if(null!=i){var d={};d[n]=i}else null!=n&&t.is(n,"object")&&(d=n);for(var h in d)c("raphael.attr."+h+"."+this.id,this,d[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[e](h)&&d[e](h)&&t.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(d[h]));for(var m in this.attrs[h]=d[h],p)p[e](m)&&(d[m]=p[m])}return C(this,d),this},E.toFront=function(){if(this.removed)return this;var e=S(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},E.toBack=function(){if(this.removed)return this;var e=S(this.node),n=e.parentNode;return n.insertBefore(e,n.firstChild),t._toback(this,this.paper),this.paper,this},E.insertAfter=function(e){if(this.removed||!e)return this;var n=S(this.node),i=S(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},E.insertBefore=function(e){if(this.removed||!e)return this;var n=S(this.node),i=S(e.node||e[0].node);return i.parentNode.insertBefore(n,i),t._insertbefore(this,e,this.paper),this},E.blur=function(e){var n=this;if(0!=+e){var i=g("filter"),r=g("feGaussianBlur");n.attrs.blur=e,i.id=t.createUUID(),g(r,{stdDeviation:+e||1.5}),i.appendChild(r),n.paper.defs.appendChild(i),n._blur=i,g(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,i){var r=g("circle");t.canvas&&t.canvas.appendChild(r);var o=new T(r,t);return o.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",g(r,o.attrs),o},t._engine.rect=function(t,e,n,i,r,o){var s=g("rect");t.canvas&&t.canvas.appendChild(s);var a=new T(s,t);return a.attrs={x:e,y:n,width:i,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",g(s,a.attrs),a},t._engine.ellipse=function(t,e,n,i,r){var o=g("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new T(o,t);return s.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",g(o,s.attrs),s},t._engine.image=function(t,e,n,i,r,o){var s=g("image");g(s,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(h,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new T(s,t);return a.attrs={x:n,y:i,width:r,height:o,src:e},a.type="image",a},t._engine.text=function(e,n,i,r){var o=g("text");e.canvas&&e.canvas.appendChild(o);var s=new T(o,e);return s.attrs={x:n,y:i,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",C(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,i=e.x,r=e.y,o=e.width,s=e.height;if(!n)throw new Error("SVG container not found.");var a,l=g("svg"),u="overflow:hidden;";return i=i||0,r=r||0,g(l,{height:s=s||342,version:1.1,width:o=o||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=u+"position:absolute;left:"+i+"px;top:"+r+"px",t._g.doc.body.appendChild(l),a=1):(l.style.cssText=u+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new t._Paper).width=o,n.height=s,n.canvas=l,n.clear(),n._left=n._top=0,a&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,i,r){c("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,a,l=this.getSize(),u=s(n/l.width,i/l.height),f=this.top,h=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(u=1),delete this._vbSize,o="0 0 "+this.width+d+this.height):(this._vbSize=u,o=t+d+e+d+n+d+i),g(this.canvas,{viewBox:o,preserveAspectRatio:h});u&&f;)a="stroke-width"in f.attrs?f.attrs["stroke-width"]:1,f.attr({"stroke-width":a}),f._.dirty=1,f._.dirtyT=1,f=f.prev;return this._viewBox=[t,e,n,i,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(t._g.doc.createTextNode("Created with RaphaÃ«l "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},t.prototype.remove=function(){for(var e in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var D=t.st;for(var N in E)E[e](N)&&!D[e](N)&&(D[N]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(N))}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,i=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,l=r.abs,u=/[, ]+/,c=t.eve,f=" ",d="",h={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},p=/([clmz]),?([^clmz]*)/gi,m=/ progid:\S+Blur\([^\)]+\)/g,g=/-?[^,\s-]+/g,v="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",y=21600,b={path:1,rect:1,image:1},x={circle:1,ellipse:1},w=function(e,n,i){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(n,i),dy:r.y(n,i)}},_=function(t,e,n,i,r,o){var s=t._,a=t.matrix,u=s.fillpos,c=t.node,d=c.style,h=1,p="",m=y/e,g=y/n;if(d.visibility="hidden",e&&n){if(c.coordsize=l(m)+f+l(g),d.rotation=o*(e*n<0?-1:1),o){var v=w(o,i,r);i=v.dx,r=v.dy}if(e<0&&(p+="x"),n<0&&(p+=" y")&&(h=-1),d.flip=p,c.coordorigin=i*-m+f+r*-g,u||s.fillsize){var b=c.getElementsByTagName("fill");b=b&&b[0],c.removeChild(b),u&&(v=w(o,a.x(u[0],u[1]),a.y(u[0],u[1])),b.position=v.dx*h+f+v.dy*h),s.fillsize&&(b.size=s.fillsize[0]*l(e)+f+s.fillsize[1]*l(n)),c.appendChild(b)}d.visibility="visible"}};t.toString=function(){return"Your browser doesnât support SVG. Falling down to VML.\nYou are running RaphaÃ«l "+this.version};var C,k=function(t,e,i){for(var r=n(e).toLowerCase().split("-"),o=i?"end":"start",s=r.length,a="classic",l="medium",u="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":u=r[s];break;case"long":case"short":l=r[s]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=a,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=u},S=function(r,l){r.attrs=r.attrs||{};var c=r.node,m=r.attrs,v=c.style,w=b[r.type]&&(l.x!=m.x||l.y!=m.y||l.width!=m.width||l.height!=m.height||l.cx!=m.cx||l.cy!=m.cy||l.rx!=m.rx||l.ry!=m.ry||l.r!=m.r),S=x[r.type]&&(m.cx!=l.cx||m.cy!=l.cy||m.r!=l.r||m.rx!=l.rx||m.ry!=l.ry),E=r;for(var D in l)l[e](D)&&(m[D]=l[D]);if(w&&(m.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(c.href=l.href),l.title&&(c.title=l.title),l.target&&(c.target=l.target),l.cursor&&(v.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||w)&&(c.path=function(e){var i=/[ahqstv]/gi,r=t._pathToAbsolute;if(n(e).match(i)&&(r=t._path2curve),i=/[clmz]/g,r==t._pathToAbsolute&&!n(e).match(i)){var s=n(e).replace(p,(function(t,e,n){var i=[],r="m"==e.toLowerCase(),s=h[e];return n.replace(g,(function(t){r&&2==i.length&&(s+=i+h["m"==e?"l":"L"],i=[]),i.push(o(t*y))})),s+i}));return s}var a,l,u=r(e);s=[];for(var c=0,m=u.length;c<m;c++){a=u[c],"z"==(l=u[c][0].toLowerCase())&&(l="x");for(var v=1,b=a.length;v<b;v++)l+=o(a[v]*y)+(v!=b-1?",":d);s.push(l)}return s.join(f)}(~n(m.path).toLowerCase().indexOf("r")?t._pathToAbsolute(m.path):m.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[m.x,m.y],r._.fillsize=[m.width,m.height],_(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),S){var N=+m.cx,A=+m.cy,P=+m.rx||+m.r||0,O=+m.ry||+m.r||0;c.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((N-P)*y),o((A-O)*y),o((N+P)*y),o((A+O)*y),o(N*y)),r._.dirty=1}if("clip-rect"in l){var I=n(l["clip-rect"]).split(u);if(4==I.length){I[2]=+I[2]+ +I[0],I[3]=+I[3]+ +I[1];var M=c.clipRect||t._g.doc.createElement("div"),B=M.style;B.clip=t.format("rect({1}px {2}px {3}px {0}px)",I),c.clipRect||(B.position="absolute",B.top=0,B.left=0,B.width=r.paper.width+"px",B.height=r.paper.height+"px",c.parentNode.insertBefore(M,c),M.appendChild(c),c.clipRect=M)}l["clip-rect"]||c.clipRect&&(c.clipRect.style.clip="auto")}if(r.textpath){var R=r.textpath.style;l.font&&(R.font=l.font),l["font-family"]&&(R.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,d)+'"'),l["font-size"]&&(R.fontSize=l["font-size"]),l["font-weight"]&&(R.fontWeight=l["font-weight"]),l["font-style"]&&(R.fontStyle=l["font-style"])}if("arrow-start"in l&&k(E,l["arrow-start"]),"arrow-end"in l&&k(E,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var L=c.getElementsByTagName("fill");if(!(L=L&&L[0])&&(L=C("fill")),"image"==r.type&&l.src&&(L.src=l.src),l.fill&&(L.on=!0),null!=L.on&&"none"!=l.fill&&null!==l.fill||(L.on=!1),L.on&&l.fill){var F=n(l.fill).match(t._ISURL);if(F){L.parentNode==c&&c.removeChild(L),L.rotate=!0,L.src=F[1],L.type="tile";var H=r.getBBox(1);L.position=H.x+f+H.y,r._.fillpos=[H.x,H.y],t._preload(F[1],(function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else L.color=t.getRGB(l.fill).hex,L.src=d,L.type="solid",t.getRGB(l.fill).error&&(E.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&T(E,l.fill,L)&&(m.fill="none",m.gradient=l.fill,L.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var z=((+m["fill-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);z=a(s(z,0),1),L.opacity=z,L.src&&(L.color="none")}c.appendChild(L);var j=c.getElementsByTagName("stroke")&&c.getElementsByTagName("stroke")[0],W=!1;!j&&(W=j=C("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(j.on=!0),("none"==l.stroke||null===l.stroke||null==j.on||0==l.stroke||0==l["stroke-width"])&&(j.on=!1);var $=t.getRGB(l.stroke);j.on&&l.stroke&&(j.color=$.hex),z=((+m["stroke-opacity"]+1||2)-1)*((+m.opacity+1||2)-1)*((+$.o+1||2)-1);var q=.75*(i(l["stroke-width"])||1);if(z=a(s(z,0),1),null==l["stroke-width"]&&(q=m["stroke-width"]),l["stroke-width"]&&(j.weight=q),q&&q<1&&(z*=q)&&(j.weight=1),j.opacity=z,l["stroke-linejoin"]&&(j.joinstyle=l["stroke-linejoin"]||"miter"),j.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(j.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var U={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};j.dashstyle=U[e](l["stroke-dasharray"])?U[l["stroke-dasharray"]]:d}W&&c.appendChild(j)}if("text"==E.type){E.paper.canvas.style.display=d;var V=E.paper.span,Y=m.font&&m.font.match(/\d+(?:\.\d*)?(?=px)/);v=V.style,m.font&&(v.font=m.font),m["font-family"]&&(v.fontFamily=m["font-family"]),m["font-weight"]&&(v.fontWeight=m["font-weight"]),m["font-style"]&&(v.fontStyle=m["font-style"]),Y=i(m["font-size"]||Y&&Y[0])||10,v.fontSize=100*Y+"px",E.textpath.string&&(V.innerHTML=n(E.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var X=V.getBoundingClientRect();E.W=m.w=(X.right-X.left)/100,E.H=m.h=(X.bottom-X.top)/100,E.X=m.x,E.Y=m.y+E.H/2,("x"in l||"y"in l)&&(E.path.v=t.format("m{0},{1}l{2},{1}",o(m.x*y),o(m.y*y),o(m.x*y)+1));for(var G=["x","y","text","font","font-family","font-weight","font-style","font-size"],K=0,J=G.length;K<J;K++)if(G[K]in l){E._.dirty=1;break}switch(m["text-anchor"]){case"start":E.textpath.style["v-text-align"]="left",E.bbx=E.W/2;break;case"end":E.textpath.style["v-text-align"]="right",E.bbx=-E.W/2;break;default:E.textpath.style["v-text-align"]="center",E.bbx=0}E.textpath.style["v-text-kern"]=!0}},T=function(e,o,s){e.attrs=e.attrs||{},e.attrs;var a=Math.pow,l="linear",u=".5 .5";if(e.attrs.gradient=o,o=(o=n(o).replace(t._radial_gradient,(function(t,e,n){return l="radial",e&&n&&(e=i(e),n=i(n),a(e-.5,2)+a(n-.5,2)>.25&&(n=r.sqrt(.25-a(e-.5,2))*(2*(n>.5)-1)+.5),u=e+f+n),d}))).split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-i(c),isNaN(c))return null}var h=t._parseDots(o);if(!h)return null;if(e=e.shape||e.node,h.length){e.removeChild(s),s.on=!0,s.method="none",s.color=h[0].color,s.color2=h[h.length-1].color;for(var p=[],m=0,g=h.length;m<g;m++)h[m].offset&&p.push(h[m].offset+f+h[m].color);s.colors=p.length?p.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=u,s.angle=0):(s.type="gradient",s.angle=(270-c)%360),e.appendChild(s)}return 1},E=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},D=t.el;E.prototype=D,D.constructor=E,D.transform=function(e){if(null==e)return this._.transform;var i,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:d;r&&(i=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||d)),t._extractTransform(this,o+e);var s,a=this.matrix.clone(),l=this.skew,u=this.node,c=~n(this.attrs.fill).indexOf("-"),h=!n(this.attrs.fill).indexOf("url(");if(a.translate(1,1),h||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=a.split(),c&&s.noRotation||!s.isSimple){u.style.filter=a.toFilter();var p=this.getBBox(),m=this.getBBox(1),g=p.x-m.x,v=p.y-m.y;u.coordorigin=g*-y+f+v*-y,_(this,1,1,g,v,0)}else u.style.filter=d,_(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else u.style.filter=d,l.matrix=n(a),l.offset=a.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},D.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},D.translate=function(t,e){return this.removed?this:((t=n(t).split(u)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},D.scale=function(t,e,r,o){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},D.hide=function(){return!this.removed&&(this.node.style.display="none"),this},D.show=function(){return!this.removed&&(this.node.style.display=d),this},D.auxGetBBox=t.el.getBBox,D.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},D._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},D.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},D.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=n.split(u),a={},l=0,f=s.length;l<f;l++)(n=s[l])in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return f-1?a:a[s[0]]}if(this.attrs&&null==i&&t.is(n,"array")){for(a={},l=0,f=n.length;l<f;l++)a[n[l]]=this.attr(n[l]);return a}var d;for(var h in null!=i&&((d={})[n]=i),null==i&&t.is(n,"object")&&(d=n),d)c("raphael.attr."+h+"."+this.id,this,d[h]);if(d){for(h in this.paper.customAttributes)if(this.paper.customAttributes[e](h)&&d[e](h)&&t.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(d[h]));for(var m in this.attrs[h]=d[h],p)p[e](m)&&(d[m]=p[m])}d.text&&"text"==this.type&&(this.textpath.string=d.text),S(this,d)}return this},D.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},D.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},D.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},D.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},D.blur=function(e){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(m,d),0!=+e?(this.attrs.blur=e,n.filter=i+f+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=C("shape");n.style.cssText=v,n.coordsize=y+f+y,n.coordorigin=e.coordorigin;var i=new E(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path=d,S(i,r),e.canvas&&e.canvas.appendChild(n);var o=C("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(d),i},t._engine.rect=function(e,n,i,r,o,s){var a=t._rectPath(n,i,r,o,s),l=e.path(a),u=l.attrs;return l.X=u.x=n,l.Y=u.y=i,l.W=u.width=r,l.H=u.height=o,u.r=s,u.path=a,l.type="rect",l},t._engine.ellipse=function(t,e,n,i,r){var o=t.path();return o.attrs,o.X=e-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",S(o,{cx:e,cy:n,rx:i,ry:r}),o},t._engine.circle=function(t,e,n,i){var r=t.path();return r.attrs,r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",S(r,{cx:e,cy:n,r:i}),r},t._engine.image=function(e,n,i,r,o,s){var a=t._rectPath(i,r,o,s),l=e.path(a).attr({stroke:"none"}),u=l.attrs,c=l.node,f=c.getElementsByTagName("fill")[0];return u.src=n,l.X=u.x=i,l.Y=u.y=r,l.W=u.width=o,l.H=u.height=s,u.path=a,l.type="image",f.parentNode==c&&c.removeChild(f),f.rotate=!0,f.src=n,f.type="tile",l._.fillpos=[i,r],l._.fillsize=[o,s],c.appendChild(f),_(l,1,1,0,0,0),l},t._engine.text=function(e,i,r,s){var a=C("shape"),l=C("path"),u=C("textpath");i=i||0,r=r||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",o(i*y),o(r*y),o(i*y)+1),l.textpathok=!0,u.string=n(s),u.on=!0,a.style.cssText=v,a.coordsize=y+f+y,a.coordorigin="0 0";var c=new E(a,e),h={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};c.shape=a,c.path=l,c.textpath=u,c.type="text",c.attrs.text=n(s),c.attrs.x=i,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,S(c,h),a.appendChild(u),a.appendChild(l),e.canvas.appendChild(a);var p=C("skew");return p.on=!0,a.appendChild(p),c.skew=p,c.transform(d),c},t._engine.setSize=function(e,n){var i=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),i.width=e,i.height=n,i.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,i,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,i,r,o]);var s,a,l=this.getSize(),u=l.width,c=l.height;return o&&(i*(s=c/r)<u&&(e-=(u-i*s)/2/s),r*(a=u/i)<c&&(n-=(c-r*a)/2/a)),this._viewBox=[e,n,i,r,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:l},this.forEach((function(t){t.transform("...")})),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),C=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){C=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,i=e.height,r=e.width,o=e.x,s=e.y;if(!n)throw new Error("VML container not found.");var a=new t._Paper,l=a.canvas=t._g.doc.createElement("div"),u=l.style;return o=o||0,s=s||0,r=r||512,i=i||342,a.width=r,a.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),a.coordsize=216e5+f+216e5,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==n?(t._g.doc.body.appendChild(l),u.left=o+"px",u.top=s+"px",u.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=d,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var N=t.st;for(var A in D)D[e](A)&&!N[e](A)&&(N[A]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(A))}}.apply(e,i))||(t.exports=r)}])},t.exports=i()},function(t,e,n){var i;i=function(){return function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return t[i].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i,r;i=[n(1),n(3),n(4)],void 0===(r=function(t){return t}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(2)],void 0===(r=function(t){function e(n){if(e.is(n,"function"))return y?n():t.on("raphael.DOMload",n);if(e.is(n,U))return e._engine.create[E](e,n.splice(0,3+e.is(n[0],$))).add(n);var i=Array.prototype.slice.call(arguments,0);if(e.is(i[i.length-1],"function")){var r=i.pop();return y?r.call(e._engine.create[E](e,i)):t.on("raphael.DOMload",(function(){r.call(e._engine.create[E](e,i))}))}return e._engine.create[E](e,arguments)}function n(t){if("function"==typeof t||Object(t)!==t)return t;var e=new t.constructor;for(var i in t)t[C](i)&&(e[i]=n(t[i]));return e}function i(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return t.push(t.splice(n,1)[0])}function r(t,e,n){return function r(){var o=Array.prototype.slice.call(arguments,0),s=o.join("â"),a=r.cache=r.cache||{},l=r.count=r.count||[];return a[C](s)?(i(l,s),n?n(a[s]):a[s]):(l.length>=1e3&&delete a[l.shift()],l.push(s),a[s]=t[E](e,o),n?n(a[s]):a[s])}}function o(){return this.hex}function s(t,e){for(var n=[],i=0,r=t.length;r-2*!e>i;i+=2){var o=[{x:+t[i-2],y:+t[i-1]},{x:+t[i],y:+t[i+1]},{x:+t[i+2],y:+t[i+3]},{x:+t[i+4],y:+t[i+5]}];e?i?r-4==i?o[3]={x:+t[0],y:+t[1]}:r-2==i&&(o[2]={x:+t[0],y:+t[1]},o[3]={x:+t[2],y:+t[3]}):o[0]={x:+t[r-2],y:+t[r-1]}:r-4==i?o[3]=o[2]:i||(o[0]={x:+t[i],y:+t[i+1]}),n.push(["C",(-o[0].x+6*o[1].x+o[2].x)/6,(-o[0].y+6*o[1].y+o[2].y)/6,(o[1].x+6*o[2].x-o[3].x)/6,(o[1].y+6*o[2].y-o[3].y)/6,o[2].x,o[2].y])}return n}function a(t,e,n,i,r){return t*(t*(-3*e+9*n-9*i+3*r)+6*e-12*n+6*i)-3*e+3*n}function l(t,e,n,i,r,o,s,l,u){null==u&&(u=1);for(var c=(u=u>1?1:u<0?0:u)/2,f=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],d=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],h=0,p=0;p<12;p++){var m=c*f[p]+c,g=a(m,t,n,r,s),v=a(m,e,i,o,l),y=g*g+v*v;h+=d[p]*L.sqrt(y)}return c*h}function u(t,e,n,i,r,o,s,a){if(!(F(t,n)<H(r,s)||H(t,n)>F(r,s)||F(e,i)<H(o,a)||H(e,i)>F(o,a))){var l=(t-n)*(o-a)-(e-i)*(r-s);if(l){var u=((t*i-e*n)*(r-s)-(t-n)*(r*a-o*s))/l,c=((t*i-e*n)*(o-a)-(e-i)*(r*a-o*s))/l,f=+u.toFixed(2),d=+c.toFixed(2);if(!(f<+H(t,n).toFixed(2)||f>+F(t,n).toFixed(2)||f<+H(r,s).toFixed(2)||f>+F(r,s).toFixed(2)||d<+H(e,i).toFixed(2)||d>+F(e,i).toFixed(2)||d<+H(o,a).toFixed(2)||d>+F(o,a).toFixed(2)))return{x:u,y:c}}}}function c(t,n,i){var r=e.bezierBBox(t),o=e.bezierBBox(n);if(!e.isBBoxIntersect(r,o))return i?0:[];for(var s=l.apply(0,t),a=l.apply(0,n),c=F(~~(s/5),1),f=F(~~(a/5),1),d=[],h=[],p={},m=i?0:[],g=0;g<c+1;g++){var v=e.findDotsAtSegment.apply(e,t.concat(g/c));d.push({x:v.x,y:v.y,t:g/c})}for(g=0;g<f+1;g++)v=e.findDotsAtSegment.apply(e,n.concat(g/f)),h.push({x:v.x,y:v.y,t:g/f});for(g=0;g<c;g++)for(var y=0;y<f;y++){var b=d[g],x=d[g+1],w=h[y],_=h[y+1],C=z(x.x-b.x)<.001?"y":"x",k=z(_.x-w.x)<.001?"y":"x",S=u(b.x,b.y,x.x,x.y,w.x,w.y,_.x,_.y);if(S){if(p[S.x.toFixed(4)]==S.y.toFixed(4))continue;p[S.x.toFixed(4)]=S.y.toFixed(4);var T=b.t+z((S[C]-b[C])/(x[C]-b[C]))*(x.t-b.t),E=w.t+z((S[k]-w[k])/(_[k]-w[k]))*(_.t-w.t);T>=0&&T<=1.001&&E>=0&&E<=1.001&&(i?m++:m.push({x:S.x,y:S.y,t1:H(T,1),t2:H(E,1)}))}}return m}function f(t,n,i){t=e._path2curve(t),n=e._path2curve(n);for(var r,o,s,a,l,u,f,d,h,p,m=i?0:[],g=0,v=t.length;g<v;g++){var y=t[g];if("M"==y[0])r=l=y[1],o=u=y[2];else{"C"==y[0]?(h=[r,o].concat(y.slice(1)),r=h[6],o=h[7]):(h=[r,o,r,o,l,u,l,u],r=l,o=u);for(var b=0,x=n.length;b<x;b++){var w=n[b];if("M"==w[0])s=f=w[1],a=d=w[2];else{"C"==w[0]?(p=[s,a].concat(w.slice(1)),s=p[6],a=p[7]):(p=[s,a,s,a,f,d,f,d],s=f,a=d);var _=c(h,p,i);if(i)m+=_;else{for(var C=0,k=_.length;C<k;C++)_[C].segment1=g,_[C].segment2=b,_[C].bez1=h,_[C].bez2=p;m=m.concat(_)}}}}}return m}function d(t,e,n,i,r,o){null!=t?(this.a=+t,this.b=+e,this.c=+n,this.d=+i,this.e=+r,this.f=+o):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function h(){return this.x+P+this.y+P+this.width+" Ã "+this.height}function p(t,e,n,i,r,o){function s(t){return((u*t+l)*t+a)*t}var a=3*e,l=3*(i-e)-a,u=1-a-l,c=3*n,f=3*(r-n)-c,d=1-c-f;return function(t,e){var n=function(t,e){var n,i,r,o,c,f;for(r=t,f=0;f<8;f++){if(o=s(r)-t,z(o)<e)return r;if(z(c=(3*u*r+2*l)*r+a)<1e-6)break;r-=o/c}if(i=1,(r=t)<(n=0))return n;if(r>i)return i;for(;n<i;){if(o=s(r),z(o-t)<e)return r;t>o?n=r:i=r,r=(i-n)/2+n}return r}(t,e);return((d*n+f)*n+c)*n}(t,1/(200*o))}function m(t,e){var n=[],i={};if(this.ms=e,this.times=1,t){for(var r in t)t[C](r)&&(i[J(r)]=t[r],n.push(J(r)));n.sort(ut)}this.anim=i,this.top=n[n.length-1],this.percents=n}function g(n,i,r,o,s,a){r=J(r);var l,u,c,f,h,m,g=n.ms,v={},y={},b={};if(o)for(_=0,k=ie.length;_<k;_++){var w=ie[_];if(w.el.id==i.id&&w.anim==n){w.percent!=r?(ie.splice(_,1),c=1):u=w,i.attr(w.totalOrigin);break}}else o=+y;for(var _=0,k=n.percents.length;_<k;_++){if(n.percents[_]==r||n.percents[_]>o*n.top){r=n.percents[_],h=n.percents[_-1]||0,g=g/n.top*(r-h),f=n.percents[_+1],l=n.anim[r];break}o&&i.attr(n.anim[n.percents[_]])}if(l){if(u)u.initstatus=o,u.start=new Date-u.ms*o;else{for(var S in l)if(l[C](S)&&(et[C](S)||i.paper.customAttributes[C](S)))switch(v[S]=i.attr(S),null==v[S]&&(v[S]=tt[S]),y[S]=l[S],et[S]){case $:b[S]=(y[S]-v[S])/g;break;case"colour":v[S]=e.getRGB(v[S]);var T=e.getRGB(y[S]);b[S]={r:(T.r-v[S].r)/g,g:(T.g-v[S].g)/g,b:(T.b-v[S].b)/g};break;case"path":var E=It(v[S],y[S]),N=E[1];for(v[S]=E[0],b[S]=[],_=0,k=v[S].length;_<k;_++){b[S][_]=[0];for(var A=1,P=v[S][_].length;A<P;A++)b[S][_][A]=(N[_][A]-v[S][_][A])/g}break;case"transform":var M=i._,B=Ft(M[S],y[S]);if(B)for(v[S]=B.from,y[S]=B.to,b[S]=[],b[S].real=!0,_=0,k=v[S].length;_<k;_++)for(b[S][_]=[v[S][_][0]],A=1,P=v[S][_].length;A<P;A++)b[S][_][A]=(y[S][_][A]-v[S][_][A])/g;else{var R=i.matrix||new d,L={_:{transform:M.transform},getBBox:function(){return i.getBBox(1)}};v[S]=[R.a,R.b,R.c,R.d,R.e,R.f],Rt(L,y[S]),y[S]=L._.transform,b[S]=[(L.matrix.a-R.a)/g,(L.matrix.b-R.b)/g,(L.matrix.c-R.c)/g,(L.matrix.d-R.d)/g,(L.matrix.e-R.e)/g,(L.matrix.f-R.f)/g]}break;case"csv":var F=O(l[S])[I](x),H=O(v[S])[I](x);if("clip-rect"==S)for(v[S]=H,b[S]=[],_=H.length;_--;)b[S][_]=(F[_]-v[S][_])/g;y[S]=F;break;default:for(F=[][D](l[S]),H=[][D](v[S]),b[S]=[],_=i.paper.customAttributes[S].length;_--;)b[S][_]=((F[_]||0)-(H[_]||0))/g}var z=l.easing,j=e.easing_formulas[z];if(!j)if((j=O(z).match(G))&&5==j.length){var W=j;j=function(t){return p(t,+W[1],+W[2],+W[3],+W[4],g)}}else j=ct;if(w={anim:n,percent:r,timestamp:m=l.start||n.start||+new Date,start:m+(n.del||0),status:0,initstatus:o||0,stop:!1,ms:g,easing:j,from:v,diff:b,to:y,el:i,callback:l.callback,prev:h,next:f,repeat:a||n.times,origin:i.attr(),totalOrigin:s},ie.push(w),o&&!u&&!c&&(w.stop=!0,w.start=new Date-g*o,1==ie.length))return oe();c&&(w.start=new Date-w.ms*o),1==ie.length&&re(oe)}t("raphael.anim.start."+i.id,i,n)}}function v(t){for(var e=0;e<ie.length;e++)ie[e].el.paper==t&&ie.splice(e--,1)}e.version="2.2.0",e.eve=t;var y,b,x=/[, ]+/,w={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},_=/\{(\d+)\}/g,C="hasOwnProperty",k={doc:document,win:window},S={was:Object.prototype[C].call(k.win,"Raphael"),is:k.win.Raphael},T=function(){this.ca=this.customAttributes={}},E="apply",D="concat",N="ontouchstart"in k.win||k.win.DocumentTouch&&k.doc instanceof DocumentTouch,A="",P=" ",O=String,I="split",M="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[I](P),B={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},R=O.prototype.toLowerCase,L=Math,F=L.max,H=L.min,z=L.abs,j=L.pow,W=L.PI,$="number",q="string",U="array",V=Object.prototype.toString,Y=(e._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i),X={NaN:1,Infinity:1,"-Infinity":1},G=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,K=L.round,J=parseFloat,Q=parseInt,Z=O.prototype.toUpperCase,tt=e._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,class:""},et=e._availableAnimAttrs={blur:$,"clip-rect":"csv",cx:$,cy:$,fill:"colour","fill-opacity":$,"font-size":$,height:$,opacity:$,path:"path",r:$,rx:$,ry:$,stroke:"colour","stroke-opacity":$,"stroke-width":$,transform:"transform",width:$,x:$,y:$},nt=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,it={hs:1,rg:1},rt=/,?([achlmqrstvxz]),?/gi,ot=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,st=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/gi,at=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/gi,lt=(e._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,{}),ut=function(t,e){return J(t)-J(e)},ct=function(t){return t},ft=e._rectPath=function(t,e,n,i,r){return r?[["M",t+r,e],["l",n-2*r,0],["a",r,r,0,0,1,r,r],["l",0,i-2*r],["a",r,r,0,0,1,-r,r],["l",2*r-n,0],["a",r,r,0,0,1,-r,-r],["l",0,2*r-i],["a",r,r,0,0,1,r,-r],["z"]]:[["M",t,e],["l",n,0],["l",0,i],["l",-n,0],["z"]]},dt=function(t,e,n,i){return null==i&&(i=n),[["M",t,e],["m",0,-i],["a",n,i,0,1,1,0,2*i],["a",n,i,0,1,1,0,-2*i],["z"]]},ht=e._getPath={path:function(t){return t.attr("path")},circle:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.r)},ellipse:function(t){var e=t.attrs;return dt(e.cx,e.cy,e.rx,e.ry)},rect:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height,e.r)},image:function(t){var e=t.attrs;return ft(e.x,e.y,e.width,e.height)},text:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)},set:function(t){var e=t._getBBox();return ft(e.x,e.y,e.width,e.height)}},pt=e.mapPath=function(t,e){if(!e)return t;var n,i,r,o,s,a,l;for(r=0,s=(t=It(t)).length;r<s;r++)for(o=1,a=(l=t[r]).length;o<a;o+=2)n=e.x(l[o],l[o+1]),i=e.y(l[o],l[o+1]),l[o]=n,l[o+1]=i;return t};if(e._g=k,e.type=k.win.SVGAngle||k.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML","VML"==e.type){var mt,gt=k.doc.createElement("div");if(gt.innerHTML='<v:shape adj="1"/>',(mt=gt.firstChild).style.behavior="url(#default#VML)",!mt||"object"!=typeof mt.adj)return e.type=A;gt=null}e.svg=!(e.vml="VML"==e.type),e._Paper=T,e.fn=b=T.prototype=e.prototype,e._id=0,e.is=function(t,e){return"finite"==(e=R.call(e))?!X[C](+t):"array"==e?t instanceof Array:"null"==e&&null===t||e==typeof t&&null!==t||"object"==e&&t===Object(t)||"array"==e&&Array.isArray&&Array.isArray(t)||V.call(t).slice(8,-1).toLowerCase()==e},e.angle=function(t,n,i,r,o,s){if(null==o){var a=t-i,l=n-r;return a||l?(180+180*L.atan2(-l,-a)/W+360)%360:0}return e.angle(t,n,o,s)-e.angle(i,r,o,s)},e.rad=function(t){return t%360*W/180},e.deg=function(t){return Math.round(180*t/W%360*1e3)/1e3},e.snapTo=function(t,n,i){if(i=e.is(i,"finite")?i:10,e.is(t,U)){for(var r=t.length;r--;)if(z(t[r]-n)<=i)return t[r]}else{var o=n%(t=+t);if(o<i)return n-o;if(o>t-i)return n-o+t}return n},e.createUUID=function(t,e){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(t,e).toUpperCase()}}(/[xy]/g,(function(t){var e=16*L.random()|0;return("x"==t?e:3&e|8).toString(16)})),e.setWindow=function(n){t("raphael.setWindow",e,k.win,n),k.win=n,k.doc=k.win.document,e._engine.initWin&&e._engine.initWin(k.win)};var vt=function(t){if(e.vml){var n,i=/^\s+|\s+$/g;try{var o=new ActiveXObject("htmlfile");o.write("<body>"),o.close(),n=o.body}catch(t){n=createPopup().document.body}var s=n.createTextRange();vt=r((function(t){try{n.style.color=O(t).replace(i,A);var e=s.queryCommandValue("ForeColor");return"#"+("000000"+(e=(255&e)<<16|65280&e|(16711680&e)>>>16).toString(16)).slice(-6)}catch(t){return"none"}}))}else{var a=k.doc.createElement("i");a.title="RaphaÃ«l Colour Picker",a.style.display="none",k.doc.body.appendChild(a),vt=r((function(t){return a.style.color=t,k.doc.defaultView.getComputedStyle(a,A).getPropertyValue("color")}))}return vt(t)},yt=function(){return"hsb("+[this.h,this.s,this.b]+")"},bt=function(){return"hsl("+[this.h,this.s,this.l]+")"},xt=function(){return this.hex},wt=function(t,n,i){if(null==n&&e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t&&(i=t.b,n=t.g,t=t.r),null==n&&e.is(t,q)){var r=e.getRGB(t);t=r.r,n=r.g,i=r.b}return(t>1||n>1||i>1)&&(t/=255,n/=255,i/=255),[t,n,i]},_t=function(t,n,i,r){var o={r:t*=255,g:n*=255,b:i*=255,hex:e.rgb(t,n,i),toString:xt};return e.is(r,"finite")&&(o.opacity=r),o};e.color=function(t){var n;return e.is(t,"object")&&"h"in t&&"s"in t&&"b"in t?(n=e.hsb2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):e.is(t,"object")&&"h"in t&&"s"in t&&"l"in t?(n=e.hsl2rgb(t),t.r=n.r,t.g=n.g,t.b=n.b,t.hex=n.hex):(e.is(t,"string")&&(t=e.getRGB(t)),e.is(t,"object")&&"r"in t&&"g"in t&&"b"in t?(n=e.rgb2hsl(t),t.h=n.h,t.s=n.s,t.l=n.l,n=e.rgb2hsb(t),t.v=n.b):(t={hex:"none"}).r=t.g=t.b=t.h=t.s=t.v=t.l=-1),t.toString=xt,t},e.hsb2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"b"in t&&(n=t.b,e=t.s,i=t.o,t=t.h),a=(l=n*e)*(1-z((t=(t*=360)%360/60)%2-1)),r=o=s=n-l,_t(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],i)},e.hsl2rgb=function(t,e,n,i){var r,o,s,a,l;return this.is(t,"object")&&"h"in t&&"s"in t&&"l"in t&&(n=t.l,e=t.s,t=t.h),(t>1||e>1||n>1)&&(t/=360,e/=100,n/=100),a=(l=2*e*(n<.5?n:1-n))*(1-z((t=(t*=360)%360/60)%2-1)),r=o=s=n-l/2,_t(r+=[l,a,0,0,a,l][t=~~t],o+=[a,l,l,a,0,0][t],s+=[0,0,a,l,l,a][t],i)},e.rgb2hsb=function(t,e,n){var i,r;return t=(n=wt(t,e,n))[0],e=n[1],n=n[2],{h:((0==(r=(i=F(t,e,n))-H(t,e,n))?null:i==t?(e-n)/r:i==e?(n-t)/r+2:(t-e)/r+4)+360)%6*60/360,s:0==r?0:r/i,b:i,toString:yt}},e.rgb2hsl=function(t,e,n){var i,r,o,s;return t=(n=wt(t,e,n))[0],e=n[1],n=n[2],i=((r=F(t,e,n))+(o=H(t,e,n)))/2,{h:((0==(s=r-o)?null:r==t?(e-n)/s:r==e?(n-t)/s+2:(t-e)/s+4)+360)%6*60/360,s:0==s?0:i<.5?s/(2*i):s/(2-2*i),l:i,toString:bt}},e._path2string=function(){return this.join(",").replace(rt,"$1")},e._preload=function(t,e){var n=k.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em",n.onload=function(){e.call(this),this.onload=null,k.doc.body.removeChild(this)},n.onerror=function(){k.doc.body.removeChild(this)},k.doc.body.appendChild(n),n.src=t},e.getRGB=r((function(t){if(!t||(t=O(t)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o};if("none"==t)return{r:-1,g:-1,b:-1,hex:"none",toString:o};!it[C](t.toLowerCase().substring(0,2))&&"#"!=t.charAt()&&(t=vt(t));var n,i,r,s,a,l,u=t.match(Y);return u?(u[2]&&(r=Q(u[2].substring(5),16),i=Q(u[2].substring(3,5),16),n=Q(u[2].substring(1,3),16)),u[3]&&(r=Q((a=u[3].charAt(3))+a,16),i=Q((a=u[3].charAt(2))+a,16),n=Q((a=u[3].charAt(1))+a,16)),u[4]&&(l=u[4][I](nt),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),"rgba"==u[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100)),u[5]?(l=u[5][I](nt),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"Â°"==l[0].slice(-1))&&(n/=360),"hsba"==u[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsb2rgb(n,i,r,s)):u[6]?(l=u[6][I](nt),n=J(l[0]),"%"==l[0].slice(-1)&&(n*=2.55),i=J(l[1]),"%"==l[1].slice(-1)&&(i*=2.55),r=J(l[2]),"%"==l[2].slice(-1)&&(r*=2.55),("deg"==l[0].slice(-3)||"Â°"==l[0].slice(-1))&&(n/=360),"hsla"==u[1].toLowerCase().slice(0,4)&&(s=J(l[3])),l[3]&&"%"==l[3].slice(-1)&&(s/=100),e.hsl2rgb(n,i,r,s)):((u={r:n,g:i,b:r,toString:o}).hex="#"+(16777216|r|i<<8|n<<16).toString(16).slice(1),e.is(s,"finite")&&(u.opacity=s),u)):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:o}}),e),e.hsb=r((function(t,n,i){return e.hsb2rgb(t,n,i).hex})),e.hsl=r((function(t,n,i){return e.hsl2rgb(t,n,i).hex})),e.rgb=r((function(t,e,n){function i(t){return t+.5|0}return"#"+(16777216|i(n)|i(e)<<8|i(t)<<16).toString(16).slice(1)})),e.getColor=function(t){var e=this.getColor.start=this.getColor.start||{h:0,s:1,b:t||.75},n=this.hsb2rgb(e.h,e.s,e.b);return e.h+=.075,e.h>1&&(e.h=0,e.s-=.2,e.s<=0&&(this.getColor.start={h:0,s:1,b:e.b})),n.hex},e.getColor.reset=function(){delete this.start},e.parsePathString=function(t){if(!t)return null;var n=Ct(t);if(n.arr)return St(n.arr);var i={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},r=[];return e.is(t,U)&&e.is(t[0],U)&&(r=St(t)),r.length||O(t).replace(ot,(function(t,e,n){var o=[],s=e.toLowerCase();if(n.replace(at,(function(t,e){e&&o.push(+e)})),"m"==s&&o.length>2&&(r.push([e][D](o.splice(0,2))),s="l",e="m"==e?"l":"L"),"r"==s)r.push([e][D](o));else for(;o.length>=i[s]&&(r.push([e][D](o.splice(0,i[s]))),i[s]););})),r.toString=e._path2string,n.arr=St(r),r},e.parseTransformString=r((function(t){if(!t)return null;var n=[];return e.is(t,U)&&e.is(t[0],U)&&(n=St(t)),n.length||O(t).replace(st,(function(t,e,i){var r=[];R.call(e),i.replace(at,(function(t,e){e&&r.push(+e)})),n.push([e][D](r))})),n.toString=e._path2string,n}));var Ct=function(t){var e=Ct.ps=Ct.ps||{};return e[t]?e[t].sleep=100:e[t]={sleep:100},setTimeout((function(){for(var n in e)e[C](n)&&n!=t&&(e[n].sleep--,!e[n].sleep&&delete e[n])})),e[t]};e.findDotsAtSegment=function(t,e,n,i,r,o,s,a,l){var u=1-l,c=j(u,3),f=j(u,2),d=l*l,h=d*l,p=c*t+3*f*l*n+3*u*l*l*r+h*s,m=c*e+3*f*l*i+3*u*l*l*o+h*a,g=t+2*l*(n-t)+d*(r-2*n+t),v=e+2*l*(i-e)+d*(o-2*i+e),y=n+2*l*(r-n)+d*(s-2*r+n),b=i+2*l*(o-i)+d*(a-2*o+i),x=u*t+l*n,w=u*e+l*i,_=u*r+l*s,C=u*o+l*a,k=90-180*L.atan2(g-y,v-b)/W;return(g>y||v<b)&&(k+=180),{x:p,y:m,m:{x:g,y:v},n:{x:y,y:b},start:{x:x,y:w},end:{x:_,y:C},alpha:k}},e.bezierBBox=function(t,n,i,r,o,s,a,l){e.is(t,"array")||(t=[t,n,i,r,o,s,a,l]);var u=Ot.apply(null,t);return{x:u.min.x,y:u.min.y,x2:u.max.x,y2:u.max.y,width:u.max.x-u.min.x,height:u.max.y-u.min.y}},e.isPointInsideBBox=function(t,e,n){return e>=t.x&&e<=t.x2&&n>=t.y&&n<=t.y2},e.isBBoxIntersect=function(t,n){var i=e.isPointInsideBBox;return i(n,t.x,t.y)||i(n,t.x2,t.y)||i(n,t.x,t.y2)||i(n,t.x2,t.y2)||i(t,n.x,n.y)||i(t,n.x2,n.y)||i(t,n.x,n.y2)||i(t,n.x2,n.y2)||(t.x<n.x2&&t.x>n.x||n.x<t.x2&&n.x>t.x)&&(t.y<n.y2&&t.y>n.y||n.y<t.y2&&n.y>t.y)},e.pathIntersection=function(t,e){return f(t,e)},e.pathIntersectionNumber=function(t,e){return f(t,e,1)},e.isPointInsidePath=function(t,n,i){var r=e.pathBBox(t);return e.isPointInsideBBox(r,n,i)&&f(t,[["M",n,i],["H",r.x2+10]],1)%2==1},e._removedFactory=function(e){return function(){t("raphael.log",null,"RaphaÃ«l: you are calling to method â"+e+"â of removed object",e)}};var kt=e.pathBBox=function(t){var e=Ct(t);if(e.bbox)return n(e.bbox);if(!t)return{x:0,y:0,width:0,height:0,x2:0,y2:0};for(var i,r=0,o=0,s=[],a=[],l=0,u=(t=It(t)).length;l<u;l++)if("M"==(i=t[l])[0])r=i[1],o=i[2],s.push(r),a.push(o);else{var c=Ot(r,o,i[1],i[2],i[3],i[4],i[5],i[6]);s=s[D](c.min.x,c.max.x),a=a[D](c.min.y,c.max.y),r=i[5],o=i[6]}var f=H[E](0,s),d=H[E](0,a),h=F[E](0,s),p=F[E](0,a),m=h-f,g=p-d,v={x:f,y:d,x2:h,y2:p,width:m,height:g,cx:f+m/2,cy:d+g/2};return e.bbox=n(v),v},St=function(t){var i=n(t);return i.toString=e._path2string,i},Tt=e._pathToRelative=function(t){var n=Ct(t);if(n.rel)return St(n.rel);e.is(t,U)&&e.is(t&&t[0],U)||(t=e.parsePathString(t));var i=[],r=0,o=0,s=0,a=0,l=0;"M"==t[0][0]&&(s=r=t[0][1],a=o=t[0][2],l++,i.push(["M",r,o]));for(var u=l,c=t.length;u<c;u++){var f=i[u]=[],d=t[u];if(d[0]!=R.call(d[0]))switch(f[0]=R.call(d[0]),f[0]){case"a":f[1]=d[1],f[2]=d[2],f[3]=d[3],f[4]=d[4],f[5]=d[5],f[6]=+(d[6]-r).toFixed(3),f[7]=+(d[7]-o).toFixed(3);break;case"v":f[1]=+(d[1]-o).toFixed(3);break;case"m":s=d[1],a=d[2];default:for(var h=1,p=d.length;h<p;h++)f[h]=+(d[h]-(h%2?r:o)).toFixed(3)}else{f=i[u]=[],"m"==d[0]&&(s=d[1]+r,a=d[2]+o);for(var m=0,g=d.length;m<g;m++)i[u][m]=d[m]}var v=i[u].length;switch(i[u][0]){case"z":r=s,o=a;break;case"h":r+=+i[u][v-1];break;case"v":o+=+i[u][v-1];break;default:r+=+i[u][v-2],o+=+i[u][v-1]}}return i.toString=e._path2string,n.rel=St(i),i},Et=e._pathToAbsolute=function(t){var n=Ct(t);if(n.abs)return St(n.abs);if(e.is(t,U)&&e.is(t&&t[0],U)||(t=e.parsePathString(t)),!t||!t.length)return[["M",0,0]];var i=[],r=0,o=0,a=0,l=0,u=0;"M"==t[0][0]&&(a=r=+t[0][1],l=o=+t[0][2],u++,i[0]=["M",r,o]);for(var c,f,d=3==t.length&&"M"==t[0][0]&&"R"==t[1][0].toUpperCase()&&"Z"==t[2][0].toUpperCase(),h=u,p=t.length;h<p;h++){if(i.push(c=[]),(f=t[h])[0]!=Z.call(f[0]))switch(c[0]=Z.call(f[0]),c[0]){case"A":c[1]=f[1],c[2]=f[2],c[3]=f[3],c[4]=f[4],c[5]=f[5],c[6]=+(f[6]+r),c[7]=+(f[7]+o);break;case"V":c[1]=+f[1]+o;break;case"H":c[1]=+f[1]+r;break;case"R":for(var m=[r,o][D](f.slice(1)),g=2,v=m.length;g<v;g++)m[g]=+m[g]+r,m[++g]=+m[g]+o;i.pop(),i=i[D](s(m,d));break;case"M":a=+f[1]+r,l=+f[2]+o;default:for(g=1,v=f.length;g<v;g++)c[g]=+f[g]+(g%2?r:o)}else if("R"==f[0])m=[r,o][D](f.slice(1)),i.pop(),i=i[D](s(m,d)),c=["R"][D](f.slice(-2));else for(var y=0,b=f.length;y<b;y++)c[y]=f[y];switch(c[0]){case"Z":r=a,o=l;break;case"H":r=c[1];break;case"V":o=c[1];break;case"M":a=c[c.length-2],l=c[c.length-1];default:r=c[c.length-2],o=c[c.length-1]}}return i.toString=e._path2string,n.abs=St(i),i},Dt=function(t,e,n,i){return[t,e,n,i,n,i]},Nt=function(t,e,n,i,r,o){var s=1/3,a=2/3;return[s*t+a*n,s*e+a*i,s*r+a*n,s*o+a*i,r,o]},At=function(t,e,n,i,o,s,a,l,u,c){var f,d=120*W/180,h=W/180*(+o||0),p=[],m=r((function(t,e,n){return{x:t*L.cos(n)-e*L.sin(n),y:t*L.sin(n)+e*L.cos(n)}}));if(c)k=c[0],S=c[1],_=c[2],C=c[3];else{t=(f=m(t,e,-h)).x,e=f.y,l=(f=m(l,u,-h)).x,u=f.y,L.cos(W/180*o),L.sin(W/180*o);var g=(t-l)/2,v=(e-u)/2,y=g*g/(n*n)+v*v/(i*i);y>1&&(n*=y=L.sqrt(y),i*=y);var b=n*n,x=i*i,w=(s==a?-1:1)*L.sqrt(z((b*x-b*v*v-x*g*g)/(b*v*v+x*g*g))),_=w*n*v/i+(t+l)/2,C=w*-i*g/n+(e+u)/2,k=L.asin(((e-C)/i).toFixed(9)),S=L.asin(((u-C)/i).toFixed(9));(k=t<_?W-k:k)<0&&(k=2*W+k),(S=l<_?W-S:S)<0&&(S=2*W+S),a&&k>S&&(k-=2*W),!a&&S>k&&(S-=2*W)}var T=S-k;if(z(T)>d){var E=S,N=l,A=u;S=k+d*(a&&S>k?1:-1),l=_+n*L.cos(S),u=C+i*L.sin(S),p=At(l,u,n,i,o,0,a,N,A,[S,E,_,C])}T=S-k;var P=L.cos(k),O=L.sin(k),M=L.cos(S),B=L.sin(S),R=L.tan(T/4),F=4/3*n*R,H=4/3*i*R,j=[t,e],$=[t+F*O,e-H*P],q=[l+F*B,u-H*M],U=[l,u];if($[0]=2*j[0]-$[0],$[1]=2*j[1]-$[1],c)return[$,q,U][D](p);for(var V=[],Y=0,X=(p=[$,q,U][D](p).join()[I](",")).length;Y<X;Y++)V[Y]=Y%2?m(p[Y-1],p[Y],h).y:m(p[Y],p[Y+1],h).x;return V},Pt=function(t,e,n,i,r,o,s,a,l){var u=1-l;return{x:j(u,3)*t+3*j(u,2)*l*n+3*u*l*l*r+j(l,3)*s,y:j(u,3)*e+3*j(u,2)*l*i+3*u*l*l*o+j(l,3)*a}},Ot=r((function(t,e,n,i,r,o,s,a){var l,u=r-2*n+t-(s-2*r+n),c=2*(n-t)-2*(r-n),f=t-n,d=(-c+L.sqrt(c*c-4*u*f))/2/u,h=(-c-L.sqrt(c*c-4*u*f))/2/u,p=[e,a],m=[t,s];return z(d)>"1e12"&&(d=.5),z(h)>"1e12"&&(h=.5),d>0&&d<1&&(l=Pt(t,e,n,i,r,o,s,a,d),m.push(l.x),p.push(l.y)),h>0&&h<1&&(l=Pt(t,e,n,i,r,o,s,a,h),m.push(l.x),p.push(l.y)),u=o-2*i+e-(a-2*o+i),f=e-i,d=(-(c=2*(i-e)-2*(o-i))+L.sqrt(c*c-4*u*f))/2/u,h=(-c-L.sqrt(c*c-4*u*f))/2/u,z(d)>"1e12"&&(d=.5),z(h)>"1e12"&&(h=.5),d>0&&d<1&&(l=Pt(t,e,n,i,r,o,s,a,d),m.push(l.x),p.push(l.y)),h>0&&h<1&&(l=Pt(t,e,n,i,r,o,s,a,h),m.push(l.x),p.push(l.y)),{min:{x:H[E](0,m),y:H[E](0,p)},max:{x:F[E](0,m),y:F[E](0,p)}}})),It=e._path2curve=r((function(t,e){var n=!e&&Ct(t);if(!e&&n.curve)return St(n.curve);for(var i=Et(t),r=e&&Et(e),o={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},s={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},a=function(t,e,n){var i,r;if(!t)return["C",e.x,e.y,e.x,e.y,e.x,e.y];switch(!(t[0]in{T:1,Q:1})&&(e.qx=e.qy=null),t[0]){case"M":e.X=t[1],e.Y=t[2];break;case"A":t=["C"][D](At[E](0,[e.x,e.y][D](t.slice(1))));break;case"S":"C"==n||"S"==n?(i=2*e.x-e.bx,r=2*e.y-e.by):(i=e.x,r=e.y),t=["C",i,r][D](t.slice(1));break;case"T":"Q"==n||"T"==n?(e.qx=2*e.x-e.qx,e.qy=2*e.y-e.qy):(e.qx=e.x,e.qy=e.y),t=["C"][D](Nt(e.x,e.y,e.qx,e.qy,t[1],t[2]));break;case"Q":e.qx=t[1],e.qy=t[2],t=["C"][D](Nt(e.x,e.y,t[1],t[2],t[3],t[4]));break;case"L":t=["C"][D](Dt(e.x,e.y,t[1],t[2]));break;case"H":t=["C"][D](Dt(e.x,e.y,t[1],e.y));break;case"V":t=["C"][D](Dt(e.x,e.y,e.x,t[1]));break;case"Z":t=["C"][D](Dt(e.x,e.y,e.X,e.Y))}return t},l=function(t,e){if(t[e].length>7){t[e].shift();for(var n=t[e];n.length;)c[e]="A",r&&(f[e]="A"),t.splice(e++,0,["C"][D](n.splice(0,6)));t.splice(e,1),m=F(i.length,r&&r.length||0)}},u=function(t,e,n,o,s){t&&e&&"M"==t[s][0]&&"M"!=e[s][0]&&(e.splice(s,0,["M",o.x,o.y]),n.bx=0,n.by=0,n.x=t[s][1],n.y=t[s][2],m=F(i.length,r&&r.length||0))},c=[],f=[],d="",h="",p=0,m=F(i.length,r&&r.length||0);p<m;p++){i[p]&&(d=i[p][0]),"C"!=d&&(c[p]=d,p&&(h=c[p-1])),i[p]=a(i[p],o,h),"A"!=c[p]&&"C"==d&&(c[p]="C"),l(i,p),r&&(r[p]&&(d=r[p][0]),"C"!=d&&(f[p]=d,p&&(h=f[p-1])),r[p]=a(r[p],s,h),"A"!=f[p]&&"C"==d&&(f[p]="C"),l(r,p)),u(i,r,o,s,p),u(r,i,s,o,p);var g=i[p],v=r&&r[p],y=g.length,b=r&&v.length;o.x=g[y-2],o.y=g[y-1],o.bx=J(g[y-4])||o.x,o.by=J(g[y-3])||o.y,s.bx=r&&(J(v[b-4])||s.x),s.by=r&&(J(v[b-3])||s.y),s.x=r&&v[b-2],s.y=r&&v[b-1]}return r||(n.curve=St(i)),r?[i,r]:i}),null,St),Mt=(e._parseDots=r((function(t){for(var n=[],i=0,r=t.length;i<r;i++){var o={},s=t[i].match(/^([^:]*):?([\d\.]*)/);if(o.color=e.getRGB(s[1]),o.color.error)return null;o.opacity=o.color.opacity,o.color=o.color.hex,s[2]&&(o.offset=s[2]+"%"),n.push(o)}for(i=1,r=n.length-1;i<r;i++)if(!n[i].offset){for(var a=J(n[i-1].offset||0),l=0,u=i+1;u<r;u++)if(n[u].offset){l=n[u].offset;break}l||(l=100,u=r);for(var c=((l=J(l))-a)/(u-i+1);i<u;i++)a+=c,n[i].offset=a+"%"}return n})),e._tear=function(t,e){t==e.top&&(e.top=t.prev),t==e.bottom&&(e.bottom=t.next),t.next&&(t.next.prev=t.prev),t.prev&&(t.prev.next=t.next)}),Bt=(e._tofront=function(t,e){e.top!==t&&(Mt(t,e),t.next=null,t.prev=e.top,e.top.next=t,e.top=t)},e._toback=function(t,e){e.bottom!==t&&(Mt(t,e),t.next=e.bottom,t.prev=null,e.bottom.prev=t,e.bottom=t)},e._insertafter=function(t,e,n){Mt(t,n),e==n.top&&(n.top=t),e.next&&(e.next.prev=t),t.next=e.next,t.prev=e,e.next=t},e._insertbefore=function(t,e,n){Mt(t,n),e==n.bottom&&(n.bottom=t),e.prev&&(e.prev.next=t),t.prev=e.prev,e.prev=t,t.next=e},e.toMatrix=function(t,e){var n=kt(t),i={_:{transform:A},getBBox:function(){return n}};return Rt(i,e),i.matrix}),Rt=(e.transformPath=function(t,e){return pt(t,Bt(t,e))},e._extractTransform=function(t,n){if(null==n)return t._.transform;n=O(n).replace(/\.{3}|\u2026/g,t._.transform||A);var i,r,o=e.parseTransformString(n),s=0,a=1,l=1,u=t._,c=new d;if(u.transform=o||[],o)for(var f=0,h=o.length;f<h;f++){var p,m,g,v,y,b=o[f],x=b.length,w=O(b[0]).toLowerCase(),_=b[0]!=w,C=_?c.invert():0;"t"==w&&3==x?_?(p=C.x(0,0),m=C.y(0,0),g=C.x(b[1],b[2]),v=C.y(b[1],b[2]),c.translate(g-p,v-m)):c.translate(b[1],b[2]):"r"==w?2==x?(y=y||t.getBBox(1),c.rotate(b[1],y.x+y.width/2,y.y+y.height/2),s+=b[1]):4==x&&(_?(g=C.x(b[2],b[3]),v=C.y(b[2],b[3]),c.rotate(b[1],g,v)):c.rotate(b[1],b[2],b[3]),s+=b[1]):"s"==w?2==x||3==x?(y=y||t.getBBox(1),c.scale(b[1],b[x-1],y.x+y.width/2,y.y+y.height/2),a*=b[1],l*=b[x-1]):5==x&&(_?(g=C.x(b[3],b[4]),v=C.y(b[3],b[4]),c.scale(b[1],b[2],g,v)):c.scale(b[1],b[2],b[3],b[4]),a*=b[1],l*=b[2]):"m"==w&&7==x&&c.add(b[1],b[2],b[3],b[4],b[5],b[6]),u.dirtyT=1,t.matrix=c}t.matrix=c,u.sx=a,u.sy=l,u.deg=s,u.dx=i=c.e,u.dy=r=c.f,1==a&&1==l&&!s&&u.bbox?(u.bbox.x+=+i,u.bbox.y+=+r):u.dirtyT=1}),Lt=function(t){var e=t[0];switch(e.toLowerCase()){case"t":return[e,0,0];case"m":return[e,1,0,0,1,0,0];case"r":return 4==t.length?[e,0,t[2],t[3]]:[e,0];case"s":return 5==t.length?[e,1,1,t[3],t[4]]:3==t.length?[e,1,1]:[e,1]}},Ft=e._equaliseTransform=function(t,n){n=O(n).replace(/\.{3}|\u2026/g,t),t=e.parseTransformString(t)||[],n=e.parseTransformString(n)||[];for(var i,r,o,s,a=F(t.length,n.length),l=[],u=[],c=0;c<a;c++){if(o=t[c]||Lt(n[c]),s=n[c]||Lt(o),o[0]!=s[0]||"r"==o[0].toLowerCase()&&(o[2]!=s[2]||o[3]!=s[3])||"s"==o[0].toLowerCase()&&(o[3]!=s[3]||o[4]!=s[4]))return;for(l[c]=[],u[c]=[],i=0,r=F(o.length,s.length);i<r;i++)i in o&&(l[c][i]=o[i]),i in s&&(u[c][i]=s[i])}return{from:l,to:u}};e._getContainer=function(t,n,i,r){var o;if(null!=(o=null!=r||e.is(t,"object")?t:k.doc.getElementById(t)))return o.tagName?null==n?{container:o,width:o.style.pixelWidth||o.offsetWidth,height:o.style.pixelHeight||o.offsetHeight}:{container:o,width:n,height:i}:{container:1,x:t,y:n,width:i,height:r}},e.pathToRelative=Tt,e._engine={},e.path2curve=It,e.matrix=function(t,e,n,i,r,o){return new d(t,e,n,i,r,o)},function(t){function n(t){return t[0]*t[0]+t[1]*t[1]}function i(t){var e=L.sqrt(n(t));t[0]&&(t[0]/=e),t[1]&&(t[1]/=e)}t.add=function(t,e,n,i,r,o){var s,a,l,u,c=[[],[],[]],f=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],h=[[t,n,r],[e,i,o],[0,0,1]];for(t&&t instanceof d&&(h=[[t.a,t.c,t.e],[t.b,t.d,t.f],[0,0,1]]),s=0;s<3;s++)for(a=0;a<3;a++){for(u=0,l=0;l<3;l++)u+=f[s][l]*h[l][a];c[s][a]=u}this.a=c[0][0],this.b=c[1][0],this.c=c[0][1],this.d=c[1][1],this.e=c[0][2],this.f=c[1][2]},t.invert=function(){var t=this,e=t.a*t.d-t.b*t.c;return new d(t.d/e,-t.b/e,-t.c/e,t.a/e,(t.c*t.f-t.d*t.e)/e,(t.b*t.e-t.a*t.f)/e)},t.clone=function(){return new d(this.a,this.b,this.c,this.d,this.e,this.f)},t.translate=function(t,e){this.add(1,0,0,1,t,e)},t.scale=function(t,e,n,i){null==e&&(e=t),(n||i)&&this.add(1,0,0,1,n,i),this.add(t,0,0,e,0,0),(n||i)&&this.add(1,0,0,1,-n,-i)},t.rotate=function(t,n,i){t=e.rad(t),n=n||0,i=i||0;var r=+L.cos(t).toFixed(9),o=+L.sin(t).toFixed(9);this.add(r,o,-o,r,n,i),this.add(1,0,0,1,-n,-i)},t.x=function(t,e){return t*this.a+e*this.c+this.e},t.y=function(t,e){return t*this.b+e*this.d+this.f},t.get=function(t){return+this[O.fromCharCode(97+t)].toFixed(4)},t.toString=function(){return e.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()},t.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"},t.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]},t.split=function(){var t={};t.dx=this.e,t.dy=this.f;var r=[[this.a,this.c],[this.b,this.d]];t.scalex=L.sqrt(n(r[0])),i(r[0]),t.shear=r[0][0]*r[1][0]+r[0][1]*r[1][1],r[1]=[r[1][0]-r[0][0]*t.shear,r[1][1]-r[0][1]*t.shear],t.scaley=L.sqrt(n(r[1])),i(r[1]),t.shear/=t.scaley;var o=-r[0][1],s=r[1][1];return s<0?(t.rotate=e.deg(L.acos(s)),o<0&&(t.rotate=360-t.rotate)):t.rotate=e.deg(L.asin(o)),t.isSimple=!(+t.shear.toFixed(9)||t.scalex.toFixed(9)!=t.scaley.toFixed(9)&&t.rotate),t.isSuperSimple=!+t.shear.toFixed(9)&&t.scalex.toFixed(9)==t.scaley.toFixed(9)&&!t.rotate,t.noRotation=!+t.shear.toFixed(9)&&!t.rotate,t},t.toTransformString=function(t){var e=t||this[I]();return e.isSimple?(e.scalex=+e.scalex.toFixed(4),e.scaley=+e.scaley.toFixed(4),e.rotate=+e.rotate.toFixed(4),(e.dx||e.dy?"t"+[e.dx,e.dy]:A)+(1!=e.scalex||1!=e.scaley?"s"+[e.scalex,e.scaley,0,0]:A)+(e.rotate?"r"+[e.rotate,0,0]:A)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(d.prototype);for(var Ht=function(){this.returnValue=!1},zt=function(){return this.originalEvent.preventDefault()},jt=function(){this.cancelBubble=!0},Wt=function(){return this.originalEvent.stopPropagation()},$t=function(t){var e=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,n=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft;return{x:t.clientX+n,y:t.clientY+e}},qt=k.doc.addEventListener?function(t,e,n,i){var r=function(t){var e=$t(t);return n.call(i,t,e.x,e.y)};if(t.addEventListener(e,r,!1),N&&B[e]){var o=function(e){for(var r=$t(e),o=e,s=0,a=e.targetTouches&&e.targetTouches.length;s<a;s++)if(e.targetTouches[s].target==t){(e=e.targetTouches[s]).originalEvent=o,e.preventDefault=zt,e.stopPropagation=Wt;break}return n.call(i,e,r.x,r.y)};t.addEventListener(B[e],o,!1)}return function(){return t.removeEventListener(e,r,!1),N&&B[e]&&t.removeEventListener(B[e],o,!1),!0}}:k.doc.attachEvent?function(t,e,n,i){var r=function(t){t=t||k.win.event;var e=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,r=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,o=t.clientX+r,s=t.clientY+e;return t.preventDefault=t.preventDefault||Ht,t.stopPropagation=t.stopPropagation||jt,n.call(i,t,o,s)};return t.attachEvent("on"+e,r),function(){return t.detachEvent("on"+e,r),!0}}:void 0,Ut=[],Vt=function(e){for(var n,i=e.clientX,r=e.clientY,o=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,s=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft,a=Ut.length;a--;){if(n=Ut[a],N&&e.touches){for(var l,u=e.touches.length;u--;)if((l=e.touches[u]).identifier==n.el._drag.id){i=l.clientX,r=l.clientY,(e.originalEvent?e.originalEvent:e).preventDefault();break}}else e.preventDefault();var c,f=n.el.node,d=f.nextSibling,h=f.parentNode,p=f.style.display;k.win.opera&&h.removeChild(f),f.style.display="none",c=n.el.paper.getElementByPoint(i,r),f.style.display=p,k.win.opera&&(d?h.insertBefore(f,d):h.appendChild(f)),c&&t("raphael.drag.over."+n.el.id,n.el,c),i+=s,r+=o,t("raphael.drag.move."+n.el.id,n.move_scope||n.el,i-n.el._drag.x,r-n.el._drag.y,i,r,e)}},Yt=function(n){e.unmousemove(Vt).unmouseup(Yt);for(var i,r=Ut.length;r--;)(i=Ut[r]).el._drag={},t("raphael.drag.end."+i.el.id,i.end_scope||i.start_scope||i.move_scope||i.el,n);Ut=[]},Xt=e.el={},Gt=M.length;Gt--;)!function(t){e[t]=Xt[t]=function(n,i){return e.is(n,"function")&&(this.events=this.events||[],this.events.push({name:t,f:n,unbind:qt(this.shape||this.node||k.doc,t,n,i||this)})),this},e["un"+t]=Xt["un"+t]=function(n){for(var i=this.events||[],r=i.length;r--;)i[r].name!=t||!e.is(n,"undefined")&&i[r].f!=n||(i[r].unbind(),i.splice(r,1),!i.length&&delete this.events);return this}}(M[Gt]);Xt.data=function(n,i){var r=lt[this.id]=lt[this.id]||{};if(0==arguments.length)return r;if(1==arguments.length){if(e.is(n,"object")){for(var o in n)n[C](o)&&this.data(o,n[o]);return this}return t("raphael.data.get."+this.id,this,r[n],n),r[n]}return r[n]=i,t("raphael.data.set."+this.id,this,i,n),this},Xt.removeData=function(t){return null==t?lt[this.id]={}:lt[this.id]&&delete lt[this.id][t],this},Xt.getData=function(){return n(lt[this.id]||{})},Xt.hover=function(t,e,n,i){return this.mouseover(t,n).mouseout(e,i||n)},Xt.unhover=function(t,e){return this.unmouseover(t).unmouseout(e)};var Kt=[];Xt.drag=function(n,i,r,o,s,a){function l(l){(l.originalEvent||l).preventDefault();var u=l.clientX,c=l.clientY,f=k.doc.documentElement.scrollTop||k.doc.body.scrollTop,d=k.doc.documentElement.scrollLeft||k.doc.body.scrollLeft;if(this._drag.id=l.identifier,N&&l.touches)for(var h,p=l.touches.length;p--;)if(h=l.touches[p],this._drag.id=h.identifier,h.identifier==this._drag.id){u=h.clientX,c=h.clientY;break}this._drag.x=u+d,this._drag.y=c+f,!Ut.length&&e.mousemove(Vt).mouseup(Yt),Ut.push({el:this,move_scope:o,start_scope:s,end_scope:a}),i&&t.on("raphael.drag.start."+this.id,i),n&&t.on("raphael.drag.move."+this.id,n),r&&t.on("raphael.drag.end."+this.id,r),t("raphael.drag.start."+this.id,s||o||this,l.clientX+d,l.clientY+f,l)}return this._drag={},Kt.push({el:this,start:l}),this.mousedown(l),this},Xt.onDragOver=function(e){e?t.on("raphael.drag.over."+this.id,e):t.unbind("raphael.drag.over."+this.id)},Xt.undrag=function(){for(var n=Kt.length;n--;)Kt[n].el==this&&(this.unmousedown(Kt[n].start),Kt.splice(n,1),t.unbind("raphael.drag.*."+this.id));!Kt.length&&e.unmousemove(Vt).unmouseup(Yt),Ut=[]},b.circle=function(t,n,i){var r=e._engine.circle(this,t||0,n||0,i||0);return this.__set__&&this.__set__.push(r),r},b.rect=function(t,n,i,r,o){var s=e._engine.rect(this,t||0,n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},b.ellipse=function(t,n,i,r){var o=e._engine.ellipse(this,t||0,n||0,i||0,r||0);return this.__set__&&this.__set__.push(o),o},b.path=function(t){t&&!e.is(t,q)&&!e.is(t[0],U)&&(t+=A);var n=e._engine.path(e.format[E](e,arguments),this);return this.__set__&&this.__set__.push(n),n},b.image=function(t,n,i,r,o){var s=e._engine.image(this,t||"about:blank",n||0,i||0,r||0,o||0);return this.__set__&&this.__set__.push(s),s},b.text=function(t,n,i){var r=e._engine.text(this,t||0,n||0,O(i));return this.__set__&&this.__set__.push(r),r},b.set=function(t){!e.is(t,"array")&&(t=Array.prototype.splice.call(arguments,0,arguments.length));var n=new ae(t);return this.__set__&&this.__set__.push(n),n.paper=this,n.type="set",n},b.setStart=function(t){this.__set__=t||this.set()},b.setFinish=function(t){var e=this.__set__;return delete this.__set__,e},b.getSize=function(){var t=this.canvas.parentNode;return{width:t.offsetWidth,height:t.offsetHeight}},b.setSize=function(t,n){return e._engine.setSize.call(this,t,n)},b.setViewBox=function(t,n,i,r,o){return e._engine.setViewBox.call(this,t,n,i,r,o)},b.top=b.bottom=null,b.raphael=e,b.getElementByPoint=function(t,e){var n=this,i=n.canvas,r=k.doc.elementFromPoint(t,e);if(k.win.opera&&"svg"==r.tagName){var o=function(t){var e=t.getBoundingClientRect(),n=t.ownerDocument,i=n.body,r=n.documentElement,o=r.clientTop||i.clientTop||0,s=r.clientLeft||i.clientLeft||0;return{y:e.top+(k.win.pageYOffset||r.scrollTop||i.scrollTop)-o,x:e.left+(k.win.pageXOffset||r.scrollLeft||i.scrollLeft)-s}}(i),s=i.createSVGRect();s.x=t-o.x,s.y=e-o.y,s.width=s.height=1;var a=i.getIntersectionList(s,null);a.length&&(r=a[a.length-1])}if(!r)return null;for(;r.parentNode&&r!=i.parentNode&&!r.raphael;)r=r.parentNode;return r==n.canvas.parentNode&&(r=i),r&&r.raphael?n.getById(r.raphaelid):null},b.getElementsByBBox=function(t){var n=this.set();return this.forEach((function(i){e.isBBoxIntersect(i.getBBox(),t)&&n.push(i)})),n},b.getById=function(t){for(var e=this.bottom;e;){if(e.id==t)return e;e=e.next}return null},b.forEach=function(t,e){for(var n=this.bottom;n;){if(!1===t.call(e,n))return this;n=n.next}return this},b.getElementsByPoint=function(t,e){var n=this.set();return this.forEach((function(i){i.isPointInside(t,e)&&n.push(i)})),n},Xt.isPointInside=function(t,n){var i=this.realPath=ht[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(i=e.transformPath(i,this.attr("transform"))),e.isPointInsidePath(i,t,n)},Xt.getBBox=function(t){if(this.removed)return{};var e=this._;return t?(!e.dirty&&e.bboxwt||(this.realPath=ht[this.type](this),e.bboxwt=kt(this.realPath),e.bboxwt.toString=h,e.dirty=0),e.bboxwt):((e.dirty||e.dirtyT||!e.bbox)&&(!e.dirty&&this.realPath||(e.bboxwt=0,this.realPath=ht[this.type](this)),e.bbox=kt(pt(this.realPath,this.matrix)),e.bbox.toString=h,e.dirty=e.dirtyT=0),e.bbox)},Xt.clone=function(){if(this.removed)return null;var t=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(t),t},Xt.glow=function(t){if("text"==this.type)return null;var e={width:((t=t||{}).width||10)+(+this.attr("stroke-width")||1),fill:t.fill||!1,opacity:null==t.opacity?.5:t.opacity,offsetx:t.offsetx||0,offsety:t.offsety||0,color:t.color||"#000"},n=e.width/2,i=this.paper,r=i.set(),o=this.realPath||ht[this.type](this);o=this.matrix?pt(o,this.matrix):o;for(var s=1;s<n+1;s++)r.push(i.path(o).attr({stroke:e.color,fill:e.fill?e.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(e.width/n*s).toFixed(3),opacity:+(e.opacity/n).toFixed(3)}));return r.insertBefore(this).translate(e.offsetx,e.offsety)};var Jt=function(t,n,i,r,o,s,a,u,c){return null==c?l(t,n,i,r,o,s,a,u):e.findDotsAtSegment(t,n,i,r,o,s,a,u,function(t,e,n,i,r,o,s,a,u){if(!(u<0||l(t,e,n,i,r,o,s,a)<u)){var c,f=.5,d=1-f;for(c=l(t,e,n,i,r,o,s,a,d);z(c-u)>.01;)c=l(t,e,n,i,r,o,s,a,d+=(c<u?1:-1)*(f/=2));return d}}(t,n,i,r,o,s,a,u,c))},Qt=function(t,n){return function(i,r,o){for(var s,a,l,u,c,f="",d={},h=0,p=0,m=(i=It(i)).length;p<m;p++){if("M"==(l=i[p])[0])s=+l[1],a=+l[2];else{if(h+(u=Jt(s,a,l[1],l[2],l[3],l[4],l[5],l[6]))>r){if(n&&!d.start){if(f+=["C"+(c=Jt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-h)).start.x,c.start.y,c.m.x,c.m.y,c.x,c.y],o)return f;d.start=f,f=["M"+c.x,c.y+"C"+c.n.x,c.n.y,c.end.x,c.end.y,l[5],l[6]].join(),h+=u,s=+l[5],a=+l[6];continue}if(!t&&!n)return{x:(c=Jt(s,a,l[1],l[2],l[3],l[4],l[5],l[6],r-h)).x,y:c.y,alpha:c.alpha}}h+=u,s=+l[5],a=+l[6]}f+=l.shift()+l}return d.end=f,(c=t?h:n?d:e.findDotsAtSegment(s,a,l[0],l[1],l[2],l[3],l[4],l[5],1)).alpha&&(c={x:c.x,y:c.y,alpha:c.alpha}),c}},Zt=Qt(1),te=Qt(),ee=Qt(0,1);e.getTotalLength=Zt,e.getPointAtLength=te,e.getSubpath=function(t,e,n){if(this.getTotalLength(t)-n<1e-6)return ee(t,e).end;var i=ee(t,n,1);return e?ee(i,e).end:i},Xt.getTotalLength=function(){var t=this.getPath();if(t)return this.node.getTotalLength?this.node.getTotalLength():Zt(t)},Xt.getPointAtLength=function(t){var e=this.getPath();if(e)return te(e,t)},Xt.getPath=function(){var t,n=e._getPath[this.type];if("text"!=this.type&&"set"!=this.type)return n&&(t=n(this)),t},Xt.getSubpath=function(t,n){var i=this.getPath();if(i)return e.getSubpath(i,t,n)};var ne=e.easing_formulas={linear:function(t){return t},"<":function(t){return j(t,1.7)},">":function(t){return j(t,.48)},"<>":function(t){var e=.48-t/1.04,n=L.sqrt(.1734+e*e),i=n-e,r=-n-e,o=j(z(i),1/3)*(i<0?-1:1)+j(z(r),1/3)*(r<0?-1:1)+.5;return 3*(1-o)*o*o+o*o*o},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},elastic:function(t){return t==!!t?t:j(2,-10*t)*L.sin(2*W*(t-.075)/.3)+1},bounce:function(t){var e=7.5625,n=2.75;return t<1/n?e*t*t:t<2/n?e*(t-=1.5/n)*t+.75:t<2.5/n?e*(t-=2.25/n)*t+.9375:e*(t-=2.625/n)*t+.984375}};ne.easeIn=ne["ease-in"]=ne["<"],ne.easeOut=ne["ease-out"]=ne[">"],ne.easeInOut=ne["ease-in-out"]=ne["<>"],ne["back-in"]=ne.backIn,ne["back-out"]=ne.backOut;var ie=[],re=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,16)},oe=function(){for(var n=+new Date,i=0;i<ie.length;i++){var r=ie[i];if(!r.el.removed&&!r.paused){var o,s,a=n-r.start,l=r.ms,u=r.easing,c=r.from,f=r.diff,d=r.to,h=(r.t,r.el),p={},m={};if(r.initstatus?(a=(r.initstatus*r.anim.top-r.prev)/(r.percent-r.prev)*l,r.status=r.initstatus,delete r.initstatus,r.stop&&ie.splice(i--,1)):r.status=(r.prev+(r.percent-r.prev)*(a/l))/r.anim.top,!(a<0))if(a<l){var v=u(a/l);for(var y in c)if(c[C](y)){switch(et[y]){case $:o=+c[y]+v*l*f[y];break;case"colour":o="rgb("+[se(K(c[y].r+v*l*f[y].r)),se(K(c[y].g+v*l*f[y].g)),se(K(c[y].b+v*l*f[y].b))].join(",")+")";break;case"path":o=[];for(var b=0,x=c[y].length;b<x;b++){o[b]=[c[y][b][0]];for(var w=1,_=c[y][b].length;w<_;w++)o[b][w]=+c[y][b][w]+v*l*f[y][b][w];o[b]=o[b].join(P)}o=o.join(P);break;case"transform":if(f[y].real)for(o=[],b=0,x=c[y].length;b<x;b++)for(o[b]=[c[y][b][0]],w=1,_=c[y][b].length;w<_;w++)o[b][w]=c[y][b][w]+v*l*f[y][b][w];else{var k=function(t){return+c[y][t]+v*l*f[y][t]};o=[["m",k(0),k(1),k(2),k(3),k(4),k(5)]]}break;case"csv":if("clip-rect"==y)for(o=[],b=4;b--;)o[b]=+c[y][b]+v*l*f[y][b];break;default:var S=[][D](c[y]);for(o=[],b=h.paper.customAttributes[y].length;b--;)o[b]=+S[b]+v*l*f[y][b]}p[y]=o}h.attr(p),function(e,n,i){setTimeout((function(){t("raphael.anim.frame."+e,n,i)}))}(h.id,h,r.anim)}else{if(function(n,i,r){setTimeout((function(){t("raphael.anim.frame."+i.id,i,r),t("raphael.anim.finish."+i.id,i,r),e.is(n,"function")&&n.call(i)}))}(r.callback,h,r.anim),h.attr(d),ie.splice(i--,1),r.repeat>1&&!r.next){for(s in d)d[C](s)&&(m[s]=r.totalOrigin[s]);r.el.attr(m),g(r.anim,r.el,r.anim.percents[0],null,r.totalOrigin,r.repeat-1)}r.next&&!r.stop&&g(r.anim,r.el,r.next,null,r.totalOrigin,r.repeat)}}}ie.length&&re(oe)},se=function(t){return t>255?255:t<0?0:t};Xt.animateWith=function(t,n,i,r,o,s){var a=this;if(a.removed)return s&&s.call(a),a;var l=i instanceof m?i:e.animation(i,r,o,s);g(l,a,l.percents[0],null,a.attr());for(var u=0,c=ie.length;u<c;u++)if(ie[u].anim==n&&ie[u].el==t){ie[c-1].start=ie[u].start;break}return a},Xt.onAnimation=function(e){return e?t.on("raphael.anim.frame."+this.id,e):t.unbind("raphael.anim.frame."+this.id),this},m.prototype.delay=function(t){var e=new m(this.anim,this.ms);return e.times=this.times,e.del=+t||0,e},m.prototype.repeat=function(t){var e=new m(this.anim,this.ms);return e.del=this.del,e.times=L.floor(F(t,0))||1,e},e.animation=function(t,n,i,r){if(t instanceof m)return t;!e.is(i,"function")&&i||(r=r||i||null,i=null),t=Object(t),n=+n||0;var o,s,a={};for(s in t)t[C](s)&&J(s)!=s&&J(s)+"%"!=s&&(o=!0,a[s]=t[s]);if(o)return i&&(a.easing=i),r&&(a.callback=r),new m({100:a},n);if(r){var l=0;for(var u in t){var c=Q(u);t[C](u)&&c>l&&(l=c)}!t[l+="%"].callback&&(t[l].callback=r)}return new m(t,n)},Xt.animate=function(t,n,i,r){var o=this;if(o.removed)return r&&r.call(o),o;var s=t instanceof m?t:e.animation(t,n,i,r);return g(s,o,s.percents[0],null,o.attr()),o},Xt.setTime=function(t,e){return t&&null!=e&&this.status(t,H(e,t.ms)/t.ms),this},Xt.status=function(t,e){var n,i,r=[],o=0;if(null!=e)return g(t,this,-1,H(e,1)),this;for(n=ie.length;o<n;o++)if((i=ie[o]).el.id==this.id&&(!t||i.anim==t)){if(t)return i.status;r.push({anim:i.anim,status:i.status})}return t?0:r},Xt.pause=function(e){for(var n=0;n<ie.length;n++)ie[n].el.id!=this.id||e&&ie[n].anim!=e||!1!==t("raphael.anim.pause."+this.id,this,ie[n].anim)&&(ie[n].paused=!0);return this},Xt.resume=function(e){for(var n=0;n<ie.length;n++)if(ie[n].el.id==this.id&&(!e||ie[n].anim==e)){var i=ie[n];!1!==t("raphael.anim.resume."+this.id,this,i.anim)&&(delete i.paused,this.status(i.anim,i.status))}return this},Xt.stop=function(e){for(var n=0;n<ie.length;n++)ie[n].el.id!=this.id||e&&ie[n].anim!=e||!1!==t("raphael.anim.stop."+this.id,this,ie[n].anim)&&ie.splice(n--,1);return this},t.on("raphael.remove",v),t.on("raphael.clear",v),Xt.toString=function(){return"RaphaÃ«lâs object"};var ae=function(t){if(this.items=[],this.length=0,this.type="set",t)for(var e=0,n=t.length;e<n;e++)!t[e]||t[e].constructor!=Xt.constructor&&t[e].constructor!=ae||(this[this.items.length]=this.items[this.items.length]=t[e],this.length++)},le=ae.prototype;for(var ue in le.push=function(){for(var t,e,n=0,i=arguments.length;n<i;n++)!(t=arguments[n])||t.constructor!=Xt.constructor&&t.constructor!=ae||(this[e=this.items.length]=this.items[e]=t,this.length++);return this},le.pop=function(){return this.length&&delete this[this.length--],this.items.pop()},le.forEach=function(t,e){for(var n=0,i=this.items.length;n<i;n++)if(!1===t.call(e,this.items[n],n))return this;return this},Xt)Xt[C](ue)&&(le[ue]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t][E](n,e)}))}}(ue));return le.attr=function(t,n){if(t&&e.is(t,U)&&e.is(t[0],"object"))for(var i=0,r=t.length;i<r;i++)this.items[i].attr(t[i]);else for(var o=0,s=this.items.length;o<s;o++)this.items[o].attr(t,n);return this},le.clear=function(){for(;this.length;)this.pop()},le.splice=function(t,e,n){t=t<0?F(this.length+t,0):t,e=F(0,H(this.length-t,e));var i,r=[],o=[],s=[];for(i=2;i<arguments.length;i++)s.push(arguments[i]);for(i=0;i<e;i++)o.push(this[t+i]);for(;i<this.length-t;i++)r.push(this[t+i]);var a=s.length;for(i=0;i<a+r.length;i++)this.items[t+i]=this[t+i]=i<a?s[i]:r[i-a];for(i=this.items.length=this.length-=e-a;this[i];)delete this[i++];return new ae(o)},le.exclude=function(t){for(var e=0,n=this.length;e<n;e++)if(this[e]==t)return this.splice(e,1),!0},le.animate=function(t,n,i,r){(e.is(i,"function")||!i)&&(r=i||null);var o,s,a=this.items.length,l=a,u=this;if(!a)return this;r&&(s=function(){!--a&&r.call(u)}),i=e.is(i,q)?i:s;var c=e.animation(t,n,i,s);for(o=this.items[--l].animate(c);l--;)this.items[l]&&!this.items[l].removed&&this.items[l].animateWith(o,c,c),this.items[l]&&!this.items[l].removed||a--;return this},le.insertAfter=function(t){for(var e=this.items.length;e--;)this.items[e].insertAfter(t);return this},le.getBBox=function(){for(var t=[],e=[],n=[],i=[],r=this.items.length;r--;)if(!this.items[r].removed){var o=this.items[r].getBBox();t.push(o.x),e.push(o.y),n.push(o.x+o.width),i.push(o.y+o.height)}return{x:t=H[E](0,t),y:e=H[E](0,e),x2:n=F[E](0,n),y2:i=F[E](0,i),width:n-t,height:i-e}},le.clone=function(t){t=this.paper.set();for(var e=0,n=this.items.length;e<n;e++)t.push(this.items[e].clone());return t},le.toString=function(){return"RaphaÃ«lâs set"},le.glow=function(t){var e=this.paper.set();return this.forEach((function(n,i){var r=n.glow(t);null!=r&&r.forEach((function(t,n){e.push(t)}))})),e},le.isPointInside=function(t,e){var n=!1;return this.forEach((function(i){if(i.isPointInside(t,e))return n=!0,!1})),n},e.registerFont=function(t){if(!t.face)return t;this.fonts=this.fonts||{};var e={w:t.w,face:{},glyphs:{}},n=t.face["font-family"];for(var i in t.face)t.face[C](i)&&(e.face[i]=t.face[i]);if(this.fonts[n]?this.fonts[n].push(e):this.fonts[n]=[e],!t.svg)for(var r in e.face["units-per-em"]=Q(t.face["units-per-em"],10),t.glyphs)if(t.glyphs[C](r)){var o=t.glyphs[r];if(e.glyphs[r]={w:o.w,k:{},d:o.d&&"M"+o.d.replace(/[mlcxtrv]/g,(function(t){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[t]||"M"}))+"z"},o.k)for(var s in o.k)o[C](s)&&(e.glyphs[r].k[s]=o.k[s])}return t},b.getFont=function(t,n,i,r){if(r=r||"normal",i=i||"normal",n=+n||{normal:400,bold:700,lighter:300,bolder:800}[n]||400,e.fonts){var o,s=e.fonts[t];if(!s){var a=new RegExp("(^|\\s)"+t.replace(/[^\w\d\s+!~.:_-]/g,A)+"(\\s|$)","i");for(var l in e.fonts)if(e.fonts[C](l)&&a.test(l)){s=e.fonts[l];break}}if(s)for(var u=0,c=s.length;u<c&&((o=s[u]).face["font-weight"]!=n||o.face["font-style"]!=i&&o.face["font-style"]||o.face["font-stretch"]!=r);u++);return o}},b.print=function(t,n,i,r,o,s,a,l){s=s||"middle",a=F(H(a||0,1),-1),l=F(H(l||1,3),1);var u,c=O(i)[I](A),f=0,d=0,h=A;if(e.is(r,"string")&&(r=this.getFont(r)),r){u=(o||16)/r.face["units-per-em"];for(var p=r.face.bbox[I](x),m=+p[0],g=p[3]-p[1],v=0,y=+p[1]+("baseline"==s?g+ +r.face.descent:g/2),b=0,w=c.length;b<w;b++){if("\n"==c[b])f=0,C=0,d=0,v+=g*l;else{var _=d&&r.glyphs[c[b-1]]||{},C=r.glyphs[c[b]];f+=d?(_.w||r.w)+(_.k&&_.k[c[b]]||0)+r.w*a:0,d=1}C&&C.d&&(h+=e.transformPath(C.d,["t",f*u,v*u,"s",u,u,m,y,"t",(t-m)/u,(n-y)/u]))}}return this.path(h).attr({fill:"#000",stroke:"none"})},b.add=function(t){if(e.is(t,"array"))for(var n,i=this.set(),r=0,o=t.length;r<o;r++)n=t[r]||{},w[C](n.type)&&i.push(this[n.type]().attr(n));return i},e.format=function(t,n){var i=e.is(n,U)?[0][D](n):arguments;return t&&e.is(t,q)&&i.length-1&&(t=t.replace(_,(function(t,e){return null==i[++e]?A:i[e]}))),t||A},e.fullfill=function(){var t=/\{([^\}]+)\}/g,e=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,n=function(t,n,i){var r=i;return n.replace(e,(function(t,e,n,i,o){e=e||i,r&&(e in r&&(r=r[e]),"function"==typeof r&&o&&(r=r()))})),r=(null==r||r==i?t:r)+""};return function(e,i){return String(e).replace(t,(function(t,e){return n(t,e,i)}))}}(),e.ninja=function(){if(S.was)k.win.Raphael=S.is;else{window.Raphael=void 0;try{delete window.Raphael}catch(t){}}return e},e.st=le,t.on("raphael.DOMload",(function(){y=!0})),function(t,n,i){null==t.readyState&&t.addEventListener&&(t.addEventListener(n,i=function(){t.removeEventListener(n,i,!1),t.readyState="complete"},!1),t.readyState="loading"),function n(){/in/.test(t.readyState)?setTimeout(n,9):e.eve("raphael.DOMload")}()}(document,"DOMContentLoaded"),e}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r,o,s,a,l,u,c,f,d,h,p,m,g;s="0.5.0",a="hasOwnProperty",l=/[\.\/]/,u=/\s*,\s*/,c=function(t,e){return t-e},f={n:{}},d=function(){for(var t=0,e=this.length;t<e;t++)if(void 0!==this[t])return this[t]},h=function(){for(var t=this.length;--t;)if(void 0!==this[t])return this[t]},p=Object.prototype.toString,m=String,g=Array.isArray||function(t){return t instanceof Array||"[object Array]"==p.call(t)},eve=function(t,e){var n,i=o,s=Array.prototype.slice.call(arguments,2),a=eve.listeners(t),l=0,u=[],f={},p=[],m=r;p.firstDefined=d,p.lastDefined=h,r=t,o=0;for(var g=0,v=a.length;g<v;g++)"zIndex"in a[g]&&(u.push(a[g].zIndex),a[g].zIndex<0&&(f[a[g].zIndex]=a[g]));for(u.sort(c);u[l]<0;)if(n=f[u[l++]],p.push(n.apply(e,s)),o)return o=i,p;for(g=0;g<v;g++)if("zIndex"in(n=a[g]))if(n.zIndex==u[l]){if(p.push(n.apply(e,s)),o)break;do{if((n=f[u[++l]])&&p.push(n.apply(e,s)),o)break}while(n)}else f[n.zIndex]=n;else if(p.push(n.apply(e,s)),o)break;return o=i,r=m,p},eve._events=f,eve.listeners=function(t){var e,n,i,r,o,s,a,u,c=g(t)?t:t.split(l),d=f,h=[d],p=[];for(r=0,o=c.length;r<o;r++){for(u=[],s=0,a=h.length;s<a;s++)for(n=[(d=h[s].n)[c[r]],d["*"]],i=2;i--;)(e=n[i])&&(u.push(e),p=p.concat(e.f||[]));h=u}return p},eve.separator=function(t){t?(t="["+(t=m(t).replace(/(?=[\.\^\]\[\-])/g,"\\"))+"]",l=new RegExp(t)):l=/[\.\/]/},eve.on=function(t,e){if("function"!=typeof e)return function(){};for(var n=g(t)?g(t[0])?t:[t]:m(t).split(u),i=0,r=n.length;i<r;i++)!function(t){for(var n,i=g(t)?t:m(t).split(l),r=f,o=0,s=i.length;o<s;o++)r=(r=r.n).hasOwnProperty(i[o])&&r[i[o]]||(r[i[o]]={n:{}});for(r.f=r.f||[],o=0,s=r.f.length;o<s;o++)if(r.f[o]==e){n=!0;break}!n&&r.f.push(e)}(n[i]);return function(t){+t==+t&&(e.zIndex=+t)}},eve.f=function(t){var e=[].slice.call(arguments,1);return function(){eve.apply(null,[t,null].concat(e).concat([].slice.call(arguments,0)))}},eve.stop=function(){o=1},eve.nt=function(t){var e=g(r)?r.join("."):r;return t?new RegExp("(?:\\.|\\/|^)"+t+"(?:\\.|\\/|$)").test(e):e},eve.nts=function(){return g(r)?r:r.split(l)},eve.off=eve.unbind=function(t,e){if(t){var n=g(t)?g(t[0])?t:[t]:m(t).split(u);if(n.length>1)for(var i=0,r=n.length;i<r;i++)eve.off(n[i],e);else{n=g(t)?t:m(t).split(l);var o,s,c,d,h,p=[f];for(i=0,r=n.length;i<r;i++)for(d=0;d<p.length;d+=c.length-2){if(c=[d,1],o=p[d].n,"*"!=n[i])o[n[i]]&&c.push(o[n[i]]);else for(s in o)o[a](s)&&c.push(o[s]);p.splice.apply(p,c)}for(i=0,r=p.length;i<r;i++)for(o=p[i];o.n;){if(e){if(o.f){for(d=0,h=o.f.length;d<h;d++)if(o.f[d]==e){o.f.splice(d,1);break}!o.f.length&&delete o.f}for(s in o.n)if(o.n[a](s)&&o.n[s].f){var v=o.n[s].f;for(d=0,h=v.length;d<h;d++)if(v[d]==e){v.splice(d,1);break}!v.length&&delete o.n[s].f}}else for(s in delete o.f,o.n)o.n[a](s)&&o.n[s].f&&delete o.n[s].f;o=o.n}}}else eve._events=f={n:{}}},eve.once=function(t,e){var n=function(){return eve.off(t,n),e.apply(this,arguments)};return eve.on(t,n)},eve.version=s,eve.toString=function(){return"You are running Eve "+s},void 0!==t&&t.exports?t.exports=eve:void 0===(i=function(){return eve}.apply(e,[]))||(t.exports=i)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){if(!t||t.svg){var e="hasOwnProperty",n=String,i=parseFloat,r=parseInt,o=Math,s=o.max,a=o.abs,l=o.pow,u=/[, ]+/,c=t.eve,f="",d=" ",h="http://www.w3.org/1999/xlink",p={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},m={};t.toString=function(){return"Your browser supports SVG.\nYou are running RaphaÃ«l "+this.version};var g=function(i,r){if(r)for(var o in"string"==typeof i&&(i=g(i)),r)r[e](o)&&("xlink:"==o.substring(0,6)?i.setAttributeNS(h,o.substring(6),n(r[o])):i.setAttribute(o,n(r[o])));else(i=t._g.doc.createElementNS("http://www.w3.org/2000/svg",i)).style&&(i.style.webkitTapHighlightColor="rgba(0,0,0,0)");return i},v=function(e,r){var u="linear",c=e.id+r,d=.5,h=.5,p=e.node,m=e.paper,v=p.style,b=t._g.doc.getElementById(c);if(!b){if(r=(r=n(r).replace(t._radial_gradient,(function(t,e,n){if(u="radial",e&&n){d=i(e);var r=2*((h=i(n))>.5)-1;l(d-.5,2)+l(h-.5,2)>.25&&(h=o.sqrt(.25-l(d-.5,2))*r+.5)&&.5!=h&&(h=h.toFixed(5)-1e-5*r)}return f}))).split(/\s*\-\s*/),"linear"==u){var x=r.shift();if(x=-i(x),isNaN(x))return null;var w=[0,0,o.cos(t.rad(x)),o.sin(t.rad(x))],_=1/(s(a(w[2]),a(w[3]))||1);w[2]*=_,w[3]*=_,w[2]<0&&(w[0]=-w[2],w[2]=0),w[3]<0&&(w[1]=-w[3],w[3]=0)}var C=t._parseDots(r);if(!C)return null;if(c=c.replace(/[\(\)\s,\xb0#]/g,"_"),e.gradient&&c!=e.gradient.id&&(m.defs.removeChild(e.gradient),delete e.gradient),!e.gradient){b=g(u+"Gradient",{id:c}),e.gradient=b,g(b,"radial"==u?{fx:d,fy:h}:{x1:w[0],y1:w[1],x2:w[2],y2:w[3],gradientTransform:e.matrix.invert()}),m.defs.appendChild(b);for(var k=0,S=C.length;k<S;k++)b.appendChild(g("stop",{offset:C[k].offset?C[k].offset:k?"100%":"0%","stop-color":C[k].color||"#fff","stop-opacity":isFinite(C[k].opacity)?C[k].opacity:1}))}}return g(p,{fill:y(c),opacity:1,"fill-opacity":1}),v.fill=f,v.opacity=1,v.fillOpacity=1,1},y=function(t){if(function(){var t=document.documentMode;return t&&(9===t||10===t)}())return"url('#"+t+"')";var e=document.location;return"url('"+e.protocol+"//"+e.host+e.pathname+e.search+"#"+t+"')"},b=function(t){var e=t.getBBox(1);g(t.pattern,{patternTransform:t.matrix.invert()+" translate("+e.x+","+e.y+")"})},x=function(i,r,o){if("path"==i.type){for(var s,a,l,u,c,d=n(r).toLowerCase().split("-"),h=i.paper,v=o?"end":"start",y=i.node,b=i.attrs,x=b["stroke-width"],w=d.length,_="classic",C=3,k=3,S=5;w--;)switch(d[w]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":_=d[w];break;case"wide":k=5;break;case"narrow":k=2;break;case"long":C=5;break;case"short":C=2}if("open"==_?(C+=2,k+=2,S+=2,l=1,u=o?4:1,c={fill:"none",stroke:b.stroke}):(u=l=C/2,c={fill:b.stroke,stroke:"none"}),i._.arrows?o?(i._.arrows.endPath&&m[i._.arrows.endPath]--,i._.arrows.endMarker&&m[i._.arrows.endMarker]--):(i._.arrows.startPath&&m[i._.arrows.startPath]--,i._.arrows.startMarker&&m[i._.arrows.startMarker]--):i._.arrows={},"none"!=_){var T="raphael-marker-"+_,E="raphael-marker-"+v+_+C+k+"-obj"+i.id;t._g.doc.getElementById(T)?m[T]++:(h.defs.appendChild(g(g("path"),{"stroke-linecap":"round",d:p[_],id:T})),m[T]=1);var D,N=t._g.doc.getElementById(E);N?(m[E]++,D=N.getElementsByTagName("use")[0]):(N=g(g("marker"),{id:E,markerHeight:k,markerWidth:C,orient:"auto",refX:u,refY:k/2}),D=g(g("use"),{"xlink:href":"#"+T,transform:(o?"rotate(180 "+C/2+" "+k/2+") ":f)+"scale("+C/S+","+k/S+")","stroke-width":(1/((C/S+k/S)/2)).toFixed(4)}),N.appendChild(D),h.defs.appendChild(N),m[E]=1),g(D,c);var A=l*("diamond"!=_&&"oval"!=_);o?(s=i._.arrows.startdx*x||0,a=t.getTotalLength(b.path)-A*x):(s=A*x,a=t.getTotalLength(b.path)-(i._.arrows.enddx*x||0)),(c={})["marker-"+v]="url(#"+E+")",(a||s)&&(c.d=t.getSubpath(b.path,s,a)),g(y,c),i._.arrows[v+"Path"]=T,i._.arrows[v+"Marker"]=E,i._.arrows[v+"dx"]=A,i._.arrows[v+"Type"]=_,i._.arrows[v+"String"]=r}else o?(s=i._.arrows.startdx*x||0,a=t.getTotalLength(b.path)-s):(s=0,a=t.getTotalLength(b.path)-(i._.arrows.enddx*x||0)),i._.arrows[v+"Path"]&&g(y,{d:t.getSubpath(b.path,s,a)}),delete i._.arrows[v+"Path"],delete i._.arrows[v+"Marker"],delete i._.arrows[v+"dx"],delete i._.arrows[v+"Type"],delete i._.arrows[v+"String"];for(c in m)if(m[e](c)&&!m[c]){var P=t._g.doc.getElementById(c);P&&P.parentNode.removeChild(P)}}},w={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},_=function(t,e,i){if(e=w[n(e).toLowerCase()]){for(var r=t.attrs["stroke-width"]||"1",o={round:r,square:r,butt:0}[t.attrs["stroke-linecap"]||i["stroke-linecap"]]||0,s=[],a=e.length;a--;)s[a]=e[a]*r+(a%2?1:-1)*o;g(t.node,{"stroke-dasharray":s.join(",")})}else g(t.node,{"stroke-dasharray":"none"})},C=function(i,o){var l=i.node,c=i.attrs,d=l.style.visibility;for(var p in l.style.visibility="hidden",o)if(o[e](p)){if(!t._availableAttrs[e](p))continue;var m=o[p];switch(c[p]=m,p){case"blur":i.blur(m);break;case"title":var y=l.getElementsByTagName("title");if(y.length&&(y=y[0]))y.firstChild.nodeValue=m;else{y=g("title");var w=t._g.doc.createTextNode(m);y.appendChild(w),l.appendChild(y)}break;case"href":case"target":var C=l.parentNode;if("a"!=C.tagName.toLowerCase()){var S=g("a");C.insertBefore(S,l),S.appendChild(l),C=S}"target"==p?C.setAttributeNS(h,"show","blank"==m?"new":m):C.setAttributeNS(h,p,m);break;case"cursor":l.style.cursor=m;break;case"transform":i.transform(m);break;case"arrow-start":x(i,m);break;case"arrow-end":x(i,m,1);break;case"clip-rect":var T=n(m).split(u);if(4==T.length){i.clip&&i.clip.parentNode.parentNode.removeChild(i.clip.parentNode);var E=g("clipPath"),D=g("rect");E.id=t.createUUID(),g(D,{x:T[0],y:T[1],width:T[2],height:T[3]}),E.appendChild(D),i.paper.defs.appendChild(E),g(l,{"clip-path":"url(#"+E.id+")"}),i.clip=D}if(!m){var N=l.getAttribute("clip-path");if(N){var A=t._g.doc.getElementById(N.replace(/(^url\(#|\)$)/g,f));A&&A.parentNode.removeChild(A),g(l,{"clip-path":f}),delete i.clip}}break;case"path":"path"==i.type&&(g(l,{d:m?c.path=t._pathToAbsolute(m):"M0,0"}),i._.dirty=1,i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1)));break;case"width":if(l.setAttribute(p,m),i._.dirty=1,!c.fx)break;p="x",m=c.x;case"x":c.fx&&(m=-c.x-(c.width||0));case"rx":if("rx"==p&&"rect"==i.type)break;case"cx":l.setAttribute(p,m),i.pattern&&b(i),i._.dirty=1;break;case"height":if(l.setAttribute(p,m),i._.dirty=1,!c.fy)break;p="y",m=c.y;case"y":c.fy&&(m=-c.y-(c.height||0));case"ry":if("ry"==p&&"rect"==i.type)break;case"cy":l.setAttribute(p,m),i.pattern&&b(i),i._.dirty=1;break;case"r":"rect"==i.type?g(l,{rx:m,ry:m}):l.setAttribute(p,m),i._.dirty=1;break;case"src":"image"==i.type&&l.setAttributeNS(h,"href",m);break;case"stroke-width":1==i._.sx&&1==i._.sy||(m/=s(a(i._.sx),a(i._.sy))||1),l.setAttribute(p,m),c["stroke-dasharray"]&&_(i,c["stroke-dasharray"],o),i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1));break;case"stroke-dasharray":_(i,m,o);break;case"fill":var P=n(m).match(t._ISURL);if(P){E=g("pattern");var O=g("image");E.id=t.createUUID(),g(E,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1}),g(O,{x:0,y:0,"xlink:href":P[1]}),E.appendChild(O),function(e){t._preload(P[1],(function(){var t=this.offsetWidth,n=this.offsetHeight;g(e,{width:t,height:n}),g(O,{width:t,height:n})}))}(E),i.paper.defs.appendChild(E),g(l,{fill:"url(#"+E.id+")"}),i.pattern=E,i.pattern&&b(i);break}var I=t.getRGB(m);if(I.error){if(("circle"==i.type||"ellipse"==i.type||"r"!=n(m).charAt())&&v(i,m)){if("opacity"in c||"fill-opacity"in c){var M=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f));if(M){var B=M.getElementsByTagName("stop");g(B[B.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})}}c.gradient=m,c.fill="none";break}}else delete o.gradient,delete c.gradient,!t.is(c.opacity,"undefined")&&t.is(o.opacity,"undefined")&&g(l,{opacity:c.opacity}),!t.is(c["fill-opacity"],"undefined")&&t.is(o["fill-opacity"],"undefined")&&g(l,{"fill-opacity":c["fill-opacity"]});I[e]("opacity")&&g(l,{"fill-opacity":I.opacity>1?I.opacity/100:I.opacity});case"stroke":I=t.getRGB(m),l.setAttribute(p,I.hex),"stroke"==p&&I[e]("opacity")&&g(l,{"stroke-opacity":I.opacity>1?I.opacity/100:I.opacity}),"stroke"==p&&i._.arrows&&("startString"in i._.arrows&&x(i,i._.arrows.startString),"endString"in i._.arrows&&x(i,i._.arrows.endString,1));break;case"gradient":("circle"==i.type||"ellipse"==i.type||"r"!=n(m).charAt())&&v(i,m);break;case"opacity":c.gradient&&!c[e]("stroke-opacity")&&g(l,{"stroke-opacity":m>1?m/100:m});case"fill-opacity":if(c.gradient){(M=t._g.doc.getElementById(l.getAttribute("fill").replace(/^url\(#|\)$/g,f)))&&(B=M.getElementsByTagName("stop"),g(B[B.length-1],{"stop-opacity":m}));break}default:"font-size"==p&&(m=r(m,10)+"px");var R=p.replace(/(\-.)/g,(function(t){return t.substring(1).toUpperCase()}));l.style[R]=m,i._.dirty=1,l.setAttribute(p,m)}}k(i,o),l.style.visibility=d},k=function(i,o){if("text"==i.type&&(o[e]("text")||o[e]("font")||o[e]("font-size")||o[e]("x")||o[e]("y"))){var s=i.attrs,a=i.node,l=a.firstChild?r(t._g.doc.defaultView.getComputedStyle(a.firstChild,f).getPropertyValue("font-size"),10):10;if(o[e]("text")){for(s.text=o.text;a.firstChild;)a.removeChild(a.firstChild);for(var u,c=n(o.text).split("\n"),d=[],h=0,p=c.length;h<p;h++)u=g("tspan"),h&&g(u,{dy:1.2*l,x:s.x}),u.appendChild(t._g.doc.createTextNode(c[h])),a.appendChild(u),d[h]=u}else for(h=0,p=(d=a.getElementsByTagName("tspan")).length;h<p;h++)h?g(d[h],{dy:1.2*l,x:s.x}):g(d[0],{dy:0});g(a,{x:s.x,y:s.y}),i._.dirty=1;var m=i._getBBox(),v=s.y-(m.y+m.height/2);v&&t.is(v,"finite")&&g(d[0],{dy:v})}},S=function(t){return t.parentNode&&"a"===t.parentNode.tagName.toLowerCase()?t.parentNode:t},T=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5),e.raphaelid=this.id,this.matrix=t.matrix(),this.realPath=null,this.paper=n,this.attrs=this.attrs||{},this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},E=t.el;T.prototype=E,E.constructor=T,t._engine.path=function(t,e){var n=g("path");e.canvas&&e.canvas.appendChild(n);var i=new T(n,e);return i.type="path",C(i,{fill:"none",stroke:"#000",path:t}),i},E.rotate=function(t,e,r){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this.transform(this._.transform.concat([["r",t,e,r]])),this},E.scale=function(t,e,r,o){if(this.removed)return this;if((t=n(t).split(u)).length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3])),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this},E.translate=function(t,e){return this.removed?this:((t=n(t).split(u)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this.transform(this._.transform.concat([["t",t,e]])),this)},E.transform=function(n){var i=this._;if(null==n)return i.transform;if(t._extractTransform(this,n),this.clip&&g(this.clip,{transform:this.matrix.invert()}),this.pattern&&b(this),this.node&&g(this.node,{transform:this.matrix}),1!=i.sx||1!=i.sy){var r=this.attrs[e]("stroke-width")?this.attrs["stroke-width"]:1;this.attr({"stroke-width":r})}return this},E.hide=function(){return this.removed||(this.node.style.display="none"),this},E.show=function(){return this.removed||(this.node.style.display=""),this},E.remove=function(){var e=S(this.node);if(!this.removed&&e.parentNode){var n=this.paper;for(var i in n.__set__&&n.__set__.exclude(this),c.unbind("raphael.*.*."+this.id),this.gradient&&n.defs.removeChild(this.gradient),t._tear(this,n),e.parentNode.removeChild(e),this.removeData(),this)this[i]="function"==typeof this[i]?t._removedFactory(i):null;this.removed=!0}},E._getBBox=function(){if("none"==this.node.style.display){this.show();var t=!0}var e,n=!1;this.paper.canvas.parentElement?e=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(e=this.paper.canvas.parentNode.style),e&&"none"==e.display&&(n=!0,e.display="");var i={};try{i=this.node.getBBox()}catch(t){i={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{i=i||{},n&&(e.display="none")}return t&&this.hide(),i},E.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if("fill"==n&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==n)return this._.transform;for(var s=n.split(u),a={},l=0,f=s.length;l<f;l++)(n=s[l])in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return f-1?a:a[s[0]]}if(null==i&&t.is(n,"array")){for(a={},l=0,f=n.length;l<f;l++)a[n[l]]=this.attr(n[l]);return a}if(null!=i){var d={};d[n]=i}else null!=n&&t.is(n,"object")&&(d=n);for(var h in d)c("raphael.attr."+h+"."+this.id,this,d[h]);for(h in this.paper.customAttributes)if(this.paper.customAttributes[e](h)&&d[e](h)&&t.is(this.paper.customAttributes[h],"function")){var p=this.paper.customAttributes[h].apply(this,[].concat(d[h]));for(var m in this.attrs[h]=d[h],p)p[e](m)&&(d[m]=p[m])}return C(this,d),this},E.toFront=function(){if(this.removed)return this;var e=S(this.node);e.parentNode.appendChild(e);var n=this.paper;return n.top!=this&&t._tofront(this,n),this},E.toBack=function(){if(this.removed)return this;var e=S(this.node),n=e.parentNode;return n.insertBefore(e,n.firstChild),t._toback(this,this.paper),this.paper,this},E.insertAfter=function(e){if(this.removed||!e)return this;var n=S(this.node),i=S(e.node||e[e.length-1].node);return i.nextSibling?i.parentNode.insertBefore(n,i.nextSibling):i.parentNode.appendChild(n),t._insertafter(this,e,this.paper),this},E.insertBefore=function(e){if(this.removed||!e)return this;var n=S(this.node),i=S(e.node||e[0].node);return i.parentNode.insertBefore(n,i),t._insertbefore(this,e,this.paper),this},E.blur=function(e){var n=this;if(0!=+e){var i=g("filter"),r=g("feGaussianBlur");n.attrs.blur=e,i.id=t.createUUID(),g(r,{stdDeviation:+e||1.5}),i.appendChild(r),n.paper.defs.appendChild(i),n._blur=i,g(n.node,{filter:"url(#"+i.id+")"})}else n._blur&&(n._blur.parentNode.removeChild(n._blur),delete n._blur,delete n.attrs.blur),n.node.removeAttribute("filter");return n},t._engine.circle=function(t,e,n,i){var r=g("circle");t.canvas&&t.canvas.appendChild(r);var o=new T(r,t);return o.attrs={cx:e,cy:n,r:i,fill:"none",stroke:"#000"},o.type="circle",g(r,o.attrs),o},t._engine.rect=function(t,e,n,i,r,o){var s=g("rect");t.canvas&&t.canvas.appendChild(s);var a=new T(s,t);return a.attrs={x:e,y:n,width:i,height:r,rx:o||0,ry:o||0,fill:"none",stroke:"#000"},a.type="rect",g(s,a.attrs),a},t._engine.ellipse=function(t,e,n,i,r){var o=g("ellipse");t.canvas&&t.canvas.appendChild(o);var s=new T(o,t);return s.attrs={cx:e,cy:n,rx:i,ry:r,fill:"none",stroke:"#000"},s.type="ellipse",g(o,s.attrs),s},t._engine.image=function(t,e,n,i,r,o){var s=g("image");g(s,{x:n,y:i,width:r,height:o,preserveAspectRatio:"none"}),s.setAttributeNS(h,"href",e),t.canvas&&t.canvas.appendChild(s);var a=new T(s,t);return a.attrs={x:n,y:i,width:r,height:o,src:e},a.type="image",a},t._engine.text=function(e,n,i,r){var o=g("text");e.canvas&&e.canvas.appendChild(o);var s=new T(o,e);return s.attrs={x:n,y:i,"text-anchor":"middle",text:r,"font-family":t._availableAttrs["font-family"],"font-size":t._availableAttrs["font-size"],stroke:"none",fill:"#000"},s.type="text",C(s,s.attrs),s},t._engine.setSize=function(t,e){return this.width=t||this.width,this.height=e||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this},t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e&&e.container,i=e.x,r=e.y,o=e.width,s=e.height;if(!n)throw new Error("SVG container not found.");var a,l=g("svg"),u="overflow:hidden;";return i=i||0,r=r||0,g(l,{height:s=s||342,version:1.1,width:o=o||512,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),1==n?(l.style.cssText=u+"position:absolute;left:"+i+"px;top:"+r+"px",t._g.doc.body.appendChild(l),a=1):(l.style.cssText=u+"position:relative",n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l)),(n=new t._Paper).width=o,n.height=s,n.canvas=l,n.clear(),n._left=n._top=0,a&&(n.renderfix=function(){}),n.renderfix(),n},t._engine.setViewBox=function(t,e,n,i,r){c("raphael.setViewBox",this,this._viewBox,[t,e,n,i,r]);var o,a,l=this.getSize(),u=s(n/l.width,i/l.height),f=this.top,h=r?"xMidYMid meet":"xMinYMin";for(null==t?(this._vbSize&&(u=1),delete this._vbSize,o="0 0 "+this.width+d+this.height):(this._vbSize=u,o=t+d+e+d+n+d+i),g(this.canvas,{viewBox:o,preserveAspectRatio:h});u&&f;)a="stroke-width"in f.attrs?f.attrs["stroke-width"]:1,f.attr({"stroke-width":a}),f._.dirty=1,f._.dirtyT=1,f=f.prev;return this._viewBox=[t,e,n,i,!!r],this},t.prototype.renderfix=function(){var t,e=this.canvas,n=e.style;try{t=e.getScreenCTM()||e.createSVGMatrix()}catch(n){t=e.createSVGMatrix()}var i=-t.e%1,r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,n.left=this._left+"px"),r&&(this._top=(this._top+r)%1,n.top=this._top+"px"))},t.prototype.clear=function(){t.eve("raphael.clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null,(this.desc=g("desc")).appendChild(t._g.doc.createTextNode("Created with RaphaÃ«l "+t.version)),e.appendChild(this.desc),e.appendChild(this.defs=g("defs"))},t.prototype.remove=function(){for(var e in c("raphael.remove",this),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null};var D=t.st;for(var N in E)E[e](N)&&!D[e](N)&&(D[N]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(N))}}.apply(e,i))||(t.exports=r)},function(t,e,n){var i,r;i=[n(1)],void 0===(r=function(t){if(!t||t.vml){var e="hasOwnProperty",n=String,i=parseFloat,r=Math,o=r.round,s=r.max,a=r.min,l=r.abs,u="fill",c=/[, ]+/,f=t.eve,d=" ",h="",p={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},m=/([clmz]),?([^clmz]*)/gi,g=/ progid:\S+Blur\([^\)]+\)/g,v=/-?[^,\s-]+/g,y="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",b=21600,x={path:1,rect:1,image:1},w={circle:1,ellipse:1},_=function(e){var i=/[ahqstv]/gi,r=t._pathToAbsolute;if(n(e).match(i)&&(r=t._path2curve),i=/[clmz]/g,r==t._pathToAbsolute&&!n(e).match(i)){var s=n(e).replace(m,(function(t,e,n){var i=[],r="m"==e.toLowerCase(),s=p[e];return n.replace(v,(function(t){r&&2==i.length&&(s+=i+p["m"==e?"l":"L"],i=[]),i.push(o(t*b))})),s+i}));return s}var a,l,u=r(e);s=[];for(var c=0,f=u.length;c<f;c++){a=u[c],"z"==(l=u[c][0].toLowerCase())&&(l="x");for(var g=1,y=a.length;g<y;g++)l+=o(a[g]*b)+(g!=y-1?",":h);s.push(l)}return s.join(d)},C=function(e,n,i){var r=t.matrix();return r.rotate(-e,.5,.5),{dx:r.x(n,i),dy:r.y(n,i)}},k=function(t,e,n,i,r,o){var s=t._,a=t.matrix,c=s.fillpos,f=t.node,h=f.style,p=1,m="",g=b/e,v=b/n;if(h.visibility="hidden",e&&n){if(f.coordsize=l(g)+d+l(v),h.rotation=o*(e*n<0?-1:1),o){var y=C(o,i,r);i=y.dx,r=y.dy}if(e<0&&(m+="x"),n<0&&(m+=" y")&&(p=-1),h.flip=m,f.coordorigin=i*-g+d+r*-v,c||s.fillsize){var x=f.getElementsByTagName(u);x=x&&x[0],f.removeChild(x),c&&(y=C(o,a.x(c[0],c[1]),a.y(c[0],c[1])),x.position=y.dx*p+d+y.dy*p),s.fillsize&&(x.size=s.fillsize[0]*l(e)+d+s.fillsize[1]*l(n)),f.appendChild(x)}h.visibility="visible"}};t.toString=function(){return"Your browser doesnât support SVG. Falling down to VML.\nYou are running RaphaÃ«l "+this.version};var S,T=function(t,e,i){for(var r=n(e).toLowerCase().split("-"),o=i?"end":"start",s=r.length,a="classic",l="medium",u="medium";s--;)switch(r[s]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=r[s];break;case"wide":case"narrow":u=r[s];break;case"long":case"short":l=r[s]}var c=t.node.getElementsByTagName("stroke")[0];c[o+"arrow"]=a,c[o+"arrowlength"]=l,c[o+"arrowwidth"]=u},E=function(r,l){r.attrs=r.attrs||{};var f=r.node,p=r.attrs,m=f.style,g=x[r.type]&&(l.x!=p.x||l.y!=p.y||l.width!=p.width||l.height!=p.height||l.cx!=p.cx||l.cy!=p.cy||l.rx!=p.rx||l.ry!=p.ry||l.r!=p.r),v=w[r.type]&&(p.cx!=l.cx||p.cy!=l.cy||p.r!=l.r||p.rx!=l.rx||p.ry!=l.ry),y=r;for(var C in l)l[e](C)&&(p[C]=l[C]);if(g&&(p.path=t._getPath[r.type](r),r._.dirty=1),l.href&&(f.href=l.href),l.title&&(f.title=l.title),l.target&&(f.target=l.target),l.cursor&&(m.cursor=l.cursor),"blur"in l&&r.blur(l.blur),(l.path&&"path"==r.type||g)&&(f.path=_(~n(p.path).toLowerCase().indexOf("r")?t._pathToAbsolute(p.path):p.path),r._.dirty=1,"image"==r.type&&(r._.fillpos=[p.x,p.y],r._.fillsize=[p.width,p.height],k(r,1,1,0,0,0))),"transform"in l&&r.transform(l.transform),v){var E=+p.cx,N=+p.cy,A=+p.rx||+p.r||0,P=+p.ry||+p.r||0;f.path=t.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",o((E-A)*b),o((N-P)*b),o((E+A)*b),o((N+P)*b),o(E*b)),r._.dirty=1}if("clip-rect"in l){var O=n(l["clip-rect"]).split(c);if(4==O.length){O[2]=+O[2]+ +O[0],O[3]=+O[3]+ +O[1];var I=f.clipRect||t._g.doc.createElement("div"),M=I.style;M.clip=t.format("rect({1}px {2}px {3}px {0}px)",O),f.clipRect||(M.position="absolute",M.top=0,M.left=0,M.width=r.paper.width+"px",M.height=r.paper.height+"px",f.parentNode.insertBefore(I,f),I.appendChild(f),f.clipRect=I)}l["clip-rect"]||f.clipRect&&(f.clipRect.style.clip="auto")}if(r.textpath){var B=r.textpath.style;l.font&&(B.font=l.font),l["font-family"]&&(B.fontFamily='"'+l["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,h)+'"'),l["font-size"]&&(B.fontSize=l["font-size"]),l["font-weight"]&&(B.fontWeight=l["font-weight"]),l["font-style"]&&(B.fontStyle=l["font-style"])}if("arrow-start"in l&&T(y,l["arrow-start"]),"arrow-end"in l&&T(y,l["arrow-end"],1),null!=l.opacity||null!=l.fill||null!=l.src||null!=l.stroke||null!=l["stroke-width"]||null!=l["stroke-opacity"]||null!=l["fill-opacity"]||null!=l["stroke-dasharray"]||null!=l["stroke-miterlimit"]||null!=l["stroke-linejoin"]||null!=l["stroke-linecap"]){var R=f.getElementsByTagName(u);if(!(R=R&&R[0])&&(R=S(u)),"image"==r.type&&l.src&&(R.src=l.src),l.fill&&(R.on=!0),null!=R.on&&"none"!=l.fill&&null!==l.fill||(R.on=!1),R.on&&l.fill){var L=n(l.fill).match(t._ISURL);if(L){R.parentNode==f&&f.removeChild(R),R.rotate=!0,R.src=L[1],R.type="tile";var F=r.getBBox(1);R.position=F.x+d+F.y,r._.fillpos=[F.x,F.y],t._preload(L[1],(function(){r._.fillsize=[this.offsetWidth,this.offsetHeight]}))}else R.color=t.getRGB(l.fill).hex,R.src=h,R.type="solid",t.getRGB(l.fill).error&&(y.type in{circle:1,ellipse:1}||"r"!=n(l.fill).charAt())&&D(y,l.fill,R)&&(p.fill="none",p.gradient=l.fill,R.rotate=!1)}if("fill-opacity"in l||"opacity"in l){var H=((+p["fill-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+t.getRGB(l.fill).o+1||2)-1);H=a(s(H,0),1),R.opacity=H,R.src&&(R.color="none")}f.appendChild(R);var z=f.getElementsByTagName("stroke")&&f.getElementsByTagName("stroke")[0],j=!1;!z&&(j=z=S("stroke")),(l.stroke&&"none"!=l.stroke||l["stroke-width"]||null!=l["stroke-opacity"]||l["stroke-dasharray"]||l["stroke-miterlimit"]||l["stroke-linejoin"]||l["stroke-linecap"])&&(z.on=!0),("none"==l.stroke||null===l.stroke||null==z.on||0==l.stroke||0==l["stroke-width"])&&(z.on=!1);var W=t.getRGB(l.stroke);z.on&&l.stroke&&(z.color=W.hex),H=((+p["stroke-opacity"]+1||2)-1)*((+p.opacity+1||2)-1)*((+W.o+1||2)-1);var $=.75*(i(l["stroke-width"])||1);if(H=a(s(H,0),1),null==l["stroke-width"]&&($=p["stroke-width"]),l["stroke-width"]&&(z.weight=$),$&&$<1&&(H*=$)&&(z.weight=1),z.opacity=H,l["stroke-linejoin"]&&(z.joinstyle=l["stroke-linejoin"]||"miter"),z.miterlimit=l["stroke-miterlimit"]||8,l["stroke-linecap"]&&(z.endcap="butt"==l["stroke-linecap"]?"flat":"square"==l["stroke-linecap"]?"square":"round"),"stroke-dasharray"in l){var q={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"};z.dashstyle=q[e](l["stroke-dasharray"])?q[l["stroke-dasharray"]]:h}j&&f.appendChild(z)}if("text"==y.type){y.paper.canvas.style.display=h;var U=y.paper.span,V=p.font&&p.font.match(/\d+(?:\.\d*)?(?=px)/);m=U.style,p.font&&(m.font=p.font),p["font-family"]&&(m.fontFamily=p["font-family"]),p["font-weight"]&&(m.fontWeight=p["font-weight"]),p["font-style"]&&(m.fontStyle=p["font-style"]),V=i(p["font-size"]||V&&V[0])||10,m.fontSize=100*V+"px",y.textpath.string&&(U.innerHTML=n(y.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));var Y=U.getBoundingClientRect();y.W=p.w=(Y.right-Y.left)/100,y.H=p.h=(Y.bottom-Y.top)/100,y.X=p.x,y.Y=p.y+y.H/2,("x"in l||"y"in l)&&(y.path.v=t.format("m{0},{1}l{2},{1}",o(p.x*b),o(p.y*b),o(p.x*b)+1));for(var X=["x","y","text","font","font-family","font-weight","font-style","font-size"],G=0,K=X.length;G<K;G++)if(X[G]in l){y._.dirty=1;break}switch(p["text-anchor"]){case"start":y.textpath.style["v-text-align"]="left",y.bbx=y.W/2;break;case"end":y.textpath.style["v-text-align"]="right",y.bbx=-y.W/2;break;default:y.textpath.style["v-text-align"]="center",y.bbx=0}y.textpath.style["v-text-kern"]=!0}},D=function(e,o,s){e.attrs=e.attrs||{},e.attrs;var a=Math.pow,l="linear",u=".5 .5";if(e.attrs.gradient=o,o=(o=n(o).replace(t._radial_gradient,(function(t,e,n){return l="radial",e&&n&&(e=i(e),n=i(n),a(e-.5,2)+a(n-.5,2)>.25&&(n=r.sqrt(.25-a(e-.5,2))*(2*(n>.5)-1)+.5),u=e+d+n),h}))).split(/\s*\-\s*/),"linear"==l){var c=o.shift();if(c=-i(c),isNaN(c))return null}var f=t._parseDots(o);if(!f)return null;if(e=e.shape||e.node,f.length){e.removeChild(s),s.on=!0,s.method="none",s.color=f[0].color,s.color2=f[f.length-1].color;for(var p=[],m=0,g=f.length;m<g;m++)f[m].offset&&p.push(f[m].offset+d+f[m].color);s.colors=p.length?p.join():"0% "+s.color,"radial"==l?(s.type="gradientTitle",s.focus="100%",s.focussize="0 0",s.focusposition=u,s.angle=0):(s.type="gradient",s.angle=(270-c)%360),e.appendChild(s)}return 1},N=function(e,n){this[0]=this.node=e,e.raphael=!0,this.id=t._oid++,e.raphaelid=this.id,this.X=0,this.Y=0,this.attrs={},this.paper=n,this.matrix=t.matrix(),this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1},!n.bottom&&(n.bottom=this),this.prev=n.top,n.top&&(n.top.next=this),n.top=this,this.next=null},A=t.el;N.prototype=A,A.constructor=N,A.transform=function(e){if(null==e)return this._.transform;var i,r=this.paper._viewBoxShift,o=r?"s"+[r.scale,r.scale]+"-1-1t"+[r.dx,r.dy]:h;r&&(i=e=n(e).replace(/\.{3}|\u2026/g,this._.transform||h)),t._extractTransform(this,o+e);var s,a=this.matrix.clone(),l=this.skew,u=this.node,c=~n(this.attrs.fill).indexOf("-"),f=!n(this.attrs.fill).indexOf("url(");if(a.translate(1,1),f||c||"image"==this.type)if(l.matrix="1 0 0 1",l.offset="0 0",s=a.split(),c&&s.noRotation||!s.isSimple){u.style.filter=a.toFilter();var p=this.getBBox(),m=this.getBBox(1),g=p.x-m.x,v=p.y-m.y;u.coordorigin=g*-b+d+v*-b,k(this,1,1,g,v,0)}else u.style.filter=h,k(this,s.scalex,s.scaley,s.dx,s.dy,s.rotate);else u.style.filter=h,l.matrix=n(a),l.offset=a.offset();return null!==i&&(this._.transform=i,t._extractTransform(this,i)),this},A.rotate=function(t,e,r){if(this.removed)return this;if(null!=t){if((t=n(t).split(c)).length-1&&(e=i(t[1]),r=i(t[2])),t=i(t[0]),null==r&&(e=r),null==e||null==r){var o=this.getBBox(1);e=o.x+o.width/2,r=o.y+o.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",t,e,r]])),this}},A.translate=function(t,e){return this.removed?this:((t=n(t).split(c)).length-1&&(e=i(t[1])),t=i(t[0])||0,e=+e||0,this._.bbox&&(this._.bbox.x+=t,this._.bbox.y+=e),this.transform(this._.transform.concat([["t",t,e]])),this)},A.scale=function(t,e,r,o){if(this.removed)return this;if((t=n(t).split(c)).length-1&&(e=i(t[1]),r=i(t[2]),o=i(t[3]),isNaN(r)&&(r=null),isNaN(o)&&(o=null)),t=i(t[0]),null==e&&(e=t),null==o&&(r=o),null==r||null==o)var s=this.getBBox(1);return r=null==r?s.x+s.width/2:r,o=null==o?s.y+s.height/2:o,this.transform(this._.transform.concat([["s",t,e,r,o]])),this._.dirtyT=1,this},A.hide=function(){return!this.removed&&(this.node.style.display="none"),this},A.show=function(){return!this.removed&&(this.node.style.display=h),this},A.auxGetBBox=t.el.getBBox,A.getBBox=function(){var t=this.auxGetBBox();if(this.paper&&this.paper._viewBoxShift){var e={},n=1/this.paper._viewBoxShift.scale;return e.x=t.x-this.paper._viewBoxShift.dx,e.x*=n,e.y=t.y-this.paper._viewBoxShift.dy,e.y*=n,e.width=t.width*n,e.height=t.height*n,e.x2=e.x+e.width,e.y2=e.y+e.height,e}return t},A._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}},A.remove=function(){if(!this.removed&&this.node.parentNode){for(var e in this.paper.__set__&&this.paper.__set__.exclude(this),t.eve.unbind("raphael.*.*."+this.id),t._tear(this,this.paper),this.node.parentNode.removeChild(this.node),this.shape&&this.shape.parentNode.removeChild(this.shape),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;this.removed=!0}},A.attr=function(n,i){if(this.removed)return this;if(null==n){var r={};for(var o in this.attrs)this.attrs[e](o)&&(r[o]=this.attrs[o]);return r.gradient&&"none"==r.fill&&(r.fill=r.gradient)&&delete r.gradient,r.transform=this._.transform,r}if(null==i&&t.is(n,"string")){if(n==u&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;for(var s=n.split(c),a={},l=0,d=s.length;l<d;l++)(n=s[l])in this.attrs?a[n]=this.attrs[n]:t.is(this.paper.customAttributes[n],"function")?a[n]=this.paper.customAttributes[n].def:a[n]=t._availableAttrs[n];return d-1?a:a[s[0]]}if(this.attrs&&null==i&&t.is(n,"array")){for(a={},l=0,d=n.length;l<d;l++)a[n[l]]=this.attr(n[l]);return a}var h;for(var p in null!=i&&((h={})[n]=i),null==i&&t.is(n,"object")&&(h=n),h)f("raphael.attr."+p+"."+this.id,this,h[p]);if(h){for(p in this.paper.customAttributes)if(this.paper.customAttributes[e](p)&&h[e](p)&&t.is(this.paper.customAttributes[p],"function")){var m=this.paper.customAttributes[p].apply(this,[].concat(h[p]));for(var g in this.attrs[p]=h[p],m)m[e](g)&&(h[g]=m[g])}h.text&&"text"==this.type&&(this.textpath.string=h.text),E(this,h)}return this},A.toFront=function(){return!this.removed&&this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&t._tofront(this,this.paper),this},A.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),t._toback(this,this.paper)),this)},A.insertAfter=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[e.length-1]),e.node.nextSibling?e.node.parentNode.insertBefore(this.node,e.node.nextSibling):e.node.parentNode.appendChild(this.node),t._insertafter(this,e,this.paper),this)},A.insertBefore=function(e){return this.removed?this:(e.constructor==t.st.constructor&&(e=e[0]),e.node.parentNode.insertBefore(this.node,e.node),t._insertbefore(this,e,this.paper),this)},A.blur=function(e){var n=this.node.runtimeStyle,i=n.filter;return i=i.replace(g,h),0!=+e?(this.attrs.blur=e,n.filter=i+d+" progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+e||1.5)+")",n.margin=t.format("-{0}px 0 0 -{0}px",o(+e||1.5))):(n.filter=i,n.margin=0,delete this.attrs.blur),this},t._engine.path=function(t,e){var n=S("shape");n.style.cssText=y,n.coordsize=b+d+b,n.coordorigin=e.coordorigin;var i=new N(n,e),r={fill:"none",stroke:"#000"};t&&(r.path=t),i.type="path",i.path=[],i.Path=h,E(i,r),e.canvas&&e.canvas.appendChild(n);var o=S("skew");return o.on=!0,n.appendChild(o),i.skew=o,i.transform(h),i},t._engine.rect=function(e,n,i,r,o,s){var a=t._rectPath(n,i,r,o,s),l=e.path(a),u=l.attrs;return l.X=u.x=n,l.Y=u.y=i,l.W=u.width=r,l.H=u.height=o,u.r=s,u.path=a,l.type="rect",l},t._engine.ellipse=function(t,e,n,i,r){var o=t.path();return o.attrs,o.X=e-i,o.Y=n-r,o.W=2*i,o.H=2*r,o.type="ellipse",E(o,{cx:e,cy:n,rx:i,ry:r}),o},t._engine.circle=function(t,e,n,i){var r=t.path();return r.attrs,r.X=e-i,r.Y=n-i,r.W=r.H=2*i,r.type="circle",E(r,{cx:e,cy:n,r:i}),r},t._engine.image=function(e,n,i,r,o,s){var a=t._rectPath(i,r,o,s),l=e.path(a).attr({stroke:"none"}),c=l.attrs,f=l.node,d=f.getElementsByTagName(u)[0];return c.src=n,l.X=c.x=i,l.Y=c.y=r,l.W=c.width=o,l.H=c.height=s,c.path=a,l.type="image",d.parentNode==f&&f.removeChild(d),d.rotate=!0,d.src=n,d.type="tile",l._.fillpos=[i,r],l._.fillsize=[o,s],f.appendChild(d),k(l,1,1,0,0,0),l},t._engine.text=function(e,i,r,s){var a=S("shape"),l=S("path"),u=S("textpath");i=i||0,r=r||0,s=s||"",l.v=t.format("m{0},{1}l{2},{1}",o(i*b),o(r*b),o(i*b)+1),l.textpathok=!0,u.string=n(s),u.on=!0,a.style.cssText=y,a.coordsize=b+d+b,a.coordorigin="0 0";var c=new N(a,e),f={fill:"#000",stroke:"none",font:t._availableAttrs.font,text:s};c.shape=a,c.path=l,c.textpath=u,c.type="text",c.attrs.text=n(s),c.attrs.x=i,c.attrs.y=r,c.attrs.w=1,c.attrs.h=1,E(c,f),a.appendChild(u),a.appendChild(l),e.canvas.appendChild(a);var p=S("skew");return p.on=!0,a.appendChild(p),c.skew=p,c.transform(h),c},t._engine.setSize=function(e,n){var i=this.canvas.style;return this.width=e,this.height=n,e==+e&&(e+="px"),n==+n&&(n+="px"),i.width=e,i.height=n,i.clip="rect(0 "+e+" "+n+" 0)",this._viewBox&&t._engine.setViewBox.apply(this,this._viewBox),this},t._engine.setViewBox=function(e,n,i,r,o){t.eve("raphael.setViewBox",this,this._viewBox,[e,n,i,r,o]);var s,a,l=this.getSize(),u=l.width,c=l.height;return o&&(i*(s=c/r)<u&&(e-=(u-i*s)/2/s),r*(a=u/i)<c&&(n-=(c-r*a)/2/a)),this._viewBox=[e,n,i,r,!!o],this._viewBoxShift={dx:-e,dy:-n,scale:l},this.forEach((function(t){t.transform("...")})),this},t._engine.initWin=function(t){var e=t.document;e.styleSheets.length<31?e.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):e.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{!e.namespaces.rvml&&e.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),S=function(t){return e.createElement("<rvml:"+t+' class="rvml">')}}catch(t){S=function(t){return e.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}},t._engine.initWin(t._g.win),t._engine.create=function(){var e=t._getContainer.apply(0,arguments),n=e.container,i=e.height,r=e.width,o=e.x,s=e.y;if(!n)throw new Error("VML container not found.");var a=new t._Paper,l=a.canvas=t._g.doc.createElement("div"),u=l.style;return o=o||0,s=s||0,r=r||512,i=i||342,a.width=r,a.height=i,r==+r&&(r+="px"),i==+i&&(i+="px"),a.coordsize=216e5+d+216e5,a.coordorigin="0 0",a.span=t._g.doc.createElement("span"),a.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",l.appendChild(a.span),u.cssText=t.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",r,i),1==n?(t._g.doc.body.appendChild(l),u.left=o+"px",u.top=s+"px",u.position="absolute"):n.firstChild?n.insertBefore(l,n.firstChild):n.appendChild(l),a.renderfix=function(){},a},t.prototype.clear=function(){t.eve("raphael.clear",this),this.canvas.innerHTML=h,this.span=t._g.doc.createElement("span"),this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;",this.canvas.appendChild(this.span),this.bottom=this.top=null},t.prototype.remove=function(){for(var e in t.eve("raphael.remove",this),this.canvas.parentNode.removeChild(this.canvas),this)this[e]="function"==typeof this[e]?t._removedFactory(e):null;return!0};var P=t.st;for(var O in A)A[e](O)&&!P[e](O)&&(P[O]=function(t){return function(){var e=arguments;return this.forEach((function(n){n[t].apply(n,e)}))}}(O))}}.apply(e,i))||(t.exports=r)}])},t.exports=i()},function(t,e,n){"use strict";n.r(e),function(t){var e,i=n(4),r=n.n(i),o=(n(23),n(24),n(25),n(26),n(3)(t));t.datetimepicker.setLocale(settings.language),r.a.init({mode:"textareas",theme:"modern",toolbar1:"insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | forecolor backcolor | link image mybutton | fontsizeselect | fontselect ",selector:"textarea.tinymce",plugins:"link paste autoresize code table pagebreak lists textcolor colorpicker",language:settings.language,relative_urls:!1}),(e=t)("#chart-last-day").length&&new o.Line({element:"chart-last-day",data:jsonLastDay,xkey:"hour",ykeys:["visitors"],labels:["visitors"],hideHover:"auto",resize:!0}),e("#chart-last-month").length&&new o.Line({element:"chart-last-month",data:jsonLastMonth,xkey:"day",ykeys:["visitors"],labels:["visitors"],hideHover:"auto",resize:!0}),function(t){t('#page-settings-users-list [data-action="user-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:"Are you sure you want to remove selected user?",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/settings/users/json/user-remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/settings/users/list")}))})),!1}))}(t),function(t){t('#page-settings-locales-list [data-action="locale-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:"Are you sure you want to remove selected locale?",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/settings/locales/json/locale-remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/settings/locales/list")}))})),!1}))}(t),function(t){t("#page-settings-locales-edit").on("click",'[data-action="accept-remove"]',(function(){var e=t(this).parent().children("span.accept-name").text();return t(this).parent().remove(),t('.locale-accept-hidden input[value="'+e+'"]').remove(),!1})),t('#page-settings-locales-edit [data-action="accept-add"]').click((function(){var e=t('input[name="accept"]'),n=e.val().trim();return e.removeClass("is-invalid"),n&&!t('.locale-accept-hidden input[value="'+n+'"]').length?(e.val(""),t(".locale-accept-hidden").append('<input type="hidden" name="accept_code[]" value="'+n+'">'),t(".locale-accept").append(' <span class="badge badge-info"><span class="accept-name">'+n+'</span><a href="#" data-action="accept-remove"><i class="fas fa-times"></i></a></span>')):e.addClass("is-invalid"),!1}))}(t),function(t){t("#page-settings-translations .select-file").change((function(){var e=btoa(t(this).val());t.getJSON(settings.base_url+"/administrator/settings/json/translation-edit/"+e,(function(e){"ok"===e.status&&t("#translation-editor").html(e.html)}))})),t("#page-settings-translations .select-file").trigger("change"),t("#page-settings-translations").on("keyup","input.translation-value",(function(){var e=t(this).val().replace(/'/g,"\\'"),n=t(this).attr("data-key"),i=t("#translate-file").val(),r=new RegExp("'"+n+"'[ ]=>[ ]'.*'","gi");if(i.search(r)>0)i=i.replace(r,"'"+n+"' => '"+e+"'");else alert("Sorry, we couldn't find selected index. Please refresh this page.");t("#translate-file").val(i)}))}(t),function(t){t('#page-profile [name="avatar"]').fileupload({dataType:"json",done:function(e,n){"ok"===n.result.status&&(t("#page-profile .form-group .user-avatar img").attr("src",settings.base_url+"/upload/users/"+n.result.filename),t("#page-profile .form-group .user-avatar").removeClass("d-none"),t('#page-profile [data-action="avatar-remove"]').removeClass("d-none"))}}),t('#page-profile [data-action="avatar-remove"]').click((function(){return swal({title:"",text:"Are you sure you want to remove image?",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/profile/json/remove-avatar",(function(e){"ok"===e.status&&(t("#page-profile .form-group .user-avatar").addClass("d-none"),t('#page-profile [data-action="avatar-remove"]').addClass("d-none"))}))})),!1}))}(t),function(t){t("[data-fullscreen]").click((function(){return t("body").hasClass("fullscreen")?(t("body").removeClass("fullscreen"),t.getJSON(settings.base_url+"/administrator/json/fullscreen")):(t("body").addClass("fullscreen"),t.getJSON(settings.base_url+"/administrator/json/fullscreen",{fullscreen:!0})),t(this).tooltip("hide"),!1})),t('.languages-available input[type="checkbox"]').change((function(){var e=[];if(t('.languages-available input[type="checkbox"]:checked').each((function(){e.push(t(this).val())})),e.length>0){for(var n in t(".languages-selector .nav-tabs").removeClass("d-none"),t(".languages-selector .tab-content").removeClass("d-none"),t(".languages-selector .nav-tabs li").addClass("d-none"),t(".languages-selector .tab-content .tab-pane").addClass("d-none"),e)t('.languages-selector .nav-tabs li[data-locale="'+e[n]+'"]').removeClass("d-none"),t('.languages-selector .tab-content .tab-pane[data-locale="'+e[n]+'"]').removeClass("d-none");t(".languages-selector .nav-tabs").each((function(){t(this).find("li:not(.d-none):first a").trigger("click")}))}else t(".languages-selector .nav-tabs").addClass("d-none"),t(".languages-selector .tab-content").addClass("d-none")})),t('.languages-available input[type="checkbox"]:checked').each((function(){t(this).trigger("change")})),t(".nav-tabs").not(".not-active").each((function(){t(this).children("li:not(.d-none):first").children("a:not(.active)").trigger("click")})),t('[data-toggle="tooltip"]').tooltip()}(t)}.call(this,n(0))},function(t,e,n){(function(t){var i=void 0!==t&&t||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(t,e){this._id=t,this._clearFn=e}e.setTimeout=function(){return new o(r.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new o(r.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(21),e.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==t&&t.clearImmediate||this&&this.clearImmediate}).call(this,n(1))},function(t,e,n){(function(t,e){!function(t,n){"use strict";if(!t.setImmediate){var i,r,o,s,a,l=1,u={},c=!1,f=t.document,d=Object.getPrototypeOf&&Object.getPrototypeOf(t);d=d&&d.setTimeout?d:t,"[object process]"==={}.toString.call(t.process)?i=function(t){e.nextTick((function(){p(t)}))}:!function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?t.MessageChannel?((o=new MessageChannel).port1.onmessage=function(t){p(t.data)},i=function(t){o.port2.postMessage(t)}):f&&"onreadystatechange"in f.createElement("script")?(r=f.documentElement,i=function(t){var e=f.createElement("script");e.onreadystatechange=function(){p(t),e.onreadystatechange=null,r.removeChild(e),e=null},r.appendChild(e)}):i=function(t){setTimeout(p,0,t)}:(s="setImmediate$"+Math.random()+"$",a=function(e){e.source===t&&"string"==typeof e.data&&0===e.data.indexOf(s)&&p(+e.data.slice(s.length))},t.addEventListener?t.addEventListener("message",a,!1):t.attachEvent("onmessage",a),i=function(e){t.postMessage(s+e,"*")}),d.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return u[l]=r,i(l),l++},d.clearImmediate=h}function h(t){delete u[t]}function p(t){if(c)setTimeout(p,0,t);else{var e=u[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{h(t),c=!1}}}}}("undefined"==typeof self?void 0===t?this:t:self)}).call(this,n(1),n(22))},function(t,e){var n,i,r=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(t){if(n===setTimeout)return setTimeout(t,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(t){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(t){i=s}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&h())}function h(){if(!c){var t=a(d);c=!0;for(var e=u.length;e;){for(l=u,u=[];++f<e;)l&&l[f].run();f=-1,e=u.length}l=null,c=!1,function(t){if(i===clearTimeout)return clearTimeout(t);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(t);try{i(t)}catch(e){try{return i.call(null,t)}catch(e){return i.call(this,t)}}}(t)}}function p(t,e){this.fun=t,this.array=e}function m(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new p(t,e)),1!==u.length||c||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(t,e){(function(){!function(){"use strict";var t,e=tinymce.util.Tools.resolve("tinymce.ThemeManager"),n=tinymce.util.Tools.resolve("tinymce.EditorManager"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),r=function(t){return!1!==o(t)},o=function(t){return t.getParam("menubar")},s=function(t){return t.getParam("toolbar_items_size")},a=function(t){return t.getParam("menu")},l=function(t){return!1===t.settings.skin},u=function(t){var e=t.getParam("resize","vertical");return!1===e?"none":"both"===e?"both":"vertical"},c=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),f=tinymce.util.Tools.resolve("tinymce.ui.Factory"),d=tinymce.util.Tools.resolve("tinymce.util.I18n"),h=function(t){return t.fire("SkinLoaded")},p=function(t){return t.fire("ResizeEditor")},m=function(t){return t.fire("BeforeRenderUI")},g=function(t,e){return function(){var n=t.find(e)[0];n&&n.focus(!0)}},v=function(t,e){t.shortcuts.add("Alt+F9","",g(e,"menubar")),t.shortcuts.add("Alt+F10,F10","",g(e,"toolbar")),t.shortcuts.add("Alt+F11","",g(e,"elementpath")),e.on("cancel",(function(){t.focus()}))},y=tinymce.util.Tools.resolve("tinymce.geom.Rect"),b=tinymce.util.Tools.resolve("tinymce.util.Delay"),x=function(t){return function(){return t}},w=x(!1),_=x(!0),C={noop:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e]},noarg:function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t()}},compose:function(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return t(e.apply(null,arguments))}},constant:x,identity:function(t){return t},tripleEquals:function(t,e){return t===e},curry:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=new Array(arguments.length-1),r=1;r<arguments.length;r++)i[r-1]=arguments[r];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var s=i.concat(r);return t.apply(null,s)}},not:function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,arguments)}},die:function(t){return function(){throw new Error(t)}},apply:function(t){return t()},call:function(t){t()},never:w,always:_},k=C.never,S=C.always,T=function(){return E},E=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},i={fold:function(t,e){return t()},is:k,isSome:k,isNone:S,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},or:n,orThunk:e,map:T,ap:T,each:function(){},bind:T,flatten:T,exists:k,forall:S,filter:T,equals:t,equals_:t,toArray:function(){return[]},toString:C.constant("none()")};return Object.freeze&&Object.freeze(i),i}(),D=function(t){var e=function(){return t},n=function(){return r},i=function(e){return e(t)},r={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:S,isNone:k,getOr:e,getOrThunk:e,getOrDie:e,or:n,orThunk:n,map:function(e){return D(e(t))},ap:function(e){return e.fold(T,(function(e){return D(e(t))}))},each:function(e){e(t)},bind:i,flatten:e,exists:i,forall:i,filter:function(e){return e(t)?r:E},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(k,(function(e){return n(t,e)}))},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return r},N={some:D,none:T,from:function(t){return null==t?E:D(t)}},A=function(t){return t?t.getRoot().uiContainer:null},P={getUiContainerDelta:function(t){var e=A(t);if(e&&"static"!==c.DOM.getStyle(e,"position",!0)){var n=c.DOM.getPos(e),i=e.scrollLeft-n.x,r=e.scrollTop-n.y;return N.some({x:i,y:r})}return N.none()},setUiContainer:function(t,e){var n=c.DOM.select(t.settings.ui_container)[0];e.getRoot().uiContainer=n},getUiContainer:A,inheritUiContainer:function(t,e){return e.uiContainer=A(t)}},O=function(t,e,n){var r,o=[];if(e)return i.each(e.split(/[ ,]/),(function(e){var i,s=function(){var n=t.selection;e.settings.stateSelector&&n.selectorChanged(e.settings.stateSelector,(function(t){e.active(t)}),!0),e.settings.disabledStateSelector&&n.selectorChanged(e.settings.disabledStateSelector,(function(t){e.disabled(t)}))};"|"===e?r=null:(r||(r={type:"buttongroup",items:[]},o.push(r)),t.buttons[e]&&(i=e,"function"==typeof(e=t.buttons[i])&&(e=e()),e.type=e.type||"button",e.size=n,e=f.create(e),r.items.push(e),t.initialized?s():t.on("init",s)))})),{type:"toolbar",layout:"flow",items:o}},I=O,M=function(t,e){var n=[];if(i.each(function(t){var e=t.getParam("toolbar");return!1===e?[]:i.isArray(e)?i.grep(e,(function(t){return t.length>0})):function(t,e){for(var n=[],i=1;i<10;i++){var r=t["toolbar"+i];if(!r)break;n.push(r)}var o=t.toolbar?[t.toolbar]:[e];return n.length>0?n:o}(t.settings,"undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image")}(t),(function(i){var r;(r=i)&&n.push(O(t,r,e))})),n.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:n}},B=c.DOM,R=function(t){return{left:t.x,top:t.y,width:t.w,height:t.h,right:t.x+t.w,bottom:t.y+t.h}},L=function(t,e){t.moveTo(e.left,e.top)},F=function(t,e,n,i,r,o){return o=R({x:e,y:n,w:o.w,h:o.h}),t&&(o=t({elementRect:R(i),contentAreaRect:R(r),panelRect:o})),o},H=function(t){var e,n=function(){return t.contextToolbars||[]},r=function(e,n){var r,o,s,a,l,u,c,f=function(t){return t.getParam("inline_toolbar_position_handler")}(t);if(!t.removed)if(e&&e.toolbar.panel){var d,h,p,m;c=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],l=e.toolbar.panel,n&&l.show(),d=e.element,h=B.getPos(t.getContentAreaContainer()),p=t.dom.getRect(d),"BODY"===(m=t.dom.getRoot()).nodeName&&(p.x-=m.ownerDocument.documentElement.scrollLeft||m.scrollLeft,p.y-=m.ownerDocument.documentElement.scrollTop||m.scrollTop),p.x+=h.x,p.y+=h.y,s=p,o=B.getRect(l.getEl()),a=B.getRect(t.getContentAreaContainer()||t.getBody());var g=P.getUiContainerDelta(l).getOr({x:0,y:0});if(s.x+=g.x,s.y+=g.y,o.x+=g.x,o.y+=g.y,a.x+=g.x,a.y+=g.y,"inline"!==B.getStyle(e.element,"display",!0)){var v=e.element.getBoundingClientRect();s.w=v.width,s.h=v.height}t.inline||(a.w=t.getDoc().documentElement.offsetWidth),t.selection.controlSelection.isResizable(e.element)&&s.w<25&&(s=y.inflate(s,0,8)),r=y.findBestRelativePosition(o,s,a,c),s=y.clamp(s,a),r?(u=y.relativePosition(o,s,r),L(l,F(f,u.x,u.y,s,a,o))):(a.h+=o.h,(s=y.intersect(a,s))?(r=y.findBestRelativePosition(o,s,a,["bc-tc","bl-tl","br-tr"]))?(u=y.relativePosition(o,s,r),L(l,F(f,u.x,u.y,s,a,o))):L(l,F(f,s.x,s.y,s,a,o)):l.hide()),function(t,e,n){e=e?e.substr(0,2):"",i.each({t:"down",b:"up"},(function(i,r){t.classes.toggle("arrow-"+i,n(r,e.substr(0,1)))})),i.each({l:"left",r:"right"},(function(i,r){t.classes.toggle("arrow-"+i,n(r,e.substr(1,1)))}))}(l,r,(function(t,e){return t===e}))}else!function(t){i.each(t.contextToolbars,(function(t){t.panel&&t.panel.hide()}))}(t)},o=function(e){return function(){b.requestAnimationFrame((function(){t.selection&&r(l(t.selection.getNode()),e)}))}},s=function(n){var i;if(n.toolbar.panel)return n.toolbar.panel.show(),void r(n);i=f.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:I(t,n.toolbar.items),oncancel:function(){t.focus()}}),P.setUiContainer(t,i),function(n){if(!e){var i=o(!0),r=P.getUiContainer(n);e=t.selection.getScrollContainer()||t.getWin(),B.bind(e,"scroll",i),B.bind(r,"scroll",i),t.on("remove",(function(){B.unbind(e,"scroll",i),B.unbind(r,"scroll",i)}))}}(i),n.toolbar.panel=i,i.renderTo().reflow(),r(n)},a=function(){i.each(n(),(function(t){t.panel&&t.panel.hide()}))},l=function(e){var i,r,o,s=n();for(i=(o=t.$(e).parents().add(e)).length-1;i>=0;i--)for(r=s.length-1;r>=0;r--)if(s[r].predicate(o[i]))return{toolbar:s[r],element:o[i]};return null};t.on("click keyup setContent ObjectResized",(function(e){("setcontent"!==e.type||e.selection)&&b.setEditorTimeout(t,(function(){var e;(e=l(t.selection.getNode()))?(a(),s(e)):a()}))})),t.on("blur hide contextmenu",a),t.on("ObjectResizeStart",(function(){var e=l(t.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.hide()})),t.on("ResizeEditor ResizeWindow",o(!0)),t.on("nodeChange",o(!1)),t.on("remove",(function(){i.each(n(),(function(t){t.panel&&t.panel.remove()})),t.contextToolbars={}})),t.shortcuts.add("ctrl+shift+e > ctrl+shift+p","",(function(){var e=l(t.selection.getNode());e&&e.toolbar.panel&&e.toolbar.panel.items()[0].focus()}))},z=function(t){return function(e){return function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e}(e)===t}},j={isString:z("string"),isObject:z("object"),isArray:z("array"),isNull:z("null"),isBoolean:z("boolean"),isUndefined:z("undefined"),isFunction:z("function"),isNumber:z("number")},W=void 0===(t=Array.prototype.indexOf)?function(t,e){return G(t,e)}:function(e,n){return t.call(e,n)},$=function(t,e){return W(t,e)>-1},q=function(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;r++){var o=t[r];i[r]=e(o,r,t)}return i},U=function(t,e){for(var n=0,i=t.length;n<i;n++)e(t[n],n,t)},V=function(t,e){for(var n=t.length-1;n>=0;n--)e(t[n],n,t)},Y=function(t,e){for(var n=[],i=0,r=t.length;i<r;i++){var o=t[i];e(o,i,t)&&n.push(o)}return n},X=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e(t[n],n,t))return N.some(n);return N.none()},G=function(t,e){for(var n=0,i=t.length;n<i;++n)if(t[n]===e)return n;return-1},K=Array.prototype.push,J=function(t){for(var e=[],n=0,i=t.length;n<i;++n){if(!Array.prototype.isPrototypeOf(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);K.apply(e,t[n])}return e},Q=function(t,e){for(var n=0,i=t.length;n<i;++n)if(!0!==e(t[n],n,t))return!1;return!0},Z=Array.prototype.slice,tt=j.isFunction(Array.from)?Array.from:function(t){return Z.call(t)},et={map:q,each:U,eachr:V,partition:function(t,e){for(var n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r];(e(s,r,t)?n:i).push(s)}return{pass:n,fail:i}},filter:Y,groupBy:function(t,e){if(0===t.length)return[];for(var n=e(t[0]),i=[],r=[],o=0,s=t.length;o<s;o++){var a=t[o],l=e(a);l!==n&&(i.push(r),r=[]),n=l,r.push(a)}return 0!==r.length&&i.push(r),i},indexOf:function(t,e){var n=W(t,e);return-1===n?N.none():N.some(n)},foldr:function(t,e,n){return V(t,(function(t){n=e(n,t)})),n},foldl:function(t,e,n){return U(t,(function(t){n=e(n,t)})),n},find:function(t,e){for(var n=0,i=t.length;n<i;n++){var r=t[n];if(e(r,n,t))return N.some(r)}return N.none()},findIndex:X,flatten:J,bind:function(t,e){var n=q(t,e);return J(n)},forall:Q,exists:function(t,e){return X(t,e).isSome()},contains:$,equal:function(t,e){return t.length===e.length&&Q(t,(function(t,n){return t===e[n]}))},reverse:function(t){var e=Z.call(t,0);return e.reverse(),e},chunk:function(t,e){for(var n=[],i=0;i<t.length;i+=e){var r=t.slice(i,i+e);n.push(r)}return n},difference:function(t,e){return Y(t,(function(t){return!$(e,t)}))},mapToObject:function(t,e){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];n[String(o)]=e(o,i)}return n},pure:function(t){return[t]},sort:function(t,e){var n=Z.call(t,0);return n.sort(e),n},range:function(t,e){for(var n=[],i=0;i<t;i++)n.push(e(i));return n},head:function(t){return 0===t.length?N.none():N.some(t[0])},last:function(t){return 0===t.length?N.none():N.some(t[t.length-1])},from:tt},nt={file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}},it=function(t,e){return"|"===t?{name:"|",item:{text:"|"}}:e?{name:t,item:e}:null},rt=function(t){return t&&"|"===t.item.text},ot=function(t,e,n,r){var o,s,a,l;return e?(s=e[r],l=!0):s=nt[r],s&&(o={text:s.title},a=[],i.each((s.items||"").split(/[ ,]/),(function(e){var n=it(e,t[e]);n&&a.push(n)})),l||i.each(t,(function(t,e){t.context!==r||function(t,e){return et.findIndex(t,(function(t){return t.name===e})).isSome()}(a,e)||("before"===t.separator&&a.push({name:"|",item:{text:"|"}}),t.prependToContext?a.unshift(it(e,t)):a.push(it(e,t)),"after"===t.separator&&a.push({name:"|",item:{text:"|"}}))})),o.menu=et.map(function(t,e){var n=et.filter(t,(function(t){return!1===e.hasOwnProperty(t.name)})),i=et.filter(n,(function(t,e,n){return!rt(t)||!rt(n[e-1])}));return et.filter(i,(function(t,e,n){return!rt(t)||e>0&&e<n.length-1}))}(a,n),(function(t){return t.item})),!o.menu.length)?null:o},st=function(t){for(var e=[],n=function(t){var e,n=[],i=a(t);if(i)for(e in i)n.push(e);else for(e in nt)n.push(e);return n}(t),r=i.makeMap(function(t){return t.getParam("removed_menuitems","")}(t).split(/[ ,]/)),s=o(t),l="string"==typeof s?s.split(/[ ,]/):n,u=0;u<l.length;u++){var c=l[u],f=ot(t.menuItems,a(t),r,c);f&&e.push(f)}return e},at=c.DOM,lt=function(t){return{width:t.clientWidth,height:t.clientHeight}},ut=function(t,e,n){var i,r,o,s;i=t.getContainer(),r=t.getContentAreaContainer().firstChild,o=lt(i),s=lt(r),null!==e&&(e=Math.max(function(t){return t.getParam("min_width",100,"number")}(t),e),e=Math.min(function(t){return t.getParam("max_width",65535,"number")}(t),e),at.setStyle(i,"width",e+(o.width-s.width)),at.setStyle(r,"width",e)),n=Math.max(function(t){return t.getParam("min_height",100,"number")}(t),n),n=Math.min(function(t){return t.getParam("max_height",65535,"number")}(t),n),at.setStyle(r,"height",n),p(t)},ct=ut,ft=function(t,e,n){var i=t.getContentAreaContainer();ut(t,i.clientWidth+e,i.clientHeight+n)},dt=tinymce.util.Tools.resolve("tinymce.Env"),ht=function(t,e,n){var i,r=t.settings[n];r&&r((i=e.getEl("body"),{element:function(){return i}}))},pt=function(t,e,n){return function(r){var o=r.control,s=o.parents().filter("panel")[0],a=s.find("#"+e)[0],l=function(t,e){return i.grep(t,(function(t){return t.name===e}))[0]}(n,e);!function(t,e,n){i.each(n,(function(n){var i=e.items().filter("#"+n.name)[0];i&&i.visible()&&n.name!==t&&(ht(n,i,"onhide"),i.visible(!1))}))}(e,s,n),o.parent().items().each((function(t){t.active(!1)})),a&&a.visible()?(ht(l,a,"onhide"),a.hide(),o.active(!1)):(a?(a.show(),ht(l,a,"onshow")):(a=f.create({type:"container",name:e,layout:"stack",classes:"sidebar-panel",html:""}),s.prepend(a),ht(l,a,"onrender"),ht(l,a,"onshow")),o.active(!0)),p(t)}},mt=function(t){return!(dt.ie&&!(dt.ie>=11)||!t.sidebars)&&t.sidebars.length>0},gt=function(t){return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:i.map(t.sidebars,(function(e){var n=e.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:pt(t,e.name,t.sidebars)}}))}]}},vt=function(t){var e=function(){t._skinLoaded=!0,h(t)};return function(){t.initialized?e():t.on("init",e)}},yt=c.DOM,bt=function(t){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:t,html:""}},xt=function(t){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[bt("0"),gt(t)]}},wt=function(t,e,n){var i,o,a;if(!1===l(t)&&n.skinUiCss?yt.styleSheetLoader.load(n.skinUiCss,vt(t)):vt(t)(),i=e.panel=f.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[!1===r(t)?null:{type:"menubar",border:"0 0 1 0",items:st(t)},M(t,s(t))]},mt(t)?xt(t):bt("1 0 0 0")]}),P.setUiContainer(t,i),"none"!==u(t)&&(o={type:"resizehandle",direction:u(t),onResizeStart:function(){var e=t.getContentAreaContainer().firstChild;a={width:e.clientWidth,height:e.clientHeight}},onResize:function(e){"both"===u(t)?ct(t,a.width+e.deltaX,a.height+e.deltaY):ct(t,null,a.height+e.deltaY)}}),function(t){return t.getParam("statusbar",!0,"boolean")}(t)){var c=d.translate(["Powered by {0}",'<a href="https://www.tinymce.com/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">tinymce</a>']),h=function(t){return t.getParam("branding",!0,"boolean")}(t)?{type:"label",classes:"branding",html:" "+c}:null;i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:t},o,h]})}return m(t),t.on("SwitchMode",function(t){return function(e){t.find("*").disabled("readonly"===e.mode)}}(i)),i.renderBefore(n.targetNode).reflow(),function(t){return t.getParam("readonly",!1,"boolean")}(t)&&t.setMode("readonly"),n.width&&yt.setStyle(i.getEl(),"width",n.width),t.on("remove",(function(){i.remove(),i=null})),v(t,i),H(t),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()}},_t=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ct=0,kt={id:function(){return"mceu_"+Ct++},create:function(t,e,n){var r=document.createElement(t);return c.DOM.setAttribs(r,e),"string"==typeof n?r.innerHTML=n:i.each(n,(function(t){t.nodeType&&r.appendChild(t)})),r},createFragment:function(t){return c.DOM.createFragment(t)},getWindowSize:function(){return c.DOM.getViewPort()},getSize:function(t){var e,n;if(t.getBoundingClientRect){var i=t.getBoundingClientRect();e=Math.max(i.width||i.right-i.left,t.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,t.offsetHeight)}else e=t.offsetWidth,n=t.offsetHeight;return{width:e,height:n}},getPos:function(t,e){return c.DOM.getPos(t,e||kt.getContainer())},getContainer:function(){return dt.container?dt.container:document.body},getViewPort:function(t){return c.DOM.getViewPort(t)},get:function(t){return document.getElementById(t)},addClass:function(t,e){return c.DOM.addClass(t,e)},removeClass:function(t,e){return c.DOM.removeClass(t,e)},hasClass:function(t,e){return c.DOM.hasClass(t,e)},toggleClass:function(t,e,n){return c.DOM.toggleClass(t,e,n)},css:function(t,e,n){return c.DOM.setStyle(t,e,n)},getRuntimeStyle:function(t,e){return c.DOM.getStyle(t,e,!0)},on:function(t,e,n,i){return c.DOM.bind(t,e,n,i)},off:function(t,e,n){return c.DOM.unbind(t,e,n)},fire:function(t,e,n){return c.DOM.fire(t,e,n)},innerHtml:function(t,e){c.DOM.setHTML(t,e)}},St=function(t){return"static"===kt.getRuntimeStyle(t,"position")},Tt=function(t){return t.state.get("fixed")};function Et(t,e,n){var i,r,o,s,a,l,u,c,f,d;return f=Dt(),o=(r=kt.getPos(e,P.getUiContainer(t))).x,s=r.y,Tt(t)&&St(document.body)&&(o-=f.x,s-=f.y),i=t.getEl(),a=(d=kt.getSize(i)).width,l=d.height,u=(d=kt.getSize(e)).width,c=d.height,"b"===(n=(n||"").split(""))[0]&&(s+=c),"r"===n[1]&&(o+=u),"c"===n[0]&&(s+=Math.round(c/2)),"c"===n[1]&&(o+=Math.round(u/2)),"b"===n[3]&&(s-=l),"r"===n[4]&&(o-=a),"c"===n[3]&&(s-=Math.round(l/2)),"c"===n[4]&&(o-=Math.round(a/2)),{x:o,y:s,w:a,h:l}}var Dt=function(){var t=window,e=Math.max(t.pageXOffset,document.body.scrollLeft,document.documentElement.scrollLeft),n=Math.max(t.pageYOffset,document.body.scrollTop,document.documentElement.scrollTop);return{x:e,y:n,w:e+(t.innerWidth||document.documentElement.clientWidth),h:n+(t.innerHeight||document.documentElement.clientHeight)}},Nt=function(t){var e=P.getUiContainer(t);return e&&!Tt(t)?function(t){return{x:0,y:0,w:t.scrollWidth-1,h:t.scrollHeight-1}}(e):Dt()},At={testMoveRel:function(t,e){for(var n=Nt(this),i=0;i<e.length;i++){var r=Et(this,t,e[i]);if(Tt(this)){if(r.x>0&&r.x+r.w<n.w&&r.y>0&&r.y+r.h<n.h)return e[i]}else if(r.x>n.x&&r.x+r.w<n.w&&r.y>n.y&&r.y+r.h<n.h)return e[i]}return e[0]},moveRel:function(t,e){"string"!=typeof e&&(e=this.testMoveRel(t,e));var n=Et(this,t,e);return this.moveTo(n.x,n.y)},moveBy:function(t,e){var n=this.layoutRect();return this.moveTo(n.x+t,n.y+e),this},moveTo:function(t,e){function n(t,e,n){return t<0?0:t+n>e&&(t=e-n)<0?0:t}if(this.settings.constrainToViewport){var i=Nt(this),r=this.layoutRect();t=n(t,i.w,r.w),e=n(e,i.h,r.h)}var o=P.getUiContainer(this);return o&&St(o)&&!Tt(this)&&(t-=o.scrollLeft,e-=o.scrollTop),o&&(t+=1,e+=1),this.state.get("rendered")?this.layoutRect({x:t,y:e}).repaint():(this.settings.x=t,this.settings.y=e),this.fire("move",{x:t,y:e}),this}},Pt=tinymce.util.Tools.resolve("tinymce.util.Class"),Ot=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),It=function(t){var e;if(t)return"number"==typeof t?{top:t=t||0,left:t,bottom:t,right:t}:(1===(e=(t=t.split(" ")).length)?t[1]=t[2]=t[3]=t[0]:2===e?(t[2]=t[0],t[3]=t[1]):3===e&&(t[3]=t[1]),{top:parseInt(t[0],10)||0,right:parseInt(t[1],10)||0,bottom:parseInt(t[2],10)||0,left:parseInt(t[3],10)||0})},Mt=function(t,e){function n(e){var n=parseFloat(function(e){var n=t.ownerDocument.defaultView;if(n){var i=n.getComputedStyle(t,null);return i?(e=e.replace(/[A-Z]/g,(function(t){return"-"+t})),i.getPropertyValue(e)):null}return t.currentStyle[e]}(e));return isNaN(n)?0:n}return{top:n(e+"TopWidth"),right:n(e+"RightWidth"),bottom:n(e+"BottomWidth"),left:n(e+"LeftWidth")}};function Bt(){}function Rt(t){this.cls=[],this.cls._map={},this.onchange=t||Bt,this.prefix=""}i.extend(Rt.prototype,{add:function(t){return t&&!this.contains(t)&&(this.cls._map[t]=!0,this.cls.push(t),this._change()),this},remove:function(t){if(this.contains(t)){var e=void 0;for(e=0;e<this.cls.length&&this.cls[e]!==t;e++);this.cls.splice(e,1),delete this.cls._map[t],this._change()}return this},toggle:function(t,e){var n=this.contains(t);return n!==e&&(n?this.remove(t):this.add(t),this._change()),this},contains:function(t){return!!this.cls._map[t]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),Rt.prototype.toString=function(){var t;if(this.clsValue)return this.clsValue;t="";for(var e=0;e<this.cls.length;e++)e>0&&(t+=" "),t+=this.prefix+this.cls[e];return t};var Lt,Ft,Ht,zt=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,jt=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,Wt=/^\s*|\s*$/g,$t=Pt.extend({init:function(t){var e=this.match;function n(t,n,r){var o;function s(t){t&&n.push(t)}return s(function(t){if(t)return t=t.toLowerCase(),function(e){return"*"===t||e.type===t}}((o=zt.exec(t.replace(Wt,"")))[1])),s(function(t){if(t)return function(e){return e._name===t}}(o[2])),s(function(t){if(t)return t=t.split("."),function(e){for(var n=t.length;n--;)if(!e.classes.contains(t[n]))return!1;return!0}}(o[3])),s(function(t,e,n){if(t)return function(i){var r=i[t]?i[t]():"";return e?"="===e?r===n:"*="===e?r.indexOf(n)>=0:"~="===e?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===e?r!==n:"^="===e?0===r.indexOf(n):"$="===e&&r.substr(r.length-n.length)===n:!!n}}(o[4],o[5],o[6])),s(function(t){var n;if(t)return(t=/(?:not\((.+)\))|(.+)/i.exec(t))[1]?(n=i(t[1],[]),function(t){return!e(t,n)}):(t=t[2],function(e,n,i){return"first"===t?0===n:"last"===t?n===i-1:"even"===t?n%2==0:"odd"===t?n%2==1:!!e[t]&&e[t]()})}(o[7])),n.pseudo=!!o[7],n.direct=r,n}function i(t,e){var r,o,s,a=[];do{if(jt.exec(""),(o=jt.exec(t))&&(t=o[3],a.push(o[1]),o[2])){r=o[3];break}}while(o);for(r&&i(r,e),t=[],s=0;s<a.length;s++)">"!==a[s]&&t.push(n(a[s],[],">"===a[s-1]));return e.push(t),e}this._selectors=i(t,[])},match:function(t,e){var n,i,r,o,s,a,l,u,c,f,d,h,p;for(n=0,i=(e=e||this._selectors).length;n<i;n++){for(p=t,h=0,r=(o=(s=e[n]).length)-1;r>=0;r--)for(u=s[r];p;){if(u.pseudo)for(c=f=(d=p.parent().items()).length;c--&&d[c]!==p;);for(a=0,l=u.length;a<l;a++)if(!u[a](p,c,f)){a=l+1;break}if(a===l){h++;break}if(r===o-1)break;p=p.parent()}if(h===o)return!0}return!1},find:function(t){var e,n,i=[],r=this._selectors;function o(t,e,n){var r,s,a,l,u,c=e[n];for(r=0,s=t.length;r<s;r++){for(u=t[r],a=0,l=c.length;a<l;a++)if(!c[a](u,r,s)){a=l+1;break}if(a===l)n===e.length-1?i.push(u):u.items&&o(u.items(),e,n+1);else if(c.direct)return;u.items&&o(u.items(),e,n)}}if(t.items){for(e=0,n=r.length;e<n;e++)o(t.items(),r[e],0);n>1&&(i=function(t){for(var e,n=[],i=t.length;i--;)(e=t[i]).__checked||(n.push(e),e.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}(i))}return Lt||(Lt=$t.Collection),new Lt(i)}}),qt=Array.prototype.push,Ut=Array.prototype.slice;Ht={length:0,init:function(t){t&&this.add(t)},add:function(t){return i.isArray(t)?qt.apply(this,t):t instanceof Ft?this.add(t.toArray()):qt.call(this,t),this},set:function(t){var e,n=this.length;for(this.length=0,this.add(t),e=this.length;e<n;e++)delete this[e];return this},filter:function(t){var e,n,i,r,o=[];for("string"==typeof t?(t=new $t(t),r=function(e){return t.match(e)}):r=t,e=0,n=this.length;e<n;e++)r(i=this[e])&&o.push(i);return new Ft(o)},slice:function(){return new Ft(Ut.apply(this,arguments))},eq:function(t){return-1===t?this.slice(t):this.slice(t,+t+1)},each:function(t){return i.each(this,t),this},toArray:function(){return i.toArray(this)},indexOf:function(t){for(var e=this.length;e--&&this[e]!==t;);return e},reverse:function(){return new Ft(i.toArray(this).reverse())},hasClass:function(t){return!!this[0]&&this[0].classes.contains(t)},prop:function(t,e){var n;return void 0!==e?(this.each((function(n){n[t]&&n[t](e)})),this):(n=this[0])&&n[t]?n[t]():void 0},exec:function(t){var e=this,n=i.toArray(arguments).slice(1);return e.each((function(e){e[t]&&e[t].apply(e,n)})),e},remove:function(){for(var t=this.length;t--;)this[t].remove();return this},addClass:function(t){return this.each((function(e){e.classes.add(t)}))},removeClass:function(t){return this.each((function(e){e.classes.remove(t)}))}},i.each("fire on off show hide append prepend before after reflow".split(" "),(function(t){Ht[t]=function(){var e=i.toArray(arguments);return this.each((function(n){t in n&&n[t].apply(n,e)})),this}})),i.each("text name disabled active selected checked visible parent value data".split(" "),(function(t){Ht[t]=function(e){return this.prop(t,e)}})),Ft=Pt.extend(Ht),$t.Collection=Ft;var Vt=Ft,Yt=function(t){this.create=t.create};Yt.create=function(t,e){return new Yt({create:function(n,i){var r,o=function(t){n.set(i,t.value)};return n.on("change:"+i,(function(n){t.set(e,n.value)})),t.on("change:"+e,o),(r=n._bindings)||(r=n._bindings=[],n.on("destroy",(function(){for(var t=r.length;t--;)r[t]()}))),r.push((function(){t.off("change:"+e,o)})),t.get(e)}})};var Xt=tinymce.util.Tools.resolve("tinymce.util.Observable");function Gt(t){return t.nodeType>0}var Kt,Jt,Qt=Pt.extend({Mixins:[Xt],init:function(t){var e,n;for(e in t=t||{})(n=t[e])instanceof Yt&&(t[e]=n.create(this,e));this.data=t},set:function(t,e){var n,r,o=this.data[t];if(e instanceof Yt&&(e=e.create(this,t)),"object"==typeof t){for(n in t)this.set(n,t[n]);return this}return function t(e,n){var r,o;if(e===n)return!0;if(null===e||null===n)return e===n;if("object"!=typeof e||"object"!=typeof n)return e===n;if(i.isArray(n)){if(e.length!==n.length)return!1;for(r=e.length;r--;)if(!t(e[r],n[r]))return!1}if(Gt(e)||Gt(n))return e===n;for(r in o={},n){if(!t(e[r],n[r]))return!1;o[r]=!0}for(r in e)if(!o[r]&&!t(e[r],n[r]))return!1;return!0}(o,e)||(this.data[t]=e,r={target:this,name:t,value:e,oldValue:o},this.fire("change:"+t,r),this.fire("change",r)),this},get:function(t){return this.data[t]},has:function(t){return t in this.data},bind:function(t){return Yt.create(this,t)},destroy:function(){this.fire("destroy")}}),Zt={},te={add:function(t){var e=t.parent();if(e){if(!e._layout||e._layout.isNative())return;Zt[e._id]||(Zt[e._id]=e),Kt||(Kt=!0,b.requestAnimationFrame((function(){var t,e;for(t in Kt=!1,Zt)(e=Zt[t]).state.get("rendered")&&e.reflow();Zt={}}),document.body))}},remove:function(t){Zt[t._id]&&delete Zt[t._id]}},ee="onmousewheel"in document,ne=0,ie={Statics:{classPrefix:"mce-"},isRtl:function(){return Jt.rtl},classPrefix:"mce-",init:function(t){var e,n,r=this;function o(t){var e;for(t=t.split(" "),e=0;e<t.length;e++)r.classes.add(t[e])}r.settings=t=i.extend({},r.Defaults,t),r._id=t.id||"mceu_"+ne++,r._aria={role:t.role},r._elmCache={},r.$=_t,r.state=new Qt({visible:!0,active:!1,disabled:!1,value:""}),r.data=new Qt(t.data),r.classes=new Rt((function(){r.state.get("rendered")&&(r.getEl().className=this.toString())})),r.classes.prefix=r.classPrefix,(e=t.classes)&&(r.Defaults&&(n=r.Defaults.classes)&&e!==n&&o(n),o(e)),i.each("title text name visible disabled active value".split(" "),(function(e){e in t&&r[e](t[e])})),r.on("click",(function(){if(r.disabled())return!1})),r.settings=t,r.borderBox=It(t.border),r.paddingBox=It(t.padding),r.marginBox=It(t.margin),t.hidden&&r.hide()},Properties:"parent,name",getContainerElm:function(){var t=P.getUiContainer(this);return t||kt.getContainer()},getParentCtrl:function(t){for(var e,n=this.getRoot().controlIdLookup;t&&n&&!(e=n[t.id]);)t=t.parentNode;return e},initLayoutRect:function(){var t,e,n,i,r,o,s,a,l,u,c=this.settings,f=this.getEl();t=this.borderBox=this.borderBox||Mt(f,"border"),this.paddingBox=this.paddingBox||Mt(f,"padding"),this.marginBox=this.marginBox||Mt(f,"margin"),u=kt.getSize(f),a=c.minWidth,l=c.minHeight,r=a||u.width,o=l||u.height,n=c.width,i=c.height,s=void 0!==(s=c.autoResize)?s:!n&&!i,n=n||r,i=i||o;var d=t.left+t.right,h=t.top+t.bottom,p=c.maxWidth||65535,m=c.maxHeight||65535;return this._layoutRect=e={x:c.x||0,y:c.y||0,w:n,h:i,deltaW:d,deltaH:h,contentW:n-d,contentH:i-h,innerW:n-d,innerH:i-h,startMinWidth:a||0,startMinHeight:l||0,minW:Math.min(r,p),minH:Math.min(o,m),maxW:p,maxH:m,autoResize:s,scrollW:0},this._lastLayoutRect={},e},layoutRect:function(t){var e,n,i,r,o,s=this._layoutRect;return s||(s=this.initLayoutRect()),t?(i=s.deltaW,r=s.deltaH,void 0!==t.x&&(s.x=t.x),void 0!==t.y&&(s.y=t.y),void 0!==t.minW&&(s.minW=t.minW),void 0!==t.minH&&(s.minH=t.minH),void 0!==(n=t.w)&&(n=(n=n<s.minW?s.minW:n)>s.maxW?s.maxW:n,s.w=n,s.innerW=n-i),void 0!==(n=t.h)&&(n=(n=n<s.minH?s.minH:n)>s.maxH?s.maxH:n,s.h=n,s.innerH=n-r),void 0!==(n=t.innerW)&&(n=(n=n<s.minW-i?s.minW-i:n)>s.maxW-i?s.maxW-i:n,s.innerW=n,s.w=n+i),void 0!==(n=t.innerH)&&(n=(n=n<s.minH-r?s.minH-r:n)>s.maxH-r?s.maxH-r:n,s.innerH=n,s.h=n+r),void 0!==t.contentW&&(s.contentW=t.contentW),void 0!==t.contentH&&(s.contentH=t.contentH),(e=this._lastLayoutRect).x===s.x&&e.y===s.y&&e.w===s.w&&e.h===s.h||((o=Jt.repaintControls)&&o.map&&!o.map[this._id]&&(o.push(this),o.map[this._id]=!0),e.x=s.x,e.y=s.y,e.w=s.w,e.h=s.h),this):s},repaint:function(){var t,e,n,i,r,o,s,a,l,u;l=document.createRange?function(t){return t}:Math.round,t=this.getEl().style,i=this._layoutRect,a=this._lastRepaintRect||{},o=(r=this.borderBox).left+r.right,s=r.top+r.bottom,i.x!==a.x&&(t.left=l(i.x)+"px",a.x=i.x),i.y!==a.y&&(t.top=l(i.y)+"px",a.y=i.y),i.w!==a.w&&(u=l(i.w-o),t.width=(u>=0?u:0)+"px",a.w=i.w),i.h!==a.h&&(u=l(i.h-s),t.height=(u>=0?u:0)+"px",a.h=i.h),this._hasBody&&i.innerW!==a.innerW&&(u=l(i.innerW),(n=this.getEl("body"))&&((e=n.style).width=(u>=0?u:0)+"px"),a.innerW=i.innerW),this._hasBody&&i.innerH!==a.innerH&&(u=l(i.innerH),(n=n||this.getEl("body"))&&((e=e||n.style).height=(u>=0?u:0)+"px"),a.innerH=i.innerH),this._lastRepaintRect=a,this.fire("repaint",{},!1)},updateLayoutRect:function(){this.parent()._lastRect=null,kt.css(this.getEl(),{width:"",height:""}),this._layoutRect=this._lastRepaintRect=this._lastLayoutRect=null,this.initLayoutRect()},on:function(t,e){var n=this;return re(n).on(t,function(t){var e,i;return"string"!=typeof t?t:function(r){return e||n.parentsAndSelf().each((function(n){var r=n.settings.callbacks;if(r&&(e=r[t]))return i=n,!1})),e?e.call(i,r):(r.action=t,void this.fire("execute",r))}}(e)),n},off:function(t,e){return re(this).off(t,e),this},fire:function(t,e,n){if((e=e||{}).control||(e.control=this),e=re(this).fire(t,e),!1!==n&&this.parent)for(var i=this.parent();i&&!e.isPropagationStopped();)i.fire(t,e,!1),i=i.parent();return e},hasEventListeners:function(t){return re(this).has(t)},parents:function(t){var e,n=new Vt;for(e=this.parent();e;e=e.parent())n.add(e);return t&&(n=n.filter(t)),n},parentsAndSelf:function(t){return new Vt(this).add(this.parents(t))},next:function(){var t=this.parent().items();return t[t.indexOf(this)+1]},prev:function(){var t=this.parent().items();return t[t.indexOf(this)-1]},innerHtml:function(t){return this.$el.html(t),this},getEl:function(t){var e=t?this._id+"-"+t:this._id;return this._elmCache[e]||(this._elmCache[e]=_t("#"+e)[0]),this._elmCache[e]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(t){}return this},blur:function(){return this.getEl().blur(),this},aria:function(t,e){var n=this.getEl(this.ariaTarget);return void 0===e?this._aria[t]:(this._aria[t]=e,this.state.get("rendered")&&n.setAttribute("role"===t?t:"aria-"+t,e),this)},encode:function(t,e){return!1!==e&&(t=this.translate(t)),(t||"").replace(/[&<>"]/g,(function(t){return"&#"+t.charCodeAt(0)+";"}))},translate:function(t){return Jt.translate?Jt.translate(t):t},before:function(t){var e=this.parent();return e&&e.insert(t,e.items().indexOf(this),!0),this},after:function(t){var e=this.parent();return e&&e.insert(t,e.items().indexOf(this)),this},remove:function(){var t,e,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(e=o.length;e--;)o[e].remove()}r&&r.items&&(t=[],r.items().each((function(e){e!==n&&t.push(e)})),r.items().set(t),r._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&_t(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(t){return _t(t).before(this.renderHtml()),this.postRender(),this},renderTo:function(t){return _t(t||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var t,e,n,i,r,o=this,s=o.settings;for(i in o.$el=_t(o.getEl()),o.state.set("rendered",!0),s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}oe(o),s.style&&(t=o.getEl())&&(t.setAttribute("style",s.style),t.style.cssText=s.style),o.settings.border&&(e=o.borderBox,o.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left}));var a=o.getRoot();for(var l in a.controlIdLookup||(a.controlIdLookup={}),a.controlIdLookup[o._id]=o,o._aria)o.aria(l,o._aria[l]);!1===o.state.get("visible")&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",(function(t){var e,n=t.value;o.state.get("rendered")&&(o.getEl().style.display=!1===n?"none":"",o.getEl().getBoundingClientRect()),(e=o.parent())&&(e._lastRect=null),o.fire(n?"show":"hide"),te.add(o)})),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(t){var e,n,i,r,o,s,a=this.getEl(),l=a.parentNode,u=function(t,e){var n,i,r=t;for(n=i=0;r&&r!==e&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}(a,l);return e=u.x,n=u.y,i=a.offsetWidth,r=a.offsetHeight,o=l.clientWidth,s=l.clientHeight,"end"===t?(e-=o-i,n-=s-r):"center"===t&&(e-=o/2-i/2,n-=s/2-r/2),l.scrollLeft=e,l.scrollTop=n,this},getRoot:function(){for(var t,e=this,n=[];e;){if(e.rootControl){t=e.rootControl;break}n.push(e),t=e,e=e.parent()}t||(t=this);for(var i=n.length;i--;)n[i].rootControl=t;return t},reflow:function(){te.remove(this);var t=this.parent();return t&&t._layout&&!t._layout.isNative()&&t.reflow(),this}};function re(t){return t._eventDispatcher||(t._eventDispatcher=new Ot({scope:t,toggleEvent:function(e,n){n&&Ot.isNative(e)&&(t._nativeEvents||(t._nativeEvents={}),t._nativeEvents[e]=!0,t.state.get("rendered")&&oe(t))}})),t._eventDispatcher}function oe(t){var e,n,i,r,o,s;function a(e){var n=t.getParentCtrl(e.target);n&&n.fire(e.type,e)}function l(){var t=r._lastHoverCtrl;t&&(t.fire("mouseleave",{target:t.getEl()}),t.parents().each((function(t){t.fire("mouseleave",{target:t.getEl()})})),r._lastHoverCtrl=null)}function u(e){var n,i,o,s=t.getParentCtrl(e.target),a=r._lastHoverCtrl,l=0;if(s!==a){if(r._lastHoverCtrl=s,(i=s.parents().toArray().reverse()).push(s),a){for((o=a.parents().toArray().reverse()).push(a),l=0;l<o.length&&i[l]===o[l];l++);for(n=o.length-1;n>=l;n--)(a=o[n]).fire("mouseleave",{target:a.getEl()})}for(n=l;n<i.length;n++)(s=i[n]).fire("mouseenter",{target:s.getEl()})}}function c(e){e.preventDefault(),"mousewheel"===e.type?(e.deltaY=-.025*e.wheelDelta,e.wheelDeltaX&&(e.deltaX=-.025*e.wheelDeltaX)):(e.deltaX=0,e.deltaY=e.detail),e=t.fire("wheel",e)}if(o=t._nativeEvents){for((i=t.parents().toArray()).unshift(t),e=0,n=i.length;!r&&e<n;e++)r=i[e]._eventsRoot;for(r||(r=i[i.length-1]||t),t._eventsRoot=r,n=e,e=0;e<n;e++)i[e]._eventsRoot=r;var f=r._delegates;for(s in f||(f=r._delegates={}),o){if(!o)return!1;"wheel"!==s?("mouseenter"===s||"mouseleave"===s?r._hasMouseEnter||(_t(r.getEl()).on("mouseleave",l).on("mouseover",u),r._hasMouseEnter=1):f[s]||(_t(r.getEl()).on(s,a),f[s]=!0),o[s]=!1):ee?_t(t.getEl()).on("mousewheel",c):_t(t.getEl()).on("DOMMouseScroll",c)}}}i.each("text title visible disabled active value".split(" "),(function(t){ie[t]=function(e){return 0===arguments.length?this.state.get(t):(void 0!==e&&this.state.set(t,e),this)}}));var se=Jt=Pt.extend(ie),ae=function(t){return!!t.getAttribute("data-mce-tabstop")};function le(t){var e,n,i=t.root;function r(t){return t&&1===t.nodeType}try{e=document.activeElement}catch(t){e=document.body}function o(t){return r(t=t||e)?t.getAttribute("role"):null}function s(t){for(var n,i=t||e;i=i.parentNode;)if(n=o(i))return n}function a(t){var n=e;if(r(n))return n.getAttribute("aria-"+t)}function l(t){var e=t.tagName.toUpperCase();return"INPUT"===e||"TEXTAREA"===e||"SELECT"===e}function u(t){var e=[];return function t(n){if(1===n.nodeType&&"none"!==n.style.display&&!n.disabled){(function(t){return!(!l(t)||t.hidden)||!!ae(t)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(o(t))})(n)&&e.push(n);for(var i=0;i<n.childNodes.length;i++)t(n.childNodes[i])}}(t||i.getEl()),e}function c(t){var e,i;(i=(t=t||n).parents().toArray()).unshift(t);for(var r=0;r<i.length&&!(e=i[r]).settings.ariaRoot;r++);return e}function f(t,e){return t<0?t=e.length-1:t>=e.length&&(t=0),e[t]&&e[t].focus(),t}function d(t,n){var i=-1,r=c();n=n||u(r.getEl());for(var o=0;o<n.length;o++)n[o]===e&&(i=o);i+=t,r.lastAriaIndex=f(i,n)}function h(){"tablist"===s()?d(-1,u(e.parentNode)):n.parent().submenu?v():d(-1)}function p(){var t=o(),n=s();"tablist"===n?d(1,u(e.parentNode)):"menuitem"===t&&"menu"===n&&a("haspopup")?y():d(1)}function m(){d(-1)}function g(){var t=o(),e=s();"menuitem"===t&&"menubar"===e?y():"button"===t&&a("haspopup")?y({key:"down"}):d(1)}function v(){n.fire("cancel")}function y(t){t=t||{},n.fire("click",{target:e,aria:t})}return n=i.getParentCtrl(e),i.on("keydown",(function(t){function i(t,n){l(e)||ae(e)||"slider"!==o(e)&&!1!==n(t)&&t.preventDefault()}if(!t.isDefaultPrevented())switch(t.keyCode){case 37:i(t,h);break;case 39:i(t,p);break;case 38:i(t,m);break;case 40:i(t,g);break;case 27:v();break;case 14:case 13:case 32:i(t,y);break;case 9:!function(t){if("tablist"===s()){var e=u(n.getEl("body"))[0];e&&e.focus()}else d(t.shiftKey?-1:1)}(t),t.preventDefault()}})),i.on("focusin",(function(t){e=t.target,n=t.control})),{focusFirst:function(t){var e=c(t),n=u(e.getEl());e.settings.ariaRemember&&"lastAriaIndex"in e?f(e.lastAriaIndex,n):f(0,n)}}}var ue={},ce=se.extend({init:function(t){var e=this;e._super(t),(t=e.settings).fixed&&e.state.set("fixed",!0),e._items=new Vt,e.isRtl()&&e.classes.add("rtl"),e.bodyClasses=new Rt((function(){e.state.get("rendered")&&(e.getEl("body").className=this.toString())})),e.bodyClasses.prefix=e.classPrefix,e.classes.add("container"),e.bodyClasses.add("container-body"),t.containerCls&&e.classes.add(t.containerCls),e._layout=f.create((t.layout||"")+"layout"),e.settings.items?e.add(e.settings.items):e.add(e.render()),e._hasBody=!0},items:function(){return this._items},find:function(t){return(t=ue[t]=ue[t]||new $t(t)).find(this)},add:function(t){return this.items().add(this.create(t)).parent(this),this},focus:function(t){var e,n,i;if(!t||!(n=this.keyboardNav||this.parents().eq(-1)[0].keyboardNav))return i=this.find("*"),this.statusbar&&i.add(this.statusbar.items()),i.each((function(t){if(t.settings.autofocus)return e=null,!1;t.canFocus&&(e=e||t)})),e&&e.focus(),this;n.focusFirst(this)},replace:function(t,e){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===t){i[r]=e;break}r>=0&&((n=e.getEl())&&n.parentNode.removeChild(n),(n=t.getEl())&&n.parentNode.removeChild(n)),e.parent(this)},create:function(t){var e,n=this,r=[];return i.isArray(t)||(t=[t]),i.each(t,(function(t){t&&(t instanceof se||("string"==typeof t&&(t={type:t}),e=i.extend({},n.settings.defaults,t),t.type=e.type=e.type||t.type||n.settings.defaultType||(e.defaults?e.defaults.type:null),t=f.create(e)),r.push(t))})),r},renderNew:function(){var t=this;return t.items().each((function(e,n){var i;e.parent(t),e.state.get("rendered")||((i=t.getEl("body")).hasChildNodes()&&n<=i.childNodes.length-1?_t(i.childNodes[n]).before(e.renderHtml()):_t(i).append(e.renderHtml()),e.postRender(),te.add(e))})),t._layout.applyClasses(t.items().filter(":visible")),t._lastRect=null,t},append:function(t){return this.add(t).renderNew()},prepend:function(t){return this.items().set(this.create(t).concat(this.items().toArray())),this.renderNew()},insert:function(t,e,n){var i,r,o;return t=this.create(t),i=this.items(),!n&&e<i.length-1&&(e+=1),e>=0&&e<i.length&&(r=i.slice(0,e).toArray(),o=i.slice(e).toArray(),i.set(r.concat(t,o))),this.renderNew()},fromJSON:function(t){for(var e in t)this.find("#"+e).value(t[e]);return this},toJSON:function(){var t={};return this.find("*").each((function(e){var n=e.name(),i=e.value();n&&void 0!==i&&(t[n]=i)})),t},renderHtml:function(){var t=this._layout,e=this.settings.role;return this.preRender(),t.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"'+(e?' role="'+this.settings.role+'"':"")+'><div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+t.renderHtml(this)+"</div></div>"},postRender:function(){var t;return this.items().exec("postRender"),this._super(),this._layout.postRender(this),this.state.set("rendered",!0),this.settings.style&&this.$el.css(this.settings.style),this.settings.border&&(t=this.borderBox,this.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left})),this.parent()||(this.keyboardNav=le({root:this})),this},initLayoutRect:function(){var t=this._super();return this._layout.recalc(this),t},recalc:function(){var t=this._layoutRect,e=this._lastRect;if(!e||e.w!==t.w||e.h!==t.h)return this._layout.recalc(this),t=this.layoutRect(),this._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var t;if(te.remove(this),this.visible()){for(se.repaintControls=[],se.repaintControls.map={},this.recalc(),t=se.repaintControls.length;t--;)se.repaintControls[t].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),se.repaintControls=[]}return this}});function fe(t){var e,n;if(t.changedTouches)for(e="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<e.length;n++)t[e[n]]=t.changedTouches[0][e[n]]}function de(t,e){var n,i,r,o,s,a,l,u=e.document||document;e=e||{};var c=u.getElementById(e.handle||t);r=function(t){var r,f,d=function(t){var e,n,i,r,o,s,a,l=Math.max;return e=t.documentElement,n=t.body,i=l(e.scrollWidth,n.scrollWidth),r=l(e.clientWidth,n.clientWidth),o=l(e.offsetWidth,n.offsetWidth),s=l(e.scrollHeight,n.scrollHeight),a=l(e.clientHeight,n.clientHeight),{width:i<o?r:i,height:s<l(e.offsetHeight,n.offsetHeight)?a:s}}(u);fe(t),t.preventDefault(),i=t.button,r=c,a=t.screenX,l=t.screenY,f=window.getComputedStyle?window.getComputedStyle(r,null).getPropertyValue("cursor"):r.runtimeStyle.cursor,n=_t("<div></div>").css({position:"absolute",top:0,left:0,width:d.width,height:d.height,zIndex:2147483647,opacity:1e-4,cursor:f}).appendTo(u.body),_t(u).on("mousemove touchmove",s).on("mouseup touchend",o),e.start(t)},s=function(t){if(fe(t),t.button!==i)return o(t);t.deltaX=t.screenX-a,t.deltaY=t.screenY-l,t.preventDefault(),e.drag(t)},o=function(t){fe(t),_t(u).off("mousemove touchmove",s).off("mouseup touchend",o),n.remove(),e.stop&&e.stop(t)},this.destroy=function(){_t(c).off()},_t(c).on("mousedown touchstart",r)}var he,pe,me,ge,ve={init:function(){this.on("repaint",this.renderScroll)},renderScroll:function(){var t=this;function e(){var e,n,i;function r(i,r,o,s,a,l){var u,c,f,d,h,p,m,g;if(c=t.getEl("scroll"+i)){if(m=r.toLowerCase(),g=o.toLowerCase(),_t(t.getEl("absend")).css(m,t.layoutRect()[s]-1),!a)return void _t(c).css("display","none");_t(c).css("display","block"),u=t.getEl("body"),f=t.getEl("scroll"+i+"t"),d=u["client"+o]-4,h=(d-=e&&n?c["client"+l]:0)/u["scroll"+o],(p={})[m]=u["offset"+r]+2,p[g]=d,_t(c).css(p),(p={})[m]=u["scroll"+r]*h,p[g]=d*h,_t(f).css(p)}}i=t.getEl("body"),e=i.scrollWidth>i.clientWidth,n=i.scrollHeight>i.clientHeight,r("h","Left","Width","contentW",e,"Height"),r("v","Top","Height","contentH",n,"Width")}t.settings.autoScroll&&(t._hasScroll||(t._hasScroll=!0,function(){function e(e,n,i,r,o){var s,a=t._id+"-scroll"+e,l=t.classPrefix;_t(t.getEl()).append('<div id="'+a+'" class="'+l+"scrollbar "+l+"scrollbar-"+e+'"><div id="'+a+'t" class="'+l+'scrollbar-thumb"></div></div>'),t.draghelper=new de(a+"t",{start:function(){s=t.getEl("body")["scroll"+n],_t("#"+a).addClass(l+"active")},drag:function(a){var l,u,c,f,d=t.layoutRect();u=d.contentW>d.innerW,c=d.contentH>d.innerH,f=t.getEl("body")["client"+i]-4,l=(f-=u&&c?t.getEl("scroll"+e)["client"+o]:0)/t.getEl("body")["scroll"+i],t.getEl("body")["scroll"+n]=s+a["delta"+r]/l},stop:function(){_t("#"+a).removeClass(l+"active")}})}t.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}(),t.on("wheel",(function(n){var i=t.getEl("body");i.scrollLeft+=10*(n.deltaX||0),i.scrollTop+=10*n.deltaY,e()})),_t(t.getEl("body")).on("scroll",e)),e())}},ye=ce.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[ve],renderHtml:function(){var t=this._layout,e=this.settings.html;return this.preRender(),t.preRender(this),void 0===e?e='<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+t.renderHtml(this)+"</div>":("function"==typeof e&&(e=e.call(this)),this._hasBody=!1),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1" role="group">'+(this._preBodyHtml||"")+e+"</div>"}}),be={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(t,e){if(t<=1||e<=1){var n=kt.getWindowSize();t=t<=1?t*n.w:t,e=e<=1?e*n.h:e}return this._layoutRect.autoResize=!1,this.layoutRect({minW:t,minH:e,w:t,h:e}).reflow()},resizeBy:function(t,e){var n=this.layoutRect();return this.resizeTo(n.w+t,n.h+e)}},xe=[],we=[];function _e(t,e){for(;t;){if(t===e)return!0;t=t.parent()}}function Ce(){he||(he=function(t){2!==t.button&&function(t){for(var e=xe.length;e--;){var n=xe[e],i=n.getParentCtrl(t.target);if(n.settings.autohide){if(i&&(_e(i,n)||n.parent()===i))continue;(t=n.fire("autohide",{target:t.target})).isDefaultPrevented()||n.hide()}}}(t)},_t(document).on("click touchstart",he))}function ke(t){var e=kt.getViewPort().y;function n(e,n){for(var i,r=0;r<xe.length;r++)if(xe[r]!==t)for(i=xe[r].parent();i&&(i=i.parent());)i===t&&xe[r].fixed(e).moveBy(0,n).repaint()}t.settings.autofix&&(t.state.get("fixed")?t._autoFixY>e&&(t.fixed(!1).layoutRect({y:t._autoFixY}).repaint(),n(!1,t._autoFixY-e)):(t._autoFixY=t.layoutRect().y,t._autoFixY<e&&(t.fixed(!0).layoutRect({y:0}).repaint(),n(!0,e-t._autoFixY))))}function Se(t,e){var n,i,r=Te.zIndex||65535;if(t)we.push(e);else for(n=we.length;n--;)we[n]===e&&we.splice(n,1);if(we.length)for(n=0;n<we.length;n++)we[n].modal&&(r++,i=we[n]),we[n].getEl().style.zIndex=r,we[n].zIndex=r,r++;var o=_t("#"+e.classPrefix+"modal-block",e.getContainerElm())[0];i?_t(o).css("z-index",i.zIndex-1):o&&(o.parentNode.removeChild(o),ge=!1),Te.currentZIndex=r}var Te=ye.extend({Mixins:[At,be],init:function(t){var e=this;e._super(t),e._eventsRoot=e,e.classes.add("floatpanel"),t.autohide&&(Ce(),function(){if(!me){var t=document.documentElement,e=t.clientWidth,n=t.clientHeight;me=function(){document.all&&e===t.clientWidth&&n===t.clientHeight||(e=t.clientWidth,n=t.clientHeight,Te.hideAll())},_t(window).on("resize",me)}}(),xe.push(e)),t.autofix&&(pe||(pe=function(){var t;for(t=xe.length;t--;)ke(xe[t])},_t(window).on("scroll",pe)),e.on("move",(function(){ke(this)}))),e.on("postrender show",(function(t){if(t.control===e){var n,i=e.classPrefix;e.modal&&!ge&&((n=_t("#"+i+"modal-block",e.getContainerElm()))[0]||(n=_t('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(e.getContainerElm())),b.setTimeout((function(){n.addClass(i+"in"),_t(e.getEl()).addClass(i+"in")})),ge=!0),Se(!0,e)}})),e.on("show",(function(){e.parents().each((function(t){if(t.state.get("fixed"))return e.fixed(!0),!1}))})),t.popover&&(e._preBodyHtml='<div class="'+e.classPrefix+'arrow"></div>',e.classes.add("popover").add("bottom").add(e.isRtl()?"end":"start")),e.aria("label",t.ariaLabel),e.aria("labelledby",e._id),e.aria("describedby",e.describedBy||e._id+"-none")},fixed:function(t){if(this.state.get("fixed")!==t){if(this.state.get("rendered")){var e=kt.getViewPort();t?this.layoutRect().y-=e.y:this.layoutRect().y+=e.y}this.classes.toggle("fixed",t),this.state.set("fixed",t)}return this},show:function(){var t,e=this._super();for(t=xe.length;t--&&xe[t]!==this;);return-1===t&&xe.push(this),e},hide:function(){return Ee(this),Se(!1,this),this._super()},hideAll:function(){Te.hideAll()},close:function(){return this.fire("close").isDefaultPrevented()||(this.remove(),Se(!1,this)),this},remove:function(){Ee(this),this._super()},postRender:function(){return this.settings.bodyRole&&this.getEl("body").setAttribute("role",this.settings.bodyRole),this._super()}});function Ee(t){var e;for(e=xe.length;e--;)xe[e]===t&&xe.splice(e,1);for(e=we.length;e--;)we[e]===t&&we.splice(e,1)}Te.hideAll=function(){for(var t=xe.length;t--;){var e=xe[t];e&&e.settings.autohide&&(e.hide(),xe.splice(t,1))}};var De=function(t,e){return!(!t||e.settings.ui_container)},Ne=function(t,e,n){var i,o,a=c.DOM,u=function(t){return t.getParam("fixed_toolbar_container")}(t);u&&(o=a.select(u)[0]);var d=function(){if(i&&i.moveRel&&i.visible()&&!i._fixed){var e=t.selection.getScrollContainer(),n=t.getBody(),r=0,o=0;if(e){var s=a.getPos(n),l=a.getPos(e);r=Math.max(0,l.x-s.x),o=Math.max(0,l.y-s.y)}i.fixed(!1).moveRel(n,t.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(r,o)}},h=function(){i&&(i.show(),d(),a.addClass(t.getBody(),"mce-edit-focus"))},p=function(){i&&(i.hide(),Te.hideAll(),a.removeClass(t.getBody(),"mce-edit-focus"))},g=function(){i?i.visible()||h():(i=e.panel=f.create({type:o?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:De(o,t),fixed:De(o,t),border:1,items:[!1===r(t)?null:{type:"menubar",border:"0 0 1 0",items:st(t)},M(t,s(t))]}),P.setUiContainer(t,i),m(t),o?i.renderTo(o).reflow():i.renderTo().reflow(),v(t,i),h(),H(t),t.on("nodeChange",d),t.on("ResizeWindow",d),t.on("activate",h),t.on("deactivate",p),t.nodeChanged())};return t.settings.content_editable=!0,t.on("focus",(function(){!1===l(t)&&n.skinUiCss?a.styleSheetLoader.load(n.skinUiCss,g,g):g()})),t.on("blur hide",p),t.on("remove",(function(){i&&(i.remove(),i=null)})),!1===l(t)&&n.skinUiCss?a.styleSheetLoader.load(n.skinUiCss,vt(t)):vt(t)(),{}};function Ae(t,e){var n,i,r=this,o=se.classPrefix;r.show=function(s,a){function l(){n&&(_t(t).append('<div class="'+o+"throbber"+(e?" "+o+"throbber-inline":"")+'"></div>'),a&&a())}return r.hide(),n=!0,s?i=b.setTimeout(l,s):l(),r},r.hide=function(){var e=t.lastChild;return b.clearTimeout(i),e&&-1!==e.className.indexOf("throbber")&&e.parentNode.removeChild(e),n=!1,r}}var Pe=function(t,e){var n;t.on("ProgressState",(function(t){n=n||new Ae(e.panel.getEl("body")),t.state?n.show(t.time):n.hide()}))},Oe=function(t,e,i){var r=function(t){var e=t.settings,i=e.skin,r=e.skin_url;if(!1!==i){var o=i||"lightgray";r=r?t.documentBaseURI.toAbsolute(r):n.baseURL+"/skins/"+o}return r}(t);return r&&(i.skinUiCss=r+"/skin.min.css",t.contentCSS.push(r+"/content"+(t.inline?".inline":"")+".min.css")),Pe(t,e),function(t){return t.getParam("inline",!1,"boolean")}(t)?Ne(t,e,i):wt(t,e,i)},Ie=se.extend({Mixins:[At],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var t=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+this.encode(this.state.get("text"))+"</div></div>"},bindStates:function(){var t=this;return t.state.on("change:text",(function(e){t.getEl().lastChild.innerHTML=t.encode(e.value)})),t._super()},repaint:function(){var t,e;t=this.getEl().style,e=this._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=131070}}),Me=se.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.canFocus=!0,t.tooltip&&!1!==Me.tooltips&&(e.on("mouseenter",(function(n){var i=e.tooltip().moveTo(-65535);if(n.control===e){var r=i.text(t.tooltip).show().testMoveRel(e.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"===r),i.classes.toggle("tooltip-nw","bc-tl"===r),i.classes.toggle("tooltip-ne","bc-tr"===r),i.moveRel(e.getEl(),r)}else i.hide()})),e.on("mouseleave mousedown click",(function(){e.tooltip().remove(),e._tooltip=null}))),e.aria("label",t.ariaLabel||t.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new Ie({type:"tooltip"}),P.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var t=this.settings;this._super(),this.parent()||!t.width&&!t.height||(this.initLayoutRect(),this.repaint()),t.autofocus&&this.focus()},bindStates:function(){var t=this;function e(e){t.aria("disabled",e),t.classes.toggle("disabled",e)}function n(e){t.aria("pressed",e),t.classes.toggle("active",e)}return t.state.on("change:disabled",(function(t){e(t.value)})),t.state.on("change:active",(function(t){n(t.value)})),t.state.get("disabled")&&e(!0),t.state.get("active")&&n(!0),t._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),Be=Me.extend({Defaults:{value:0},init:function(t){this._super(t),this.classes.add("progress"),this.settings.filter||(this.settings.filter=function(t){return Math.round(t)})},renderHtml:function(){var t=this._id,e=this.classPrefix;return'<div id="'+t+'" class="'+this.classes+'"><div class="'+e+'bar-container"><div class="'+e+'bar"></div></div><div class="'+e+'text">0%</div></div>'},postRender:function(){return this._super(),this.value(this.settings.value),this},bindStates:function(){var t=this;function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}return t.state.on("change:value",(function(t){e(t.value)})),e(t.state.get("value")),t._super()}}),Re=function(t,e){t.getEl().lastChild.textContent=e+(t.progressBar?" "+t.progressBar.value()+"%":"")},Le=se.extend({Mixins:[At],Defaults:{classes:"widget notification"},init:function(t){var e=this;e._super(t),e.maxWidth=t.maxWidth,t.text&&e.text(t.text),t.icon&&(e.icon=t.icon),t.color&&(e.color=t.color),t.type&&e.classes.add("notification-"+t.type),t.timeout&&(t.timeout<0||t.timeout>0)&&!t.closeButton?e.closeButton=!1:(e.classes.add("has-close"),e.closeButton=!0),t.progressBar&&(e.progressBar=new Be),e.on("click",(function(t){-1!==t.target.className.indexOf(e.classPrefix+"close")&&e.close()}))},renderHtml:function(){var t,e=this.classPrefix,n="",i="",r="";return this.icon&&(n='<i class="'+e+"ico "+e+"i-"+this.icon+'"></i>'),t=' style="max-width: '+this.maxWidth+"px;"+(this.color?"background-color: "+this.color+';"':'"'),this.closeButton&&(i='<button type="button" class="'+e+'close" aria-hidden="true">Ã</button>'),this.progressBar&&(r=this.progressBar.renderHtml()),'<div id="'+this._id+'" class="'+this.classes+'"'+t+' role="presentation">'+n+'<div class="'+e+'notification-inner">'+this.state.get("text")+"</div>"+r+i+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var t=this;return b.setTimeout((function(){t.$el.addClass(t.classPrefix+"in"),Re(t,t.state.get("text"))}),100),t._super()},bindStates:function(){var t=this;return t.state.on("change:text",(function(e){t.getEl().firstChild.innerHTML=e.value,Re(t,e.value)})),t.progressBar&&(t.progressBar.bindStates(),t.progressBar.state.on("change:value",(function(e){Re(t,t.state.get("text"))}))),t._super()},close:function(){return this.fire("close").isDefaultPrevented()||this.remove(),this},repaint:function(){var t,e;t=this.getEl().style,e=this._layoutRect,t.left=e.x+"px",t.top=e.y+"px",t.zIndex=65534}});function Fe(t){var e=function(t){return t.inline?t.getElement():t.getContentAreaContainer()};return{open:function(n,r){var o,s=i.extend(n,{maxWidth:(o=e(t),kt.getSize(o).width)}),a=new Le(s);return a.args=s,s.timeout>0&&(a.timer=setTimeout((function(){a.close(),r()}),s.timeout)),a.on("close",(function(){r()})),a.renderTo(),a},close:function(t){t.close()},reposition:function(n){!function(t){et.each(t,(function(t){t.moveTo(0,0)}))}(n),function(n){if(n.length>0){var i=n.slice(0,1)[0],r=e(t);i.moveRel(r,"tc-tc"),et.each(n,(function(t,e){e>0&&t.moveRel(n[e-1].getEl(),"bc-tc")}))}}(n)},getArgs:function(t){return t.args}}}var He=[],ze="";function je(t){var e,n=_t("meta[name=viewport]")[0];!1!==dt.overrideViewPort&&(n||((n=document.createElement("meta")).setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(n)),(e=n.getAttribute("content"))&&void 0!==ze&&(ze=e),n.setAttribute("content",t?"width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0":ze))}function We(t,e){(function(){for(var t=0;t<He.length;t++)if(He[t]._fullscreen)return!0;return!1})()&&!1===e&&_t([document.documentElement,document.body]).removeClass(t+"fullscreen")}var $e=Te.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(t){var e=this;e._super(t),e.isRtl()&&e.classes.add("rtl"),e.classes.add("window"),e.bodyClasses.add("window-body"),e.state.set("fixed",!0),t.buttons&&(e.statusbar=new ye({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:e.isRtl()?"start":"end",defaults:{type:"button"},items:t.buttons}),e.statusbar.classes.add("foot"),e.statusbar.parent(e)),e.on("click",(function(t){var n=e.classPrefix+"close";(kt.hasClass(t.target,n)||kt.hasClass(t.target.parentNode,n))&&e.close()})),e.on("cancel",(function(){e.close()})),e.on("move",(function(t){t.control===e&&Te.hideAll()})),e.aria("describedby",e.describedBy||e._id+"-none"),e.aria("label",t.title),e._fullscreen=!1},recalc:function(){var t,e,n,i,r=this.statusbar;this._fullscreen&&(this.layoutRect(kt.getWindowSize()),this.layoutRect().contentH=this.layoutRect().innerH),this._super(),t=this.layoutRect(),this.settings.title&&!this._fullscreen&&(e=t.headerW)>t.w&&(n=t.x-Math.max(0,e/2),this.layoutRect({w:e,x:n}),i=!0),r&&(r.layoutRect({w:this.layoutRect().innerW}).recalc(),(e=r.layoutRect().minW+t.deltaW)>t.w&&(n=t.x-Math.max(0,e-t.w),this.layoutRect({w:e,x:n}),i=!0)),i&&this.recalc()},initLayoutRect:function(){var t,e=this._super(),n=0;if(this.settings.title&&!this._fullscreen){t=this.getEl("head");var i=kt.getSize(t);e.headerW=i.width,e.headerH=i.height,n+=e.headerH}this.statusbar&&(n+=this.statusbar.layoutRect().h),e.deltaH+=n,e.minH+=n,e.h+=n;var r=kt.getWindowSize();return e.x=this.settings.x||Math.max(0,r.w/2-e.w/2),e.y=this.settings.y||Math.max(0,r.h/2-e.h/2),e},renderHtml:function(){var t=this._layout,e=this._id,n=this.classPrefix,i=this.settings,r="",o="",s=i.html;return this.preRender(),t.preRender(this),i.title&&(r='<div id="'+e+'-head" class="'+n+'window-head"><div id="'+e+'-title" class="'+n+'title">'+this.encode(i.title)+'</div><div id="'+e+'-dragh" class="'+n+'dragh"></div><button type="button" class="'+n+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),i.url&&(s='<iframe src="'+i.url+'" tabindex="-1"></iframe>'),void 0===s&&(s=t.renderHtml(this)),this.statusbar&&(o=this.statusbar.renderHtml()),'<div id="'+e+'" class="'+this.classes+'" hidefocus="1"><div class="'+this.classPrefix+'reset" role="application">'+r+'<div id="'+e+'-body" class="'+this.bodyClasses+'">'+s+"</div>"+o+"</div></div>"},fullscreen:function(t){var e,n,i=this,r=document.documentElement,o=i.classPrefix;if(t!==i._fullscreen)if(_t(window).on("resize",(function(){var t;if(i._fullscreen)if(e)i._timer||(i._timer=b.setTimeout((function(){var t=kt.getWindowSize();i.moveTo(0,0).resizeTo(t.w,t.h),i._timer=0}),50));else{t=(new Date).getTime();var n=kt.getWindowSize();i.moveTo(0,0).resizeTo(n.w,n.h),(new Date).getTime()-t>50&&(e=!0)}})),n=i.layoutRect(),i._fullscreen=t,t){i._initial={x:n.x,y:n.y,w:n.w,h:n.h},i.borderBox=It("0"),i.getEl("head").style.display="none",n.deltaH-=n.headerH+2,_t([r,document.body]).addClass(o+"fullscreen"),i.classes.add("fullscreen");var s=kt.getWindowSize();i.moveTo(0,0).resizeTo(s.w,s.h)}else i.borderBox=It(i.settings.border),i.getEl("head").style.display="",n.deltaH+=n.headerH,_t([r,document.body]).removeClass(o+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h);return i.reflow()},postRender:function(){var t,e=this;setTimeout((function(){e.classes.add("in"),e.fire("open")}),0),e._super(),e.statusbar&&e.statusbar.postRender(),e.focus(),this.dragHelper=new de(e._id+"-dragh",{start:function(){t={x:e.layoutRect().x,y:e.layoutRect().y}},drag:function(n){e.moveTo(t.x+n.deltaX,t.y+n.deltaY)}}),e.on("submit",(function(t){t.isDefaultPrevented()||e.close()})),He.push(e),je(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var t;for(this.dragHelper.destroy(),this._super(),this.statusbar&&this.statusbar.remove(),We(this.classPrefix,!1),t=He.length;t--;)He[t]===this&&He.splice(t,1);je(He.length>0)},getContentWindow:function(){var t=this.getEl().getElementsByTagName("iframe")[0];return t?t.contentWindow:null}});!function(){if(!dt.desktop){var t={w:window.innerWidth,h:window.innerHeight};b.setInterval((function(){var e=window.innerWidth,n=window.innerHeight;t.w===e&&t.h===n||(t={w:e,h:n},_t(window).trigger("resize"))}),100)}_t(window).on("resize",(function(){var t,e,n=kt.getWindowSize();for(t=0;t<He.length;t++)e=He[t].layoutRect(),He[t].moveTo(He[t].settings.x||Math.max(0,n.w/2-e.w/2),He[t].settings.y||Math.max(0,n.h/2-e.h/2))}))}();var qe,Ue=$e.extend({init:function(t){t={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(t)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(t){var e,n=t.callback||function(){};function i(t,e,i){return{type:"button",text:t,subtype:i?"primary":"",onClick:function(t){t.control.parents()[1].close(),n(e)}}}switch(t.buttons){case Ue.OK_CANCEL:e=[i("Ok",!0,!0),i("Cancel",!1)];break;case Ue.YES_NO:case Ue.YES_NO_CANCEL:e=[i("Yes",1,!0),i("No",0)],t.buttons===Ue.YES_NO_CANCEL&&e.push(i("Cancel",-1));break;default:e=[i("Ok",!0,!0)]}return new $e({padding:20,x:t.x,y:t.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:e,title:t.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:t.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:t.onClose,onCancel:function(){n(!1)}}).renderTo(document.body).reflow()},alert:function(t,e){return"string"==typeof t&&(t={text:t}),t.callback=e,Ue.msgBox(t)},confirm:function(t,e){return"string"==typeof t&&(t={text:t}),t.callback=e,t.buttons=Ue.OK_CANCEL,Ue.msgBox(t)}}}),Ve=function(t){return{renderUI:function(e){return Oe(t,this,e)},resizeTo:function(e,n){return ct(t,e,n)},resizeBy:function(e,n){return ft(t,e,n)},getNotificationManagerImpl:function(){return Fe(t)},getWindowManagerImpl:function(){return{open:function(t,e,n){var i;return t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),(i=new $e(t)).on("close",(function(){n(i)})),t.data&&i.on("postRender",(function(){this.find("*").each((function(e){var n=e.name();n in t.data&&e.value(t.data[n])}))})),i.features=t||{},i.params=e||{},i=i.renderTo(document.body).reflow()},alert:function(t,e,n){var i;return(i=Ue.alert(t,(function(){e()}))).on("close",(function(){n(i)})),i},confirm:function(t,e,n){var i;return(i=Ue.confirm(t,(function(t){e(t)}))).on("close",(function(){n(i)})),i},close:function(t){t.close()},getParams:function(t){return t.params},setParams:function(t,e){t.params=e}}}}},Ye=Pt.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(t){this.settings=i.extend({},this.Defaults,t)},preRender:function(t){t.bodyClasses.add(this.settings.containerClass)},applyClasses:function(t){var e,n,i,r,o=this.settings;e=o.firstControlClass,n=o.lastControlClass,t.each((function(t){t.classes.remove(e).remove(n).add(o.controlClass),t.visible()&&(i||(i=t),r=t)})),i&&i.classes.add(e),r&&r.classes.add(n)},renderHtml:function(t){var e="";return this.applyClasses(t.items()),t.items().each((function(t){e+=t.renderHtml()})),e},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Xe=Ye.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(t){t.items().filter(":visible").each((function(t){var e=t.settings;t.layoutRect({x:e.x,y:e.y,w:e.w,h:e.h}),t.recalc&&t.recalc()}))},renderHtml:function(t){return'<div id="'+t._id+'-absend" class="'+t.classPrefix+'abs-end"></div>'+this._super(t)}}),Ge=Me.extend({Defaults:{classes:"widget btn",role:"button"},init:function(t){var e,n=this;n._super(t),t=n.settings,e=n.settings.size,n.on("click mousedown",(function(t){t.preventDefault()})),n.on("touchstart",(function(t){n.fire("click",t),t.preventDefault()})),t.subtype&&n.classes.add(t.subtype),e&&n.classes.add("btn-"+e),t.icon&&n.icon(t.icon)},icon:function(t){return arguments.length?(this.state.set("icon",t),this):this.state.get("icon")},repaint:function(){var t,e=this.getEl().firstChild;e&&((t=e.style).width=t.height="100%"),this._super()},renderHtml:function(){var t,e,n=this._id,i=this.classPrefix,r=this.state.get("icon"),o=this.state.get("text"),s="",a=this.settings;return(t=a.image)?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",o&&(this.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+this.encode(o)+"</span>"),r=r?i+"ico "+i+"i-"+r:"",e="boolean"==typeof a.active?' aria-pressed="'+a.active+'"':"",'<div id="'+n+'" class="'+this.classes+'" tabindex="-1"'+e+'><button id="'+n+'-button" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+s+"</button></div>"},bindStates:function(){var t=this,e=t.$,n=t.classPrefix+"txt";function i(i){var r=e("span."+n,t.getEl());i?(r[0]||(e("button:first",t.getEl()).append('<span class="'+n+'"></span>'),r=e("span."+n,t.getEl())),r.html(t.encode(i))):r.remove(),t.classes.toggle("btn-has-text",!!i)}return t.state.on("change:text",(function(t){i(t.value)})),t.state.on("change:icon",(function(e){var n=e.value,r=t.classPrefix;t.settings.icon=n,n=n?r+"ico "+r+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,s=o.getElementsByTagName("i")[0];n?(s&&s===o.firstChild||(s=document.createElement("i"),o.insertBefore(s,o.firstChild)),s.className=n):s&&o.removeChild(s),i(t.state.get("text"))})),t._super()}}),Ke=Ge.extend({init:function(t){t=i.extend({text:"Browse...",multiple:!1,accept:null},t),this._super(t),this.classes.add("browsebutton"),t.multiple&&this.classes.add("multiple")},postRender:function(){var t=this,e=kt.create("input",{type:"file",id:t._id+"-browse",accept:t.settings.accept});t._super(),_t(e).on("change",(function(e){var n=e.target.files;t.value=function(){return n.length?t.settings.multiple?n:n[0]:null},e.preventDefault(),n.length&&t.fire("change",e)})),_t(e).on("click",(function(t){t.stopPropagation()})),_t(t.getEl("button")).on("click",(function(t){t.stopPropagation(),e.click()})),t.getEl().appendChild(e)},remove:function(){_t(this.getEl("button")).off(),_t(this.getEl("input")).off(),this._super()}}),Je=ce.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var t=this._layout;return this.classes.add("btn-group"),this.preRender(),t.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+(this.settings.html||"")+t.renderHtml(this)+"</div></div>"}}),Qe=Me.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(t){var e=this;e._super(t),e.on("click mousedown",(function(t){t.preventDefault()})),e.on("click",(function(t){t.preventDefault(),e.disabled()||e.checked(!e.checked())})),e.checked(e.settings.checked)},checked:function(t){return arguments.length?(this.state.set("checked",t),this):this.state.get("checked")},value:function(t){return arguments.length?this.checked(t):this.checked()},renderHtml:function(){var t=this._id,e=this.classPrefix;return'<div id="'+t+'" class="'+this.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+e+"ico "+e+'i-checkbox"></i><span id="'+t+'-al" class="'+e+'label">'+this.encode(this.state.get("text"))+"</span></div>"},bindStates:function(){var t=this;function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}return t.state.on("change:text",(function(e){t.getEl("al").firstChild.data=t.translate(e.value)})),t.state.on("change:checked change:value",(function(n){t.fire("change"),e(n.value)})),t.state.on("change:icon",(function(e){var n=e.value,i=t.classPrefix;if(void 0===n)return t.settings.icon;t.settings.icon=n,n=n?i+"ico "+i+"i-"+t.settings.icon:"";var r=t.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o===r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)})),t.state.get("checked")&&e(!0),t._super()}}),Ze=tinymce.util.Tools.resolve("tinymce.util.VK"),tn=Me.extend({init:function(t){var e=this;e._super(t),t=e.settings,e.classes.add("combobox"),e.subinput=!0,e.ariaTarget="inp",t.menu=t.menu||t.values,t.menu&&(t.icon="caret"),e.on("click",(function(n){var i=n.target,r=e.getEl();if(_t.contains(r,i)||i===r)for(;i&&i!==r;)i.id&&-1!==i.id.indexOf("-open")&&(e.fire("action"),t.menu&&(e.showMenu(),n.aria&&e.menu.items()[0].focus())),i=i.parentNode})),e.on("keydown",(function(t){var n;13===t.keyCode&&"INPUT"===t.target.nodeName&&(t.preventDefault(),e.parents().reverse().each((function(t){if(t.toJSON)return n=t,!1})),e.fire("submit",{data:n.toJSON()}))})),e.on("keyup",(function(t){if("INPUT"===t.target.nodeName){var n=e.state.get("value"),i=t.target.value;i!==n&&(e.state.set("value",i),e.fire("autocomplete",t))}})),e.on("mouseover",(function(t){var n=e.tooltip().moveTo(-65535);if(e.statusLevel()&&-1!==t.target.className.indexOf(e.classPrefix+"status")){var i=e.statusMessage()||"Ok",r=n.text(i).show().testMoveRel(t.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"===r),n.classes.toggle("tooltip-nw","bc-tl"===r),n.classes.toggle("tooltip-ne","bc-tr"===r),n.moveRel(t.target,r)}}))},statusLevel:function(t){return arguments.length>0&&this.state.set("statusLevel",t),this.state.get("statusLevel")},statusMessage:function(t){return arguments.length>0&&this.state.set("statusMessage",t),this.state.get("statusMessage")},showMenu:function(){var t,e=this,n=e.settings;e.menu||((t=n.menu||[]).length?t={type:"menu",items:t}:t.type=t.type||"menu",e.menu=f.create(t).parent(e).renderTo(e.getContainerElm()),e.fire("createmenu"),e.menu.reflow(),e.menu.on("cancel",(function(t){t.control===e.menu&&e.focus()})),e.menu.on("show hide",(function(t){t.control.items().each((function(t){t.active(t.value()===e.value())}))})).fire("show"),e.menu.on("select",(function(t){e.value(t.control.value())})),e.on("focusin",(function(t){"INPUT"===t.target.tagName.toUpperCase()&&e.menu.hide()})),e.aria("expanded",!0)),e.menu.show(),e.menu.layoutRect({w:e.layoutRect().w}),e.menu.moveRel(e.getEl(),e.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,e,n=this.getEl(),i=this.getEl("open"),r=this.layoutRect(),o=0,s=n.firstChild;this.statusLevel()&&"none"!==this.statusLevel()&&(o=parseInt(kt.getRuntimeStyle(s,"padding-right"),10)-parseInt(kt.getRuntimeStyle(s,"padding-left"),10)),t=i?r.w-kt.getSize(i).width-10:r.w-10;var a=document;return a.all&&(!a.documentMode||a.documentMode<=8)&&(e=this.layoutRect().h-2+"px"),_t(s).css({width:t-o,lineHeight:e}),this._super(),this},postRender:function(){var t=this;return _t(this.getEl("inp")).on("change",(function(e){t.state.set("value",e.target.value),t.fire("change",e)})),t._super()},renderHtml:function(){var t,e,n,i=this._id,r=this.settings,o=this.classPrefix,s=this.state.get("value")||"",a="",l="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),n='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',this.disabled()&&(l+=' disabled="disabled"'),(t=r.icon)&&"caret"!==t&&(t=o+"ico "+o+"i-"+r.icon),e=this.state.get("text"),(t||e)&&(a='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==t?'<i class="'+t+'"></i>':'<i class="'+o+'caret"></i>')+(e?(t?" ":"")+e:"")+"</button></div>",this.classes.add("has-open")),'<div id="'+i+'" class="'+this.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+this.encode(s,!1)+'" hidefocus="1"'+l+' placeholder="'+this.encode(r.placeholder)+'" />'+n+a+"</div>"},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(t,e){var n=this;if(0!==t.length){var r=function(t,e){return function(){n.fire("selectitem",{title:e,value:t})}};n.menu?n.menu.items().remove():n.menu=f.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(n).renderTo(),i.each(t,(function(t){n.menu.add({text:t.title,url:t.previewUrl,match:e,classes:"menu-item-ellipsis",onclick:r(t.value,t.title)})})),n.menu.renderNew(),n.hideMenu(),n.menu.on("cancel",(function(t){t.control.parent()===n.menu&&(t.stopPropagation(),n.focus(),n.hideMenu())})),n.menu.on("select",(function(){n.focus()}));var o=n.layoutRect().w;n.menu.layoutRect({w:o,minW:0,maxW:o}),n.menu.repaint(),n.menu.reflow(),n.menu.show(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])}else n.hideMenu()},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var t=this;t.state.on("change:value",(function(e){t.getEl("inp").value!==e.value&&(t.getEl("inp").value=e.value)})),t.state.on("change:disabled",(function(e){t.getEl("inp").disabled=e.value})),t.state.on("change:statusLevel",(function(e){var n=t.getEl("status"),i=t.classPrefix,r=e.value;kt.css(n,"display","none"===r?"none":""),kt.toggleClass(n,i+"i-checkmark","ok"===r),kt.toggleClass(n,i+"i-warning","warn"===r),kt.toggleClass(n,i+"i-error","error"===r),t.classes.toggle("has-status","none"!==r),t.repaint()})),kt.on(t.getEl("status"),"mouseleave",(function(){t.tooltip().hide()})),t.on("cancel",(function(e){t.menu&&t.menu.visible()&&(e.stopPropagation(),t.hideMenu())}));var e=function(t,e){e&&e.items().length>0&&e.items().eq(t)[0].focus()};return t.on("keydown",(function(n){var i=n.keyCode;"INPUT"===n.target.nodeName&&(i===Ze.DOWN?(n.preventDefault(),t.fire("autocomplete"),e(0,t.menu)):i===Ze.UP&&(n.preventDefault(),e(-1,t.menu)))})),t._super()},remove:function(){_t(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),en=tn.extend({init:function(t){var e=this;t.spellcheck=!1,t.onaction&&(t.icon="none"),e._super(t),e.classes.add("colorbox"),e.on("change keyup postrender",(function(){e.repaintColor(e.value())}))},repaintColor:function(t){var e=this.getEl("open"),n=e?e.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=t}catch(t){}},bindStates:function(){var t=this;return t.state.on("change:value",(function(e){t.state.get("rendered")&&t.repaintColor(e.value)})),t._super()}}),nn=Ge.extend({showPanel:function(){var t=this,e=t.settings;if(t.classes.add("opened"),t.panel)t.panel.show();else{var n=e.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,t.panel=new Te(n).on("hide",(function(){t.classes.remove("opened")})).on("cancel",(function(e){e.stopPropagation(),t.focus(),t.hidePanel()})).parent(t).renderTo(t.getContainerElm()),t.panel.fire("show"),t.panel.reflow()}var i=t.panel.testMoveRel(t.getEl(),e.popoverAlign||(t.isRtl()?["bc-tc","bc-tl","bc-tr"]:["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"]));t.panel.classes.toggle("start","l"===i.substr(-1)),t.panel.classes.toggle("end","r"===i.substr(-1));var r="t"===i.substr(0,1);t.panel.classes.toggle("bottom",!r),t.panel.classes.toggle("top",r),t.panel.moveRel(t.getEl(),i)},hidePanel:function(){this.panel&&this.panel.hide()},postRender:function(){var t=this;return t.aria("haspopup",!0),t.on("click",(function(e){e.control===t&&(t.panel&&t.panel.visible()?t.hidePanel():(t.showPanel(),t.panel.focus(!!e.aria)))})),t._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),rn=c.DOM,on=nn.extend({init:function(t){this._super(t),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(t){return t?(this._color=t,this.getEl("preview").style.backgroundColor=t,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var t=this._id,e=this.classPrefix,n=this.state.get("text"),i=this.settings.icon?e+"ico "+e+"i-"+this.settings.icon:"",r=this.settings.image?" style=\"background-image: url('"+this.settings.image+"')\"":"",o="";return n&&(this.classes.add("btn-has-text"),o='<span class="'+e+'txt">'+this.encode(n)+"</span>"),'<div id="'+t+'" class="'+this.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+r+"></i>":"")+'<span id="'+t+'-preview" class="'+e+'preview"></span>'+o+'</button><button type="button" class="'+e+'open" hidefocus="1" tabindex="-1"> <i class="'+e+'caret"></i></button></div>'},postRender:function(){var t=this,e=t.settings.onclick;return t.on("click",(function(n){n.aria&&"down"===n.aria.key||n.control!==t||rn.getParent(n.target,"."+t.classPrefix+"open")||(n.stopImmediatePropagation(),e.call(t,n))})),delete t.settings.onclick,t._super()}}),sn=tinymce.util.Tools.resolve("tinymce.util.Color"),an=Me.extend({Defaults:{classes:"widget colorpicker"},init:function(t){this._super(t)},postRender:function(){var t,e,n,i,r,o=this,s=o.color();function a(t,e){var n,i,r=kt.getPos(t);return n=e.pageX-r.x,i=e.pageY-r.y,{x:n=Math.max(0,Math.min(n/t.clientWidth,1)),y:i=Math.max(0,Math.min(i/t.clientHeight,1))}}function l(t,e){var s=(360-t.h)/360;kt.css(n,{top:100*s+"%"}),e||kt.css(r,{left:t.s+"%",top:100-t.v+"%"}),i.style.background=sn({s:100,v:100,h:t.h}).toHex(),o.color().parse({s:t.s,v:t.v,h:t.h})}function u(e){var n;n=a(i,e),t.s=100*n.x,t.v=100*(1-n.y),l(t),o.fire("change")}function c(n){var i;i=a(e,n),(t=s.toHsv()).h=360*(1-i.y),l(t,!0),o.fire("change")}e=o.getEl("h"),n=o.getEl("hp"),i=o.getEl("sv"),r=o.getEl("svp"),o._repaint=function(){l(t=s.toHsv())},o._super(),o._svdraghelper=new de(o._id+"-sv",{start:u,drag:u}),o._hdraghelper=new de(o._id+"-h",{start:c,drag:c}),o._repaint()},rgb:function(){return this.color().toRgb()},value:function(t){var e=this;if(!arguments.length)return e.color().toHex();e.color().parse(t),e._rendered&&e._repaint()},color:function(){return this._color||(this._color=sn()),this._color},renderHtml:function(){var t,e=this._id,n=this.classPrefix,i="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000";return t='<div id="'+e+'-h" class="'+n+'colorpicker-h" style="background: -ms-linear-gradient(top,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);background: linear-gradient(to bottom,#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000);">'+function(){var t,e,r,o,s="";for(r="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",t=0,e=(o=i.split(",")).length-1;t<e;t++)s+='<div class="'+n+'colorpicker-h-chunk" style="height:'+100/e+"%;"+r+o[t]+",endColorstr="+o[t+1]+");-ms-"+r+o[t]+",endColorstr="+o[t+1]+')"></div>';return s}()+'<div id="'+e+'-hp" class="'+n+'colorpicker-h-marker"></div></div>','<div id="'+e+'" class="'+this.classes+'"><div id="'+e+'-sv" class="'+n+'colorpicker-sv"><div class="'+n+'colorpicker-overlay1"><div class="'+n+'colorpicker-overlay2"><div id="'+e+'-svp" class="'+n+'colorpicker-selector1"><div class="'+n+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}}),ln=Me.extend({init:function(t){t=i.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},t),this._super(t),this.classes.add("dropzone"),t.multiple&&this.classes.add("multiple")},renderHtml:function(){var t,e,n=this.settings;return t={id:this._id,hidefocus:"1"},e=kt.create("div",t,"<span>"+this.translate(n.text)+"</span>"),n.height&&kt.css(e,"height",n.height+"px"),n.width&&kt.css(e,"width",n.width+"px"),e.className=this.classes,e.outerHTML},postRender:function(){var t=this,e=function(e){e.preventDefault(),t.classes.toggle("dragenter"),t.getEl().className=t.classes};t._super(),t.$el.on("dragover",(function(t){t.preventDefault()})),t.$el.on("dragenter",e),t.$el.on("dragleave",e),t.$el.on("drop",(function(e){if(e.preventDefault(),!t.state.get("disabled")){var n=function(e){var n=t.settings.accept;if("string"!=typeof n)return e;var r=new RegExp("("+n.split(/\s*,\s*/).join("|")+")$","i");return i.grep(e,(function(t){return r.test(t.name)}))}(e.dataTransfer.files);t.value=function(){return n.length?t.settings.multiple?n:n[0]:null},n.length&&t.fire("change",e)}}))},remove:function(){this.$el.off(),this._super()}}),un=Me.extend({init:function(t){var e=this;t.delimiter||(t.delimiter="Â»"),e._super(t),e.classes.add("path"),e.canFocus=!0,e.on("click",(function(t){var n;(n=t.target.getAttribute("data-index"))&&e.fire("select",{value:e.row()[n],index:n})})),e.row(e.settings.row)},focus:function(){return this.getEl().firstChild.focus(),this},row:function(t){return arguments.length?(this.state.set("row",t),this):this.state.get("row")},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'">'+this._getDataPathHtml(this.state.get("row"))+"</div>"},bindStates:function(){var t=this;return t.state.on("change:row",(function(e){t.innerHtml(t._getDataPathHtml(e.value))})),t._super()},_getDataPathHtml:function(t){var e,n,i=t||[],r="",o=this.classPrefix;for(e=0,n=i.length;e<n;e++)r+=(e>0?'<div class="'+o+'divider" aria-hidden="true"> '+this.settings.delimiter+" </div>":"")+'<div role="button" class="'+o+"path-item"+(e===n-1?" "+o+"last":"")+'" data-index="'+e+'" tabindex="-1" id="'+this._id+"-"+e+'" aria-level="'+(e+1)+'">'+i[e].name+"</div>";return r||(r='<div class="'+o+'path-item">Â </div>'),r}}),cn=un.extend({postRender:function(){var t=this,e=t.settings.editor;function n(t){if(1===t.nodeType){if("BR"===t.nodeName||t.getAttribute("data-mce-bogus"))return!0;if("bookmark"===t.getAttribute("data-mce-type"))return!0}return!1}return!1!==e.settings.elementpath&&(t.on("select",(function(t){e.focus(),e.selection.select(this.row()[t.index].element),e.nodeChanged()})),e.on("nodeChange",(function(i){for(var r=[],o=i.parents,s=o.length;s--;)if(1===o[s].nodeType&&!n(o[s])){var a=e.fire("ResolveName",{name:o[s].nodeName.toLowerCase(),target:o[s]});if(a.isDefaultPrevented()||r.push({name:a.name,element:o[s]}),a.isPropagationStopped())break}t.row(r)}))),t._super()}}),fn=ce.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var t=this._layout,e=this.classPrefix;return this.classes.add("formitem"),t.preRender(this),'<div id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<div id="'+this._id+'-title" class="'+e+'title">'+this.settings.title+"</div>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+t.renderHtml(this)+"</div></div>"}}),dn=ce.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var t=this,e=t.items();t.settings.formItemDefaults||(t.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),e.each((function(e){var n,r=e.settings.label;r&&((n=new fn(i.extend({items:{type:"label",id:e._id+"-l",text:r,flex:0,forId:e._id,disabled:e.disabled()}},t.settings.formItemDefaults))).type="formitem",e.aria("labelledby",e._id+"-l"),void 0===e.settings.flex&&(e.settings.flex=1),t.replace(e,n),n.add(e))}))},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){this._super(),this.fromJSON(this.settings.data)},bindStates:function(){var t=this;function e(){var e,n,i=0,r=[];if(!1!==t.settings.labelGapCalc)for(("children"===t.settings.labelGapCalc?t.find("formitem"):t.items()).filter("formitem").each((function(t){var e=t.items()[0],n=e.getEl().clientWidth;i=n>i?n:i,r.push(e)})),n=t.settings.labelGap||0,e=r.length;e--;)r[e].settings.minWidth=i+n}t._super(),t.on("show",e),e()}}),hn=dn.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var t=this._layout,e=this.classPrefix;return this.preRender(),t.preRender(this),'<fieldset id="'+this._id+'" class="'+this.classes+'" hidefocus="1" tabindex="-1">'+(this.settings.title?'<legend id="'+this._id+'-title" class="'+e+'fieldset-title">'+this.settings.title+"</legend>":"")+'<div id="'+this._id+'-body" class="'+this.bodyClasses+'">'+(this.settings.html||"")+t.renderHtml(this)+"</div></fieldset>"}}),pn=0,mn=function(t){var e=(new Date).getTime();return t+"_"+Math.floor(1e9*Math.random())+ ++pn+String(e)},gn=function(t){if(null==t)throw new Error("Node cannot be null or undefined");return{dom:C.constant(t)}},vn={fromHtml:function(t,e){var n=(e||document).createElement("div");if(n.innerHTML=t,!n.hasChildNodes()||n.childNodes.length>1)throw console.error("HTML does not have a single root node",t),"HTML must have a single root node";return gn(n.childNodes[0])},fromTag:function(t,e){var n=(e||document).createElement(t);return gn(n)},fromText:function(t,e){var n=(e||document).createTextNode(t);return gn(n)},fromDom:gn,fromPoint:function(t,e,n){return N.from(t.dom().elementFromPoint(e,n)).map(gn)}},yn=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(null,arguments)),e}},bn=9,xn=1,wn=3,_n=function(t){return t.dom().nodeType},Cn=function(t){return function(e){return _n(e)===t}},kn=(Cn(xn),Cn(wn),Cn(bn),yn((function(){return kn(vn.fromDom(document))})),function(t){var e=t.dom().body;if(null==e)throw"Body is not available yet";return vn.fromDom(e)}),Sn=void 0===(qe=Object.keys)?function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}:qe,Tn=function(t,e){for(var n=Sn(t),i=0,r=n.length;i<r;i++){var o=n[i];e(t[o],o,t)}},En=function(t,e){var n={};return Tn(t,(function(i,r){var o=e(i,r,t);n[o.k]=o.v})),n},Dn=function(t,e){var n=[];return Tn(t,(function(t,i){n.push(e(t,i))})),n},Nn=function(t){return Dn(t,(function(t){return t}))},An={bifilter:function(t,e){var n={},i={};return Tn(t,(function(t,r){(e(t,r)?n:i)[r]=t})),{t:n,f:i}},each:Tn,map:function(t,e){return En(t,(function(t,n,i){return{k:n,v:e(t,n,i)}}))},mapToArray:Dn,tupleMap:En,find:function(t,e){for(var n=Sn(t),i=0,r=n.length;i<r;i++){var o=n[i],s=t[o];if(e(s,o,t))return N.some(s)}return N.none()},keys:Sn,values:Nn,size:function(t){return Nn(t).length}},Pn=function(t){return t.slice(0).sort()},On=function(t,e){throw new Error("All required keys ("+Pn(t).join(", ")+") were not specified. Specified keys were: "+Pn(e).join(", ")+".")},In=function(t){throw new Error("Unsupported keys for object: "+Pn(t).join(", "))},Mn=function(t,e){if(!j.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");et.each(e,(function(e){if(!j.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")}))},Bn=function(t){var e=Pn(t);et.find(e,(function(t,n){return n<e.length-1&&t===e[n+1]})).each((function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")}))},Rn={immutable:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var i={};return et.each(t,(function(t,n){i[t]=C.constant(e[n])})),i}},immutableBag:function(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Mn("required",t),Mn("optional",e),Bn(n),function(i){var r=An.keys(i);et.forall(t,(function(t){return et.contains(r,t)}))||On(t,r);var o=et.filter(r,(function(t){return!et.contains(n,t)}));o.length>0&&In(o);var s={};return et.each(t,(function(t){s[t]=C.constant(i[t])})),et.each(e,(function(t){s[t]=C.constant(Object.prototype.hasOwnProperty.call(i,t)?N.some(i[t]):N.none())})),s}}},Ln=("undefined"!=typeof window?window:Function("return this;")(),function(){return Fn(0,0)}),Fn=function(t,e){return{major:t,minor:e}},Hn={nu:Fn,detect:function(t,e){var n=String(e).toLowerCase();return 0===t.length?Ln():function(t,e){var n=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(i.test(e))return i}}(t,e);if(!n)return{major:0,minor:0};var i=function(t){return Number(e.replace(n,"$"+t))};return Fn(i(1),i(2))}(t,n)},unknown:Ln},zn=function(t,e){return function(){return e===t}},jn=function(t){var e=t.current;return{current:e,version:t.version,isEdge:zn("Edge",e),isChrome:zn("Chrome",e),isIE:zn("IE",e),isOpera:zn("Opera",e),isFirefox:zn("Firefox",e),isSafari:zn("Safari",e)}},Wn={unknown:function(){return jn({current:void 0,version:Hn.unknown()})},nu:jn,edge:C.constant("Edge"),chrome:C.constant("Chrome"),ie:C.constant("IE"),opera:C.constant("Opera"),firefox:C.constant("Firefox"),safari:C.constant("Safari")},$n=function(t,e){return function(){return e===t}},qn=function(t){var e=t.current;return{current:e,version:t.version,isWindows:$n("Windows",e),isiOS:$n("iOS",e),isAndroid:$n("Android",e),isOSX:$n("OSX",e),isLinux:$n("Linux",e),isSolaris:$n("Solaris",e),isFreeBSD:$n("FreeBSD",e)}},Un={unknown:function(){return qn({current:void 0,version:Hn.unknown()})},nu:qn,windows:C.constant("Windows"),ios:C.constant("iOS"),android:C.constant("Android"),linux:C.constant("Linux"),osx:C.constant("OSX"),solaris:C.constant("Solaris"),freebsd:C.constant("FreeBSD")},Vn=function(t,e){var n=String(e).toLowerCase();return et.find(t,(function(t){return t.search(n)}))},Yn=function(t,e){return Vn(t,e).map((function(t){var n=Hn.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Xn=function(t,e){return Vn(t,e).map((function(t){var n=Hn.detect(t.versionRegexes,e);return{current:t.name,version:n}}))},Gn=function(t,e){return-1!==t.indexOf(e)},Kn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Jn=function(t){return function(e){return Gn(e,t)}},Qn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Gn(t,"edge/")&&Gn(t,"chrome")&&Gn(t,"safari")&&Gn(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Kn],search:function(t){return Gn(t,"chrome")&&!Gn(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Gn(t,"msie")||Gn(t,"trident")}},{name:"Opera",versionRegexes:[Kn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Jn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Jn("firefox")},{name:"Safari",versionRegexes:[Kn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Gn(t,"safari")||Gn(t,"mobile/"))&&Gn(t,"applewebkit")}}],Zn=[{name:"Windows",search:Jn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Gn(t,"iphone")||Gn(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Jn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Jn("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Jn("linux"),versionRegexes:[]},{name:"Solaris",search:Jn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Jn("freebsd"),versionRegexes:[]}],ti={browsers:C.constant(Qn),oses:C.constant(Zn)},ei=function(t){var e=ti.browsers(),n=ti.oses(),i=Yn(e,t).fold(Wn.unknown,Wn.nu),r=Xn(n,t).fold(Un.unknown,Un.nu),o=function(t,e,n){var i=t.isiOS()&&!0===/ipad/i.test(n),r=t.isiOS()&&!i,o=t.isAndroid()&&3===t.version.major,s=t.isAndroid()&&4===t.version.major,a=i||o||s&&!0===/mobile/i.test(n),l=t.isiOS()||t.isAndroid(),u=l&&!a,c=e.isSafari()&&t.isiOS()&&!1===/safari/i.test(n);return{isiPad:C.constant(i),isiPhone:C.constant(r),isTablet:C.constant(a),isPhone:C.constant(u),isTouch:C.constant(l),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:C.constant(c)}}(r,i,t);return{browser:i,os:r,deviceType:o}},ni=yn((function(){var t=navigator.userAgent;return ei(t)})),ii=xn,ri=bn,oi=function(t){return t.nodeType!==ii&&t.nodeType!==ri||0===t.childElementCount},si={all:function(t,e){var n=void 0===e?document:e.dom();return oi(n)?[]:et.map(n.querySelectorAll(t),vn.fromDom)},is:function(t,e){var n=t.dom();if(n.nodeType!==ii)return!1;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},one:function(t,e){var n=void 0===e?document:e.dom();return oi(n)?N.none():N.from(n.querySelector(t)).map(vn.fromDom)}},ai=(ni().browser.isIE(),Rn.immutable("element","offset"),function(t,e){return si.all(e,t)}),li=i.trim,ui=function(t){return function(e){if(e&&1===e.nodeType){if(e.contentEditable===t)return!0;if(e.getAttribute("data-mce-contenteditable")===t)return!0}return!1}},ci=ui("true"),fi=ui("false"),di=function(t,e,n,i,r){return{type:t,title:e,url:n,level:i,attach:r}},hi=function(t){return t.innerText||t.textContent},pi=function(t){return function(t){return t&&"A"===t.nodeName&&(t.id||t.name)}(t)&&gi(t)},mi=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},gi=function(t){return function(t){for(;t=t.parentNode;){var e=t.contentEditable;if(e&&"inherit"!==e)return ci(t)}return!1}(t)&&!fi(t)},vi=function(t){return mi(t)&&gi(t)},yi=function(t){var e=function(t){return t.id?t.id:mn("h")}(t);return di("header",hi(t),"#"+e,function(t){return mi(t)?parseInt(t.nodeName.substr(1),10):0}(t),(function(){t.id=e}))},bi=function(t){var e=t.id||t.name,n=hi(t);return di("anchor",n||"#"+e,"#"+e,0,C.noop)},xi=function(t){var e,n;return e="h1,h2,h3,h4,h5,h6,a:not([href])",n=t,et.map(ai(vn.fromDom(n),e),(function(t){return t.dom()}))},wi=function(t){return li(t.title).length>0},_i=function(t){var e=xi(t);return et.filter(function(t){return et.map(et.filter(t,vi),yi)}(e).concat(function(t){return et.map(et.filter(t,pi),bi)}(e)),wi)},Ci={},ki=function(t){return{title:t.title,value:{title:{raw:t.title},url:t.url,attach:t.attach}}},Si=function(t,e){return{title:t,value:{title:t,url:e,attach:C.noop}}},Ti=function(t,e,n){var i=e in t?t[e]:n;return!1===i?null:i},Ei=function(t,e,n,r){var o,s={title:"-"},a=function(t){var r=t.hasOwnProperty(n)?t[n]:[],o=et.filter(r,(function(t){return function(t,e){return!et.exists(e,(function(e){return e.url===t}))}(t,e)}));return i.map(o,(function(t){return{title:t,value:{title:t,url:t,attach:C.noop}}}))},l=function(t){return function(t){return i.map(t,ki)}(et.filter(e,(function(e){return e.type===t})))};return!1===r.typeahead_urls?[]:"file"===n?(o=[Di(t,a(Ci)),Di(t,l("header")),Di(t,function(){var t=l("anchor"),e=Ti(r,"anchor_top","#top"),n=Ti(r,"anchor_bottom","#bottom");return null!==e&&t.unshift(Si("<top>",e)),null!==n&&t.push(Si("<bottom>",n)),t}())],et.foldl(o,(function(t,e){return 0===t.length||0===e.length?t.concat(e):t.concat(s,e)}),[])):Di(t,a(Ci))},Di=function(t,e){var n=t.toLowerCase(),r=i.grep(e,(function(t){return-1!==t.title.toLowerCase().indexOf(n)}));return 1===r.length&&r[0].title===t?[]:r},Ni=function(t,e,n,i){var r=function(r){var o=_i(n),s=Ei(r,o,i,e);t.showAutoComplete(s,r)};t.on("autocomplete",(function(){r(t.value())})),t.on("selectitem",(function(e){var n=e.value;t.value(n.url);var r=function(t){var e=t.title;return e.raw?e.raw:e}(n);"image"===i?t.fire("change",{meta:{alt:r,attach:n.attach}}):t.fire("change",{meta:{text:r,attach:n.attach}}),t.focus()})),t.on("click",(function(e){0===t.value().length&&"INPUT"===e.target.nodeName&&r("")})),t.on("PostRender",(function(){t.getRoot().on("submit",(function(e){e.isDefaultPrevented()||function(t,e){var n=Ci[e];/^https?/.test(t)&&(n?et.indexOf(n,t).isNone()&&(Ci[e]=n.slice(0,5).concat(t)):Ci[e]=[t])}(t.value(),i)}))}))},Ai=function(t,e,n){var i=e.filepicker_validator_handler;i&&t.state.on("change:value",(function(e){var r;0!==(r=e.value).length?i({url:r,type:n},(function(e){var n=function(t){var e=t.status,n=t.message;return"valid"===e?{status:"ok",message:n}:"unknown"===e?{status:"warn",message:n}:"invalid"===e?{status:"warn",message:n}:{status:"none",message:""}}(e);t.statusMessage(n.message),t.statusLevel(n.status)})):t.statusLevel("none")}))},Pi=tn.extend({Statics:{clearHistory:function(){Ci={}}},init:function(t){var e,r,o,s=this,a=window.tinymce?window.tinymce.activeEditor:n.activeEditor,l=a.settings,u=t.filetype;t.spellcheck=!1,(o=l.file_picker_types||l.file_browser_callback_types)&&(o=i.makeMap(o,/[, ]/)),o&&!o[u]||(!(r=l.file_picker_callback)||o&&!o[u]?!(r=l.file_browser_callback)||o&&!o[u]||(e=function(){r(s.getEl("inp").id,s.value(),u,window)}):e=function(){var t=s.fire("beforecall").meta;t=i.extend({filetype:u},t),r.call(a,(function(t,e){s.value(t).fire("change",{meta:e})}),s.value(),t)}),e&&(t.icon="browse",t.onaction=e),s._super(t),s.classes.add("filepicker"),Ni(s,l,a.getBody(),u),Ai(s,l,u)}}),Oi=Xe.extend({recalc:function(t){var e=t.layoutRect(),n=t.paddingBox;t.items().filter(":visible").each((function(t){t.layoutRect({x:n.left,y:n.top,w:e.innerW-n.right-n.left,h:e.innerH-n.top-n.bottom}),t.recalc&&t.recalc()}))}}),Ii=Xe.extend({recalc:function(t){var e,n,i,r,o,s,a,l,u,c,f,d,h,p,m,g,v,y,b,x,w,_,C,k,S,T,E,D,N,A,P,O,I,M,B,R,L,F=[],H=Math.max,z=Math.min;for(i=t.items().filter(":visible"),r=t.layoutRect(),o=t.paddingBox,s=t.settings,d=t.isRtl()?s.direction||"row-reversed":s.direction,a=s.align,l=t.isRtl()?s.pack||"end":s.pack,u=s.spacing||0,"row-reversed"!==d&&"column-reverse"!==d||(i=i.set(i.toArray().reverse()),d=d.split("-")[0]),"column"===d?(k="y",_="h",C="minH",S="maxH",E="innerH",T="top",D="deltaH",N="contentH",M="left",O="w",A="x",P="innerW",I="minW",B="right",R="deltaW",L="contentW"):(k="x",_="w",C="minW",S="maxW",E="innerW",T="left",D="deltaW",N="contentW",M="top",O="h",A="y",P="innerH",I="minH",B="bottom",R="deltaH",L="contentH"),f=r[E]-o[T]-o[T],w=c=0,e=0,n=i.length;e<n;e++)p=(h=i[e]).layoutRect(),f-=e<n-1?u:0,(m=h.settings.flex)>0&&(c+=m,p[S]&&F.push(h),p.flex=m),f-=p[C],(g=o[M]+p[I]+o[B])>w&&(w=g);if((b={})[C]=f<0?r[C]-f+r[D]:r[E]-f+r[D],b[I]=w+r[R],b[N]=r[E]-f,b[L]=w,b.minW=z(b.minW,r.maxW),b.minH=z(b.minH,r.maxH),b.minW=H(b.minW,r.startMinWidth),b.minH=H(b.minH,r.startMinHeight),!r.autoResize||b.minW===r.minW&&b.minH===r.minH){for(y=f/c,e=0,n=F.length;e<n;e++)v=(p=(h=F[e]).layoutRect())[S],(g=p[C]+p.flex*y)>v?(f-=p[S]-p[C],c-=p.flex,p.flex=0,p.maxFlexSize=v):p.maxFlexSize=0;for(y=f/c,x=o[T],b={},0===c&&("end"===l?x=f+o[T]:"center"===l?(x=Math.round(r[E]/2-(r[E]-f)/2)+o[T])<0&&(x=o[T]):"justify"===l&&(x=o[T],u=Math.floor(f/(i.length-1)))),b[A]=o[M],e=0,n=i.length;e<n;e++)g=(p=(h=i[e]).layoutRect()).maxFlexSize||p[C],"center"===a?b[A]=Math.round(r[P]/2-p[O]/2):"stretch"===a?(b[O]=H(p[I]||0,r[P]-o[M]-o[B]),b[A]=o[M]):"end"===a&&(b[A]=r[P]-p[O]-o.top),p.flex>0&&(g+=p.flex*y),b[_]=g,b[k]=x,h.layoutRect(b),h.recalc&&h.recalc(),x+=g+u}else if(b.w=b.minW,b.h=b.minH,t.layoutRect(b),this.recalc(t),null===t._lastRect){var j=t.parent();j&&(j._lastRect=null,j.recalc())}}}),Mi=Ye.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(t){t.items().filter(":visible").each((function(t){t.recalc&&t.recalc()}))},isNative:function(){return!0}}),Bi=function(t,e){return si.one(e,t)},Ri=function(t,e){return function(){t.execCommand("mceToggleFormat",!1,e)}},Li=function(t,e,n){var i=function(t){n(t,e)};t.formatter?t.formatter.formatChanged(e,i):t.on("init",(function(){t.formatter.formatChanged(e,i)}))},Fi=function(t,e){return function(n){Li(t,e,(function(t){n.control.active(t)}))}},Hi=function(t){var e=["alignleft","aligncenter","alignright","alignjustify"],n=[{text:"Left",icon:"alignleft",onclick:Ri(t,"alignleft")},{text:"Center",icon:"aligncenter",onclick:Ri(t,"aligncenter")},{text:"Right",icon:"alignright",onclick:Ri(t,"alignright")},{text:"Justify",icon:"alignjustify",onclick:Ri(t,"alignjustify")}];t.addMenuItem("align",{text:"Align",menu:n}),t.addButton("align",{type:"menubutton",icon:"alignleft",menu:n,onShowMenu:function(n){var r=n.control.menu;i.each(e,(function(e,n){r.items().eq(n).each((function(n){return n.active(t.formatter.match(e))}))}))},onPostRender:function(n){var r=n.control;i.each(e,(function(e,n){Li(t,e,(function(t){r.icon("alignleft"),t&&r.icon(e)}))}))}}),i.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},(function(e,n){t.addButton(n,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Fi(t,n)})}))},zi=function(t){return t?t.split(",")[0]:""},ji=function(t,e){return function(){var n=this;t.on("init nodeChange",(function(r){var o=t.queryCommandValue("FontName"),s=function(t,e){var n,r=e?e.toLowerCase():"";return i.each(t,(function(t){t.value.toLowerCase()===r&&(n=t.value)})),i.each(t,(function(t){n||zi(t.value).toLowerCase()!==zi(r).toLowerCase()||(n=t.value)})),n}(e,o);n.value(s||null),!s&&o&&n.text(zi(o))}))}},Wi=function(t){t.addButton("fontselect",(function(){var e=function(t){var e=function(t){for(var e=(t=t.replace(/;$/,"").split(";")).length;e--;)t[e]=t[e].split("=");return t}(t.settings.font_formats||"Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats");return i.map(e,(function(t){return{text:{raw:t[0]},value:t[1],textStyle:-1===t[1].indexOf("dings")?"font-family:"+t[1]:""}}))}(t);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:e,fixedWidth:!0,onPostRender:ji(t,e),onselect:function(e){e.control.settings.value&&t.execCommand("FontName",!1,e.control.settings.value)}}}))},$i=function(t){Wi(t)},qi=function(t,e){return/[0-9.]+px$/.test(t)?function(t,e){var n=Math.pow(10,e);return Math.round(t*n)/n}(72*parseInt(t,10)/96,e||0)+"pt":t},Ui=function(t,e,n){var r;return i.each(t,(function(t){t.value===n?r=n:t.value===e&&(r=e)})),r},Vi=function(t,e){return function(){var n=this;t.on("init nodeChange",(function(i){var r,o,s,a;if(r=t.queryCommandValue("FontSize"))for(s=3;!a&&s>=0;s--)o=qi(r,s),a=Ui(e,o,r);n.value(a||null),a||n.text(o)}))}},Yi=function(t){t.addButton("fontsizeselect",(function(){var e=function(t){var e=t.settings.fontsize_formats||"8pt 10pt 12pt 14pt 18pt 24pt 36pt";return i.map(e.split(" "),(function(t){var e=t,n=t,i=t.split("=");return i.length>1&&(e=i[0],n=i[1]),{text:e,value:n}}))}(t);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:e,fixedWidth:!0,onPostRender:Vi(t,e),onclick:function(e){e.control.settings.value&&t.execCommand("FontSize",!1,e.control.settings.value)}}}))},Xi=function(t){Yi(t)},Gi=function(t,e){var n=e.length;return i.each(e,(function(e){e.menu&&(e.hidden=0===Gi(t,e.menu));var i=e.format;i&&(e.hidden=!t.formatter.canApply(i)),e.hidden&&n--})),n},Ki=function(t,e){var n=e.items().length;return e.items().each((function(e){e.menu&&e.visible(Ki(t,e.menu)>0),!e.menu&&e.settings.menu&&e.visible(Gi(t,e.settings.menu)>0);var i=e.settings.format;i&&e.visible(t.formatter.canApply(i)),e.visible()||n--})),n},Ji=function(t){var e=function(t){var e=0,n=[],r=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],o=function(t){var r=[];if(t)return i.each(t,(function(t){var i={text:t.title,icon:t.icon};if(t.items)i.menu=o(t.items);else{var s=t.format||"custom"+e++;t.format||(t.name=s,n.push(t)),i.format=s,i.cmd=t.cmd}r.push(i)})),r};return t.on("init",(function(){i.each(n,(function(e){t.formatter.register(e.name,e)}))})),{type:"menu",items:t.settings.style_formats_merge?t.settings.style_formats?o(r.concat(t.settings.style_formats)):o(r):o(t.settings.style_formats||r),onPostRender:function(e){t.fire("renderFormatsMenu",{control:e.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return t.formatter.getCssText(this.settings.format)},onPostRender:function(){var e=this;e.parent().on("show",(function(){var n,i;(n=e.settings.format)&&(e.disabled(!t.formatter.canApply(n)),e.active(t.formatter.match(n))),(i=e.settings.cmd)&&e.active(t.queryCommandState(i))}))},onclick:function(){this.settings.format&&Ri(t,this.settings.format)(),this.settings.cmd&&t.execCommand(this.settings.cmd)}}}}(t);!function(t,e){t.addMenuItem("formats",{text:"Formats",menu:e})}(t,e),function(t,e){t.addButton("styleselect",{type:"menubutton",text:"Formats",menu:e,onShowMenu:function(){t.settings.style_formats_autohide&&Ki(t,this.menu)}})}(t,e)},Qi=function(t,e,n){return function(){var r=this;t.on("nodeChange",(function(o){var s=t.formatter,a=null;i.each(o.parents,(function(t){if(i.each(e,(function(e){if(n?s.matchNode(t,n,{value:e.value})&&(a=e.value):s.matchNode(t,e.value)&&(a=e.value),a)return!1})),a)return!1})),r.value(a)}))}},Zi=function(t,e){return i.map(e,(function(e){return{text:e[0],onclick:Ri(t,e[1]),textStyle:function(){return t.formatter.getCssText(e[1])}}}))},tr=function(t){var e=function(t){for(var e=(t=t.replace(/;$/,"").split(";")).length;e--;)t[e]=t[e].split("=");return t}(t.settings.block_formats||"Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre");t.addMenuItem("blockformats",{text:"Blocks",menu:Zi(t,e)}),t.addButton("formatselect",function(t,e){return function(){var n=[];return i.each(e,(function(e){n.push({text:e[0],value:e[1],textStyle:function(){return t.formatter.getCssText(e[1])}})})),{type:"listbox",text:e[0][0],values:n,fixedWidth:!0,onselect:function(e){if(e.control){var n=e.control.value();Ri(t,n)()}},onPostRender:Qi(t,n)}}}(t,e))},er=function(t,e){var n,r;if("string"==typeof e)r=e.split(" ");else if(i.isArray(e))return et.flatten(i.map(e,(function(e){return er(t,e)})));return n=i.grep(r,(function(e){return"|"===e||e in t.menuItems})),i.map(n,(function(e){return"|"===e?{text:"-"}:t.menuItems[e]}))},nr=function(t){return t&&"-"===t.text},ir=function(t){var e=et.filter(t,(function(t,e,n){return!nr(t)||!nr(n[e-1])}));return et.filter(e,(function(t,e,n){return!nr(t)||e>0&&e<n.length-1}))},rr=function(t){var e=t.settings.insert_button_items;return ir(e?er(t,e):function(t,e){var n=[{text:"-"}],r=i.grep(t.menuItems,(function(t){return t.context===e}));return i.each(r,(function(t){"before"===t.separator&&n.push({text:"|"}),t.prependToContext?n.unshift(t):n.push(t),"after"===t.separator&&n.push({text:"|"})})),n}(t,"insert"))},or=function(t){!function(t){t.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(rr(t)),this.menu.renderNew()}})}(t)},sr=function(t){!function(t){i.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},(function(e,n){t.addButton(n,{active:!1,tooltip:e,onPostRender:Fi(t,n),onclick:Ri(t,n)})}))}(t),function(t){i.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},(function(e,n){t.addButton(n,{tooltip:e[0],cmd:e[1]})}))}(t),function(t){i.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},(function(e,n){t.addButton(n,{active:!1,tooltip:e[0],cmd:e[1],onPostRender:Fi(t,n)})}))}(t)},ar=function(t){sr(t),function(t){i.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},(function(e,n){t.addMenuItem(n,{text:e[0],icon:n,shortcut:e[2],cmd:e[1]})})),t.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:Ri(t,"code")})}(t)},lr=function(t,e){return function(){var n=this,i=function(){var n="redo"===e?"hasRedo":"hasUndo";return!!t.undoManager&&t.undoManager[n]()};n.disabled(!i()),t.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",(function(){n.disabled(t.readonly||!i())}))}},ur=function(t){!function(t){t.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:lr(t,"undo"),cmd:"undo"}),t.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:lr(t,"redo"),cmd:"redo"})}(t),function(t){t.addButton("undo",{tooltip:"Undo",onPostRender:lr(t,"undo"),cmd:"undo"}),t.addButton("redo",{tooltip:"Redo",onPostRender:lr(t,"redo"),cmd:"redo"})}(t)},cr=function(t){return function(){var e=this;t.on("VisualAid",(function(t){e.active(t.hasVisual)})),e.active(t.hasVisual)}},fr=function(t){!function(t){t.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:cr(t),cmd:"mceToggleVisualAid"})}(t)},dr={setup:function(t){!function(t){t.rtl&&(se.rtl=!0)}(t),function(t){t.on("mousedown",(function(){Te.hideAll()}))}(t),function(t){t.settings.ui_container&&(dt.container=Bi(vn.fromDom(document.body),t.settings.ui_container).fold(C.constant(null),(function(t){return t.dom()})))}(t),Me.tooltips=!dt.iOS,se.translate=function(t){return n.translate(t)},tr(t),Hi(t),ar(t),ur(t),Xi(t),$i(t),Ji(t),fr(t),or(t)}},hr=Xe.extend({recalc:function(t){var e,n,i,r,o,s,a,l,u,c,f,d,h,p,m,g,v,y,b,x,w,_,C,k,S,T,E,D,N=[],A=[];e=t.settings,r=t.items().filter(":visible"),o=t.layoutRect(),i=e.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),y=e.spacingH||e.spacing||0,b=e.spacingV||e.spacing||0,x=e.alignH||e.align,w=e.alignV||e.align,g=t.paddingBox,D="reverseRows"in e?e.reverseRows:t.isRtl(),x&&"string"==typeof x&&(x=[x]),w&&"string"==typeof w&&(w=[w]);for(f=0;f<i;f++)N.push(0);for(d=0;d<n;d++)A.push(0);for(d=0;d<n;d++)for(f=0;f<i&&(c=r[d*i+f]);f++)k=(u=c.layoutRect()).minW,S=u.minH,N[f]=k>N[f]?k:N[f],A[d]=S>A[d]?S:A[d];for(T=o.innerW-g.left-g.right,_=0,f=0;f<i;f++)_+=N[f]+(f>0?y:0),T-=(f>0?y:0)+N[f];for(E=o.innerH-g.top-g.bottom,C=0,d=0;d<n;d++)C+=A[d]+(d>0?b:0),E-=(d>0?b:0)+A[d];if(_+=g.left+g.right,C+=g.top+g.bottom,(l={}).minW=_+(o.w-o.innerW),l.minH=C+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW===o.minW&&l.minH===o.minH){var P;o.autoResize&&((l=t.layoutRect(l)).contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH),P="start"===e.packV?0:E>0?Math.floor(E/n):0;var O=0,I=e.flexWidths;if(I)for(f=0;f<I.length;f++)O+=I[f];else O=i;var M=T/O;for(f=0;f<i;f++)N[f]+=I?I[f]*M:M;for(p=g.top,d=0;d<n;d++){for(h=g.left,a=A[d]+P,f=0;f<i&&(c=r[D?d*i+i-1-f:d*i+f]);f++)m=c.settings,u=c.layoutRect(),s=Math.max(N[f],u.startMinWidth),u.x=h,u.y=p,"center"===(v=m.alignH||(x?x[f]||x[0]:null))?u.x=h+s/2-u.w/2:"right"===v?u.x=h+s-u.w:"stretch"===v&&(u.w=s),"center"===(v=m.alignV||(w?w[f]||w[0]:null))?u.y=p+a/2-u.h/2:"bottom"===v?u.y=p+a-u.h:"stretch"===v&&(u.h=a),c.layoutRect(u),h+=s+y,c.recalc&&c.recalc();p+=a+b}}else if(l.w=l.minW,l.h=l.minH,t.layoutRect(l),this.recalc(t),null===t._lastRect){var B=t.parent();B&&(B._lastRect=null,B.recalc())}}}),pr=Me.extend({renderHtml:function(){return this.classes.add("iframe"),this.canFocus=!1,'<iframe id="'+this._id+'" class="'+this.classes+'" tabindex="-1" src="'+(this.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(t){this.getEl().src=t},html:function(t,e){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=t,e&&e()):b.setTimeout((function(){n.html(t)})),this}}),mr=Me.extend({init:function(t){this._super(t),this.classes.add("widget").add("infobox"),this.canFocus=!1},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},help:function(t){this.state.set("help",t)},renderHtml:function(){var t=this.classPrefix;return'<div id="'+this._id+'" class="'+this.classes+'"><div id="'+this._id+'-body">'+this.encode(this.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var t=this;return t.state.on("change:text",(function(e){t.getEl("body").firstChild.data=t.encode(e.value),t.state.get("rendered")&&t.updateLayoutRect()})),t.state.on("change:help",(function(e){t.classes.toggle("has-help",e.value),t.state.get("rendered")&&t.updateLayoutRect()})),t._super()}}),gr=Me.extend({init:function(t){this._super(t),this.classes.add("widget").add("label"),this.canFocus=!1,t.multiline&&this.classes.add("autoscroll"),t.strong&&this.classes.add("strong")},initLayoutRect:function(){var t=this._super();return this.settings.multiline&&(kt.getSize(this.getEl()).width>t.maxW&&(t.minW=t.maxW,this.classes.add("multiline")),this.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,kt.getSize(this.getEl()).height)),t},repaint:function(){return this.settings.multiline||(this.getEl().style.lineHeight=this.layoutRect().h+"px"),this._super()},severity:function(t){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(t)},renderHtml:function(){var t,e,n=this.settings.forId,i=this.settings.html?this.settings.html:this.encode(this.state.get("text"));return!n&&(e=this.settings.forName)&&(t=this.getRoot().find("#"+e)[0])&&(n=t._id),n?'<label id="'+this._id+'" class="'+this.classes+'"'+(n?' for="'+n+'"':"")+">"+i+"</label>":'<span id="'+this._id+'" class="'+this.classes+'">'+i+"</span>"},bindStates:function(){var t=this;return t.state.on("change:text",(function(e){t.innerHtml(t.encode(e.value)),t.state.get("rendered")&&t.updateLayoutRect()})),t._super()}}),vr=ce.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(t){this._super(t),this.classes.add("toolbar")},postRender:function(){return this.items().each((function(t){t.classes.add("toolbar-item")})),this._super()}}),yr=vr.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),br=Ge.extend({init:function(t){this._renderOpen=!0,this._super(t),t=this.settings,this.classes.add("menubtn"),t.fixedWidth&&this.classes.add("fixed-width"),this.aria("haspopup",!0),this.state.set("menu",t.menu||this.render())},showMenu:function(t){var e,n=this;if(n.menu&&n.menu.visible()&&!1!==t)return n.hideMenu();n.menu||(e=n.state.get("menu")||[],n.classes.add("opened"),e.length?e={type:"menu",animate:!0,items:e}:(e.type=e.type||"menu",e.animate=!0),e.renderTo?n.menu=e.parent(n).show().renderTo():n.menu=f.create(e).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",(function(t){t.control.parent()===n.menu&&(t.stopPropagation(),n.focus(),n.hideMenu())})),n.menu.on("select",(function(){n.focus()})),n.menu.on("show hide",(function(t){t.control===n.menu&&(n.activeMenu("show"===t.type),n.classes.toggle("opened","show"===t.type)),n.aria("expanded","show"===t.type)})).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]),n.fire("showmenu")},hideMenu:function(){this.menu&&(this.menu.items().each((function(t){t.hideMenu&&t.hideMenu()})),this.menu.hide())},activeMenu:function(t){this.classes.toggle("active",t)},renderHtml:function(){var t,e=this._id,n=this.classPrefix,i=this.settings.icon,r=this.state.get("text"),o="";return(t=this.settings.image)?(i="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",r&&(this.classes.add("btn-has-text"),o='<span class="'+n+'txt">'+this.encode(r)+"</span>"),i=this.settings.icon?n+"ico "+n+"i-"+i:"",this.aria("role",this.parent()instanceof yr?"menuitem":"button"),'<div id="'+e+'" class="'+this.classes+'" tabindex="-1" aria-labelledby="'+e+'"><button id="'+e+'-open" role="presentation" type="button" tabindex="-1">'+(i?'<i class="'+i+'"'+t+"></i>":"")+o+' <i class="'+n+'caret"></i></button></div>'},postRender:function(){var t=this;return t.on("click",(function(e){e.control===t&&function(t,e){for(;t;){if(e===t)return!0;t=t.parentNode}return!1}(e.target,t.getEl())&&(t.focus(),t.showMenu(!e.aria),e.aria&&t.menu.items().filter(":visible")[0].focus())})),t.on("mouseenter",(function(e){var n,i=e.control,r=t.parent();i&&r&&i instanceof br&&i.parent()===r&&(r.items().filter("MenuButton").each((function(t){t.hideMenu&&t!==i&&(t.menu&&t.menu.visible()&&(n=!0),t.hideMenu())})),n&&(i.focus(),i.showMenu()))})),t._super()},bindStates:function(){var t=this;return t.state.on("change:menu",(function(){t.menu&&t.menu.remove(),t.menu=null})),t._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),xr=Te.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(t){if(t.autohide=!0,t.constrainToViewport=!0,"function"==typeof t.items&&(t.itemsFactory=t.items,t.items=[]),t.itemDefaults)for(var e=t.items,n=e.length;n--;)e[n]=i.extend({},t.itemDefaults,e[n]);this._super(t),this.classes.add("menu"),t.animate&&11!==dt.ie&&this.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){this.hideAll(),this.fire("select")},load:function(){var t,e=this;function n(){e.throbber&&(e.throbber.hide(),e.throbber=null)}e.settings.itemsFactory&&(e.throbber||(e.throbber=new Ae(e.getEl("body"),!0),0===e.items().length?(e.throbber.show(),e.fire("loading")):e.throbber.show(100,(function(){e.items().remove(),e.fire("loading")})),e.on("hide close",n)),e.requestTime=t=(new Date).getTime(),e.settings.itemsFactory((function(i){0!==i.length?e.requestTime===t&&(e.getEl().style.width="",e.getEl("body").style.width="",n(),e.items().remove(),e.getEl("body").innerHTML="",e.add(i),e.renderNew(),e.fire("loaded")):e.hide()})))},hideAll:function(){return this.find("menuitem").exec("hideMenu"),this._super()},preRender:function(){var t=this;return t.items().each((function(e){var n=e.settings;if(n.icon||n.image||n.selectable)return t._hasIcons=!0,!1})),t.settings.itemsFactory&&t.on("postrender",(function(){t.settings.itemsFactory&&t.load()})),t.on("show hide",(function(e){e.control===t&&("show"===e.type?b.setTimeout((function(){t.classes.add("in")}),0):t.classes.remove("in"))})),t._super()}}),wr=br.extend({init:function(t){var e,n,i,r,o=this;o._super(t),t=o.settings,o._values=e=t.values,e&&(void 0!==t.value&&function e(r){for(var s=0;s<r.length;s++){if(n=r[s].selected||t.value===r[s].value)return i=i||r[s].text,o.state.set("value",r[s].value),!0;if(r[s].menu&&e(r[s].menu))return!0}}(e),!n&&e.length>0&&(i=e[0].text,o.state.set("value",e[0].value)),o.state.set("menu",e)),o.state.set("text",t.text||i),o.classes.add("listbox"),o.on("select",(function(e){var n=e.control;r&&(e.lastControl=r),t.multiple?n.active(!n.active()):o.value(e.control.value()),r=n}))},value:function(t){if(0===arguments.length)return this.state.get("value");if(void 0===t)return this;if(this.settings.values){var e=i.grep(this.settings.values,(function(e){return e.value===t}));e.length>0?this.state.set("value",t):null===t&&this.state.set("value",null)}else this.state.set("value",t);return this},bindStates:function(){var t=this;return t.on("show",(function(e){!function(t,e){t instanceof xr&&t.items().each((function(t){t.hasMenus()||t.active(t.value()===e)}))}(e.control,t.value())})),t.state.on("change:value",(function(e){var n=function t(e,n){var i;if(e)for(var r=0;r<e.length;r++){if(e[r].value===n)return e[r];if(e[r].menu&&(i=t(e[r].menu,n)))return i}}(t.state.get("menu"),e.value);n?t.text(n.text):t.text(t.settings.text)})),t._super()}}),_r=Me.extend({Defaults:{border:0,role:"menuitem"},init:function(t){var e;this._super(t),t=this.settings,this.classes.add("menu-item"),t.menu&&this.classes.add("menu-item-expand"),t.preview&&this.classes.add("menu-item-preview"),"-"!==(e=this.state.get("text"))&&"|"!==e||(this.classes.add("menu-item-sep"),this.aria("role","separator"),this.state.set("text","-")),t.selectable&&(this.aria("role","menuitemcheckbox"),this.classes.add("menu-item-checkbox"),t.icon="selected"),t.preview||t.selectable||this.classes.add("menu-item-normal"),this.on("mousedown",(function(t){t.preventDefault()})),t.menu&&!t.ariaHideMenu&&this.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var t,e=this,n=e.settings,i=e.parent();if(i.items().each((function(t){t!==e&&t.hideMenu()})),n.menu){(t=e.menu)?t.show():((t=n.menu).length?t={type:"menu",items:t}:t.type=t.type||"menu",i.settings.itemDefaults&&(t.itemDefaults=i.settings.itemDefaults),(t=e.menu=f.create(t).parent(e).renderTo()).reflow(),t.on("cancel",(function(n){n.stopPropagation(),e.focus(),t.hide()})),t.on("show hide",(function(t){t.control.items&&t.control.items().each((function(t){t.active(t.settings.selected)}))})).fire("show"),t.on("hide",(function(n){n.control===t&&e.classes.remove("selected")})),t.submenu=!0),t._parentMenu=i,t.classes.add("menu-sub");var r=t.testMoveRel(e.getEl(),e.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);t.moveRel(e.getEl(),r),t.rel=r,r="menu-sub-"+r,t.classes.remove(t._lastRel).add(r),t._lastRel=r,e.classes.add("selected"),e.aria("expanded",!0)}},hideMenu:function(){return this.menu&&(this.menu.items().each((function(t){t.hideMenu&&t.hideMenu()})),this.menu.hide(),this.aria("expanded",!1)),this},renderHtml:function(){var t,e=this._id,n=this.settings,i=this.classPrefix,r=this.state.get("text"),o=this.settings.icon,s="",a=n.shortcut,l=this.encode(n.url);function u(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function c(t){var e=n.match||"";return e?t.replace(new RegExp(u(e),"gi"),(function(t){return"!mce~match["+t+"]mce~match!"})):t}function f(t){return t.replace(new RegExp(u("!mce~match["),"g"),"<b>").replace(new RegExp(u("]mce~match!"),"g"),"</b>")}return o&&this.parent().classes.add("menu-has-icons"),n.image&&(s=" style=\"background-image: url('"+n.image+"')\""),a&&(a=function(t){var e,n,i={};for(i=dt.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},t=t.split("+"),e=0;e<t.length;e++)(n=i[t[e].toLowerCase()])&&(t[e]=n);return t.join("+")}(a)),o=i+"ico "+i+"i-"+(this.settings.icon||"none"),t="-"!==r?'<i class="'+o+'"'+s+"></i>Â ":"",r=f(this.encode(c(r))),l=f(this.encode(c(l))),'<div id="'+e+'" class="'+this.classes+'" tabindex="-1">'+t+("-"!==r?'<span id="'+e+'-text" class="'+i+'text">'+r+"</span>":"")+(a?'<div id="'+e+'-shortcut" class="'+i+'menu-shortcut">'+a+"</div>":"")+(n.menu?'<div class="'+i+'caret"></div>':"")+(l?'<div class="'+i+'menu-item-link">'+l+"</div>":"")+"</div>"},postRender:function(){var t=this,e=t.settings,n=e.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=t.getEl("text");i&&(i.setAttribute("style",n),t._textStyle=n)}return t.on("mouseenter click",(function(n){n.control===t&&(e.menu||"click"!==n.type?(t.showMenu(),n.aria&&t.menu.focus(!0)):(t.fire("select"),b.requestAnimationFrame((function(){t.parent().hideAll()}))))})),t._super(),t},hover:function(){return this.parent().items().each((function(t){t.classes.remove("selected")})),this.classes.toggle("selected",!0),this},active:function(t){return function(t,e){var n=t._textStyle;if(n){var i=t.getEl("text");i.setAttribute("style",n),e&&(i.style.color="",i.style.backgroundColor="")}}(this,t),void 0!==t&&this.aria("checked",t),this._super(t)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Cr=Qe.extend({Defaults:{classes:"radio",role:"radio"}}),kr=Me.extend({renderHtml:function(){var t=this.classPrefix;return this.classes.add("resizehandle"),"both"===this.settings.direction&&this.classes.add("resizehandle-both"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var t=this;t._super(),t.resizeDragHelper=new de(this._id,{start:function(){t.fire("ResizeStart")},drag:function(e){"both"!==t.settings.direction&&(e.deltaX=0),t.fire("Resize",e)},stop:function(){t.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}});function Sr(t){var e="";if(t)for(var n=0;n<t.length;n++)e+='<option value="'+t[n]+'">'+t[n]+"</option>";return e}var Tr=Me.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(t){var e=this;e._super(t),e.settings.size&&(e.size=e.settings.size),e.settings.options&&(e._options=e.settings.options),e.on("keydown",(function(t){var n;13===t.keyCode&&(t.preventDefault(),e.parents().reverse().each((function(t){if(t.toJSON)return n=t,!1})),e.fire("submit",{data:n.toJSON()}))}))},options:function(t){return arguments.length?(this.state.set("options",t),this):this.state.get("options")},renderHtml:function(){var t,e="";return t=Sr(this._options),this.size&&(e=' size = "'+this.size+'"'),'<select id="'+this._id+'" class="'+this.classes+'"'+e+">"+t+"</select>"},bindStates:function(){var t=this;return t.state.on("change:options",(function(e){t.getEl().innerHTML=Sr(e.value)})),t._super()}});function Er(t,e,n){return t<e&&(t=e),t>n&&(t=n),t}function Dr(t,e,n){t.setAttribute("aria-"+e,n)}function Nr(t,e){var n,i,r,o,s;"v"===t.settings.orientation?(r="top",i="height",n="h"):(r="left",i="width",n="w"),s=t.getEl("handle"),o=((t.layoutRect()[n]||100)-kt.getSize(s)[i])*((e-t._minValue)/(t._maxValue-t._minValue))+"px",s.style[r]=o,s.style.height=t.layoutRect().h+"px",Dr(s,"valuenow",e),Dr(s,"valuetext",""+t.settings.previewFilter(e)),Dr(s,"valuemin",t._minValue),Dr(s,"valuemax",t._maxValue)}var Ar=Me.extend({init:function(t){t.previewFilter||(t.previewFilter=function(t){return Math.round(100*t)/100}),this._super(t),this.classes.add("slider"),"v"===t.orientation&&this.classes.add("vertical"),this._minValue=j.isNumber(t.minValue)?t.minValue:0,this._maxValue=j.isNumber(t.maxValue)?t.maxValue:100,this._initValue=this.state.get("value")},renderHtml:function(){var t=this._id,e=this.classPrefix;return'<div id="'+t+'" class="'+this.classes+'"><div id="'+t+'-handle" class="'+e+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){var t,e,n,i,r,o,s=this;t=s._minValue,e=s._maxValue,"v"===s.settings.orientation?(n="screenY",i="top",r="height",o="h"):(n="screenX",i="left",r="width",o="w"),s._super(),function(t,e){function n(n){var i,r;i=s.value(),i=Er(i=function(t,e,n){return n*(e-t)-t}(t,e,(i+(r=t))/(e-r)+.05*n),t,e),s.value(i),s.fire("dragstart",{value:i}),s.fire("drag",{value:i}),s.fire("dragend",{value:i})}s.on("keydown",(function(t){switch(t.keyCode){case 37:case 38:n(-1);break;case 39:case 40:n(1)}}))}(t,e),function(t,e,a){var l,u,c,f,d;s._dragHelper=new de(s._id,{handle:s._id+"-handle",start:function(t){l=t[n],u=parseInt(s.getEl("handle").style[i],10),c=(s.layoutRect()[o]||100)-kt.getSize(a)[r],s.fire("dragstart",{value:d})},drag:function(r){var o=r[n]-l;f=Er(u+o,0,c),a.style[i]=f+"px",d=t+f/c*(e-t),s.value(d),s.tooltip().text(""+s.settings.previewFilter(d)).show().moveRel(a,"bc tc"),s.fire("drag",{value:d})},stop:function(){s.tooltip().hide(),s.fire("dragend",{value:d})}})}(t,e,s.getEl("handle"))},repaint:function(){this._super(),Nr(this,this.value())},bindStates:function(){var t=this;return t.state.on("change:value",(function(e){Nr(t,e.value)})),t._super()}}),Pr=Me.extend({renderHtml:function(){return this.classes.add("spacer"),this.canFocus=!1,'<div id="'+this._id+'" class="'+this.classes+'"></div>'}}),Or=br.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var t,e,n=this.getEl(),i=this.layoutRect();return this._super(),t=n.firstChild,e=n.lastChild,_t(t).css({width:i.w-kt.getSize(e).width,height:i.h-2}),_t(e).css({height:i.h-2}),this},activeMenu:function(t){_t(this.getEl().lastChild).toggleClass(this.classPrefix+"active",t)},renderHtml:function(){var t,e,n=this._id,i=this.classPrefix,r=this.state.get("icon"),o=this.state.get("text"),s=this.settings,a="";return(t=s.image)?(r="none","string"!=typeof t&&(t=window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",r=s.icon?i+"ico "+i+"i-"+r:"",o&&(this.classes.add("btn-has-text"),a='<span class="'+i+'txt">'+this.encode(o)+"</span>"),e="boolean"==typeof s.active?' aria-pressed="'+s.active+'"':"",'<div id="'+n+'" class="'+this.classes+'" role="button"'+e+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(r?'<i class="'+r+'"'+t+"></i>":"")+a+'</button><button type="button" class="'+i+'open" hidefocus="1" tabindex="-1">'+(this._menuBtnText?(r?"Â ":"")+this._menuBtnText:"")+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var t=this.settings.onclick;return this.on("click",(function(e){var n=e.target;if(e.control===this)for(;n;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===n.nodeName&&-1===n.className.indexOf("open"))return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}})),delete this.settings.onclick,this._super()}}),Ir=Mi.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),Mr=ye.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(t){var e;this.activeTabId&&(e=this.getEl(this.activeTabId),_t(e).removeClass(this.classPrefix+"active"),e.setAttribute("aria-selected","false")),this.activeTabId="t"+t,(e=this.getEl("t"+t)).setAttribute("aria-selected","true"),_t(e).addClass(this.classPrefix+"active"),this.items()[t].show().fire("showtab"),this.reflow(),this.items().each((function(e,n){t!==n&&e.hide()}))},renderHtml:function(){var t=this,e=t._layout,n="",i=t.classPrefix;return t.preRender(),e.preRender(t),t.items().each((function(e,r){var o=t._id+"-t"+r;e.aria("role","tabpanel"),e.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+e._id+'" aria-selected="false" tabIndex="-1">'+t.encode(e.settings.title)+"</div>"})),'<div id="'+t._id+'" class="'+t.classes+'" hidefocus="1" tabindex="-1"><div id="'+t._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+t._id+'-body" class="'+t.bodyClasses+'">'+e.renderHtml(t)+"</div></div>"},postRender:function(){var t=this;t._super(),t.settings.activeTab=t.settings.activeTab||0,t.activateTab(t.settings.activeTab),this.on("click",(function(e){var n=e.target.parentNode;if(n&&n.id===t._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]===e.target&&t.activateTab(i)}))},initLayoutRect:function(){var t,e,n;e=(e=kt.getSize(this.getEl("head")).width)<0?0:e,n=0,this.items().each((function(t){e=Math.max(e,t.layoutRect().minW),n=Math.max(n,t.layoutRect().minH)})),this.items().each((function(t){t.settings.x=0,t.settings.y=0,t.settings.w=e,t.settings.h=n,t.layoutRect({x:0,y:0,w:e,h:n})}));var i=kt.getSize(this.getEl("head")).height;return this.settings.minWidth=e,this.settings.minHeight=n+i,(t=this._super()).deltaH+=i,t.innerH=t.h-t.deltaH,t}}),Br=Me.extend({init:function(t){var e=this;e._super(t),e.classes.add("textbox"),t.multiline?e.classes.add("multiline"):(e.on("keydown",(function(t){var n;13===t.keyCode&&(t.preventDefault(),e.parents().reverse().each((function(t){if(t.toJSON)return n=t,!1})),e.fire("submit",{data:n.toJSON()}))})),e.on("keyup",(function(t){e.state.set("value",t.target.value)})))},repaint:function(){var t,e,n,i,r,o=0;t=this.getEl().style,e=this._layoutRect,r=this._lastRepaintRect||{};var s=document;return!this.settings.multiline&&s.all&&(!s.documentMode||s.documentMode<=8)&&(t.lineHeight=e.h-o+"px"),i=(n=this.borderBox).left+n.right+8,o=n.top+n.bottom+(this.settings.multiline?8:0),e.x!==r.x&&(t.left=e.x+"px",r.x=e.x),e.y!==r.y&&(t.top=e.y+"px",r.y=e.y),e.w!==r.w&&(t.width=e.w-i+"px",r.w=e.w),e.h!==r.h&&(t.height=e.h-o+"px",r.h=e.h),this._lastRepaintRect=r,this.fire("repaint",{},!1),this},renderHtml:function(){var t,e,n=this.settings;return t={id:this._id,hidefocus:"1"},i.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],(function(e){t[e]=n[e]})),this.disabled()&&(t.disabled="disabled"),n.subtype&&(t.type=n.subtype),(e=kt.create(n.multiline?"textarea":"input",t)).value=this.state.get("value"),e.className=this.classes.toString(),e.outerHTML},value:function(t){return arguments.length?(this.state.set("value",t),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var t=this;t.getEl().value=t.state.get("value"),t._super(),t.$el.on("change",(function(e){t.state.set("value",e.target.value),t.fire("change",e)}))},bindStates:function(){var t=this;return t.state.on("change:value",(function(e){t.getEl().value!==e.value&&(t.getEl().value=e.value)})),t.state.on("change:disabled",(function(e){t.getEl().disabled=e.value})),t._super()},remove:function(){this.$el.off(),this._super()}}),Rr=function(){return{Selector:$t,Collection:Vt,ReflowQueue:te,Control:se,Factory:f,KeyboardNavigation:le,Container:ce,DragHelper:de,Scrollable:ve,Panel:ye,Movable:At,Resizable:be,FloatPanel:Te,Window:$e,MessageBox:Ue,Tooltip:Ie,Widget:Me,Progress:Be,Notification:Le,Layout:Ye,AbsoluteLayout:Xe,Button:Ge,ButtonGroup:Je,Checkbox:Qe,ComboBox:tn,ColorBox:en,PanelButton:nn,ColorButton:on,ColorPicker:an,Path:un,ElementPath:cn,FormItem:fn,Form:dn,FieldSet:hn,FilePicker:Pi,FitLayout:Oi,FlexLayout:Ii,FlowLayout:Mi,FormatControls:dr,GridLayout:hr,Iframe:pr,InfoBox:mr,Label:gr,Toolbar:vr,MenuBar:yr,MenuButton:br,MenuItem:_r,Throbber:Ae,Menu:xr,ListBox:wr,Radio:Cr,ResizeHandle:kr,SelectBox:Tr,Slider:Ar,Spacer:Pr,SplitButton:Or,StackLayout:Ir,TabPanel:Mr,TextBox:Br,DropZone:ln,BrowseButton:Ke}},Lr=function(t){t.ui?i.each(Rr(),(function(e,n){t.ui[n]=e})):t.ui=Rr()};i.each(Rr(),(function(t,e){f.add(e,t)})),Lr(window.tinymce?window.tinymce:{}),e.add("modern",(function(t){return dr.setup(t),Ve(t)}))}()}).call(window)},function(t,e){(function(){!function(){"use strict";var t=function(e){var n=e,i=function(){return n};return{get:i,set:function(t){n=t},clone:function(){return t(i())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(t.settings.plugins)||!e.get("powerpaste")||(void 0!==window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),0))},i=function(t,e){return{clipboard:t,quirks:e}},r=function(t,e,n,i){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:i})},o=function(t,e,n,i){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:i})},s=function(t,e){return t.fire("PastePlainTextToggle",{state:e})},a=function(t,e){return t.fire("paste",{ieFake:e})},l=function(t){return t.getParam("paste_plaintext_inform",!0)},u=function(t){return t.getParam("paste_block_drop",!1)},c=function(t){return t.getParam("paste_data_images",!1)},f=function(t){return t.getParam("paste_filter_drop",!0)},d=function(t){return t.getParam("paste_preprocess")},h=function(t){return t.getParam("paste_postprocess")},p=function(t){return t.getParam("paste_webkit_styles")},m=function(t){return t.getParam("paste_remove_styles_if_webkit",!0)},g=function(t){return t.getParam("paste_merge_formats",!0)},v=function(t){return t.getParam("smart_paste",!0)},y=function(t){return t.getParam("paste_as_text",!1)},b=function(t){return t.getParam("paste_retain_style_properties")},x=function(t){return t.getParam("paste_word_valid_elements","-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody")},w=function(t){return t.getParam("paste_convert_word_fake_lists",!0)},_=function(t){return t.getParam("paste_enable_default_filters",!0)},C=function(t,e,n){"text"===e.pasteFormat.get()?(e.pasteFormat.set("html"),s(t,!1)):(e.pasteFormat.set("text"),s(t,!0),function(t,e){return!1===e.get()&&l(t)}(t,n)&&(function(t,e){t.notificationManager.open({text:t.translate(e),type:"info"})}(t,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),n.set(!0))),t.focus()},k=function(t,e,n){t.addCommand("mceTogglePlainTextPaste",(function(){C(t,e,n)})),t.addCommand("mceInsertClipboardContent",(function(t,n){n.content&&e.pasteHtml(n.content,n.internal),n.text&&e.pasteText(n.text)}))},S=tinymce.util.Tools.resolve("tinymce.Env"),T=tinymce.util.Tools.resolve("tinymce.util.Delay"),E=tinymce.util.Tools.resolve("tinymce.util.Tools"),D=tinymce.util.Tools.resolve("tinymce.util.VK"),N="\x3c!-- x-tinymce/html --\x3e",A=function(t){return N+t},P=function(t){return t.replace(N,"")},O=function(t){return-1!==t.indexOf(N)},I=function(){return"x-tinymce/html"},M=tinymce.util.Tools.resolve("tinymce.html.Entities"),B=function(t){return t.replace(/\r?\n/g,"<br>")},R=function(t,e,n){var i=t.split(/\n\n/),r=function(t,e){var n,i=[],r="<"+t;if("object"==typeof e){for(n in e)e.hasOwnProperty(n)&&i.push(n+'="'+M.encodeAllRaw(e[n])+'"');i.length&&(r+=" "+i.join(" "))}return r+">"}(e,n),o="</"+e+">",s=E.map(i,(function(t){return t.split(/\n/).join("<br />")}));return 1===s.length?s[0]:E.map(s,(function(t){return r+t+o})).join("")},L=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)},F=function(t,e,n){return e?R(t,e,n):B(t)},H=tinymce.util.Tools.resolve("tinymce.html.DomParser"),z=tinymce.util.Tools.resolve("tinymce.html.Node"),j=tinymce.util.Tools.resolve("tinymce.html.Schema"),W=tinymce.util.Tools.resolve("tinymce.html.Serializer");function $(t,e){return E.each(e,(function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])})),t}var q={filter:$,innerText:function(t){var e=j(),n=H({},e),i="",r=e.getShortEndedElements(),o=E.makeMap("script noscript style textarea video audio iframe object"," "),s=e.getBlockElements();return t=$(t,[/<!\[[^\]]+\]>/g]),function t(e){var n=e.name,a=e;if("br"!==n)if(r[n]&&(i+=" "),o[n])i+=" ";else{if(3===e.type&&(i+=e.value),!e.shortEnded&&(e=e.firstChild))do{t(e)}while(e=e.next);s[n]&&a.next&&(i+="\n","p"===n&&(i+="\n"))}else i+="\n"}(n.parse(t)),i},trimHtml:function(t){return t=$(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,function(t,e,n){return e||n?"Â ":" "}],/<br class="Apple-interchange-newline">/g,/<br>$/i])},createIdGenerator:function(t){var e=0;return function(){return t+e++}},isMsEdge:function(){return-1!==navigator.userAgent.indexOf(" Edge/")}};function U(t){var e,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),E.each(n,(function(n){if(n.test(t))return e=!0,!1})),e}function V(t){var e,n,i=1;function r(t){var e="";if(3===t.type)return t.value;if(t=t.firstChild)do{e+=r(t)}while(t=t.next);return e}function o(t,e){if(3===t.type&&e.test(t.value))return t.value=t.value.replace(e,""),!1;if(t=t.firstChild)do{if(!o(t,e))return!1}while(t=t.next);return!0}function s(t,r,s){var a=t._listLevel||i;a!==i&&(a<i?e&&(e=e.parent.parent):(n=e,e=null)),e&&e.name===r?e.append(t):(n=n||e,e=new z(r,1),s>1&&e.attr("start",""+s),t.wrap(e)),t.name="li",a>i&&n&&n.lastChild.append(e),i=a,function t(e){if(e._listIgnore)e.remove();else if(e=e.firstChild)do{t(e)}while(e=e.next)}(t),o(t,/^\u00a0+/),o(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),o(t,/^\u00a0+/)}for(var a=[],l=t.firstChild;null!=l;)if(a.push(l),null!==(l=l.walk()))for(;void 0!==l&&l.parent!==t;)l=l.walk();for(var u=0;u<a.length;u++)if("p"===(t=a[u]).name&&t.firstChild){var c=r(t);if(/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(c)){s(t,"ul");continue}if(U(c)){var f=/([0-9]+)\./.exec(c),d=1;f&&(d=parseInt(f[1],10)),s(t,"ol",d);continue}if(t._listLevel){s(t,"ul",1);continue}e=null}else n=e,e=null}function Y(t,e,n,i){var r,o={},s=t.dom.parseStyle(i);return E.each(s,(function(s,a){switch(a){case"mso-list":(r=/\w+ \w+([0-9]+)/i.exec(i))&&(n._listLevel=parseInt(r[1],10)),/Ignore/i.test(s)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":a="text-align";break;case"vert-align":a="vertical-align";break;case"font-color":case"mso-foreground":a="color";break;case"mso-background":case"mso-highlight":a="background";break;case"font-weight":case"font-style":return void("normal"!==s&&(o[a]=s));case"mso-element":if(/^(comment|comment-list)$/i.test(s))return void n.remove()}0!==a.indexOf("mso-comment")?0!==a.indexOf("mso-")&&("all"===b(t)||e&&e[a])&&(o[a]=s):n.remove()})),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new z("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new z("i",1))),(o=t.dom.serializeStyle(o,n.name))||null}var X={preProcess:function(t,e){return _(t)?function(t,e){var n,i;(n=b(t))&&(i=E.makeMap(n.split(/[, ]/))),e=q.filter(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,"Â "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join("Â "):""}]]);var r=x(t),o=j({valid_elements:r,valid_children:"-li[p]"});E.each(o.elements,(function(t){t.attributes.class||(t.attributes.class={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))}));var s=H({},o);s.addAttributeFilter("style",(function(e){for(var n,r=e.length;r--;)(n=e[r]).attr("style",Y(t,i,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()})),s.addAttributeFilter("class",(function(t){for(var e,n,i=t.length;i--;)n=(e=t[i]).attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove(),e.attr("class",null)})),s.addNodeFilter("del",(function(t){for(var e=t.length;e--;)t[e].remove()})),s.addNodeFilter("a",(function(t){for(var e,n,i,r=t.length;r--;)if(n=(e=t[r]).attr("href"),i=e.attr("name"),n&&-1!==n.indexOf("#_msocom_"))e.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1])&&(n="#"+n),n||i){if(i&&!/^_?(?:toc|edn|ftn)/i.test(i)){e.unwrap();continue}e.attr({href:n,name:i})}else e.unwrap()}));var a=s.parse(e);return w(t)&&V(a),e=W({validate:t.settings.validate},o).serialize(a)}(t,e):e},isWordContent:function(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}},G=function(t,e){return{content:t,cancelled:e}},K=function(t,e,n,i){var s=r(t,e,n,i);return t.hasEventListeners("PastePostProcess")&&!s.isDefaultPrevented()?function(t,e,n,i){var r=t.dom.create("div",{style:"display:none"},e),s=o(t,r,n,i);return G(s.node.innerHTML,s.isDefaultPrevented())}(t,s.content,n,i):G(s.content,s.isDefaultPrevented())},J=function(t,e,n){var i=X.isWordContent(e),r=i?X.preProcess(t,e):e;return K(t,r,n,i)},Q=function(t,e){return t.insertContent(e,{merge:g(t),paste:!0}),!0},Z=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},tt=function(t){return Z(t)&&/.(gif|jpe?g|png)$/.test(t)},et=function(t,e,n){return!(!1!==t.selection.isCollapsed()||!Z(e))&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.execCommand("mceInsertLink",!1,e)})),!0}(t,e,n)},nt=function(t,e,n){return!!tt(e)&&function(t,e,n){return t.undoManager.extra((function(){n(t,e)}),(function(){t.insertContent('<img src="'+e+'">')})),!0}(t,e,n)},it=function(t,e){!1===v(t)?Q(t,e):function(t,e){E.each([et,nt,Q],(function(n){return!0!==n(t,e,Q)}))}(t,e)},rt=function(t,e,n){var i=n||O(e),r=J(t,P(e),i);!1===r.cancelled&&it(t,r.content)},ot=function(t,e){e=t.dom.encode(e).replace(/\r\n/g,"\n"),e=F(e,t.settings.forced_root_block,t.settings.forced_root_block_attrs),rt(t,e,!1)},st=function(t){var e={};if(t){if(t.getData){var n=t.getData("Text");n&&n.length>0&&-1===n.indexOf("data:text/mce-internal,")&&(e["text/plain"]=n)}if(t.types)for(var i=0;i<t.types.length;i++){var r=t.types[i];try{e[r]=t.getData(r)}catch(t){e[r]=""}}}return e},at=function(t,e){return e in t&&t[e].length>0},lt=function(t){return at(t,"text/html")||at(t,"text/plain")},ut=q.createIdGenerator("mceclip"),ct=function(t,e,n,i){e&&(t.selection.setRng(e),e=null);var r,o,s=n.result,a=-1!==(o=(r=s).indexOf(","))?r.substr(o+1):null,l=ut(),u=t.settings.images_reuse_filename&&i.name?function(t,e){var n=e.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?t.dom.encode(n[1]):null}(t,i.name):l,c=new Image;if(c.src=s,function(t,e){return!t.images_dataimg_filter||t.images_dataimg_filter(e)}(t.settings,c)){var f,d=t.editorUpload.blobCache,h=void 0;(f=d.findFirst((function(t){return t.base64()===a})))?h=f:(h=d.create(l,i,a,u),d.add(h)),rt(t,'<img src="'+h.blobUri()+'">',!1)}else rt(t,'<img src="'+s+'">',!1)},ft=function(t,e,n){var i="paste"===e.type?e.clipboardData:e.dataTransfer;function r(i){var r,o,s,a=!1;if(i)for(r=0;r<i.length;r++)if(o=i[r],/^image\/(jpeg|png|gif|bmp)$/.test(o.type)){var l=o.getAsFile?o.getAsFile():o;(s=new window.FileReader).onload=ct.bind(null,t,n,s,l),s.readAsDataURL(l),e.preventDefault(),a=!0}return a}if(t.settings.paste_data_images&&i)return r(i.items)||r(i.files)},dt=function(t){return D.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},ht=function(t,e,n){var i,r=0;function o(n,i,r,o){var s,a;at(n,"text/html")?s=n["text/html"]:(s=e.getHtml(),o=o||O(s),e.isDefaultContent(s)&&(r=!0)),s=q.trimHtml(s),e.remove(),a=!1===o&&L(s),s.length&&!a||(r=!0),r&&(s=at(n,"text/plain")&&a?n["text/plain"]:q.innerText(s)),e.isDefaultContent(s)?i||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents."):r?ot(t,s):rt(t,s,o)}t.on("keydown",(function(n){function o(t){dt(t)&&!t.isDefaultPrevented()&&e.remove()}if(dt(n)&&!n.isDefaultPrevented()){if((i=n.shiftKey&&86===n.keyCode)&&S.webkit&&-1!==navigator.userAgent.indexOf("Version/"))return;if(n.stopImmediatePropagation(),r=(new Date).getTime(),S.ie&&i)return n.preventDefault(),void a(t,!0);e.remove(),e.create(),t.once("keyup",o),t.once("paste",(function(){t.off("keyup",o)}))}})),t.on("paste",(function(s){var a=(new Date).getTime(),l=function(t,e){var n=st(e.clipboardData||t.getDoc().dataTransfer);return q.isMsEdge()?E.extend(n,{"text/html":""}):n}(t,s),u=(new Date).getTime()-a,c=(new Date).getTime()-r-u<1e3,f="text"===n.get()||i,d=at(l,I());i=!1,s.isDefaultPrevented()||function(t){var e=t.clipboardData;return-1!==navigator.userAgent.indexOf("Android")&&e&&e.items&&0===e.items.length}(s)?e.remove():lt(l)||!ft(t,s,e.getLastRng()||t.selection.getRng())?(c||s.preventDefault(),!S.ie||c&&!s.ieFake||at(l,"text/html")||(e.create(),t.dom.bind(e.getEl(),"paste",(function(t){t.stopPropagation()})),t.getDoc().execCommand("Paste",!1,null),l["text/html"]=e.getHtml()),at(l,"text/html")?(s.preventDefault(),d||(d=O(l["text/html"])),o(l,c,f,d)):T.setEditorTimeout(t,(function(){o(l,c,f,d)}),0)):e.remove()}))},pt=function(t){return S.ie&&t.inline?document.body:t.getBody()},mt=function(t,e){(function(t){return pt(t)!==t.getBody()})(t)&&t.dom.bind(e,"paste keyup",(function(e){setTimeout((function(){t.fire("paste")}),0)}))},gt=function(t){return t.dom.get("mcepastebin")},vt=function(t,e){return e===t},yt=function(e){var n=t(null);return{create:function(){return function(t,e,n){var i,r=t.dom,o=t.getBody();e.set(t.selection.getRng()),i=t.dom.add(pt(t),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(S.ie||S.gecko)&&r.setStyle(i,"left","rtl"===r.getStyle(o,"direction",!0)?65535:-65535),r.bind(i,"beforedeactivate focusin focusout",(function(t){t.stopPropagation()})),mt(t,i),i.focus(),t.selection.select(i,!0)}(e,n,"%MCEPASTEBIN%")},remove:function(){return function(t,e){if(gt(t)){for(var n=void 0,i=e.get();n=t.dom.get("mcepastebin");)t.dom.remove(n),t.dom.unbind(n);i&&t.selection.setRng(i)}e.set(null)}(e,n)},getEl:function(){return gt(e)},getHtml:function(){return function(t){var e,n,i,r,o,s=function(e,n){e.appendChild(n),t.dom.remove(n,!0)};for(n=E.grep(pt(t).childNodes,(function(t){return"mcepastebin"===t.id})),e=n.shift(),E.each(n,(function(t){s(e,t)})),i=(r=t.dom.select("div[id=mcepastebin]",e)).length-1;i>=0;i--)o=t.dom.create("div"),e.insertBefore(o,r[i]),s(o,r[i]);return e?e.innerHTML:""}(e)},getLastRng:function(){return function(t){return t.get()}(n)},isDefault:function(){return function(t,e){var n,i=gt(t);return(n=i)&&"mcepastebin"===n.id&&vt(e,i.innerHTML)}(e,"%MCEPASTEBIN%")},isDefaultContent:function(t){return vt("%MCEPASTEBIN%",t)}}},bt=function(t,e){var n=yt(t);return t.on("preInit",(function(){return function(t,e,n){var i;ht(t,e,n),t.parser.addNodeFilter("img",(function(e,n,r){var o=function(t){t.attr("data-mce-object")||i===S.transparentSrc||t.remove()},s=function(t){return 0===t.indexOf("webkit-fake-url")},a=function(t){return 0===t.indexOf("data:")};if(!t.settings.paste_data_images&&function(t){return t.data&&!0===t.data.paste}(r))for(var l=e.length;l--;)(i=e[l].attributes.map.src)&&(s(i)?o(e[l]):!t.settings.allow_html_data_urls&&a(i)&&o(e[l]))}))}(t,n,e)})),{pasteFormat:e,pasteHtml:function(e,n){return rt(t,e,n)},pasteText:function(e){return ot(t,e)},pasteImageData:function(e,n){return ft(t,e,n)},getDataTransferItems:st,hasHtmlOrText:lt,hasContentType:at}},xt=function(){},wt=function(t,e,n){if(!function(t){return!1===S.iOS&&void 0!==t&&"function"==typeof t.setData&&!0!==q.isMsEdge()}(t))return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData(I(),e),!0}catch(t){return!1}},_t=function(t,e,n,i){wt(t.clipboardData,e.html,e.text)?(t.preventDefault(),i()):n(e.html,i)},Ct=function(t){return function(e,n){var i=A(e),r=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),o=t.dom.create("div",{contenteditable:"true"},i);t.dom.setStyles(r,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),r.appendChild(o),t.dom.add(t.getBody(),r);var s=t.selection.getRng();o.focus();var a=t.dom.createRng();a.selectNodeContents(o),t.selection.setRng(a),setTimeout((function(){t.selection.setRng(s),r.parentNode.removeChild(r),n()}),0)}},kt=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},St=function(t){t.on("cut",function(t){return function(e){!1===t.selection.isCollapsed()&&_t(e,kt(t),Ct(t),(function(){setTimeout((function(){t.execCommand("Delete")}),0)}))}}(t)),t.on("copy",function(t){return function(e){!1===t.selection.isCollapsed()&&_t(e,kt(t),Ct(t),xt)}}(t))},Tt=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Et=function(t,e){return Tt.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())},Dt=function(t,e){t.focus(),t.selection.setRng(e)},Nt=function(t,e,n){u(t)&&t.on("dragend dragover draggesture dragdrop drop drag",(function(t){t.preventDefault(),t.stopPropagation()})),c(t)||t.on("drop",(function(t){var e=t.dataTransfer;e&&e.files&&e.files.length>0&&t.preventDefault()})),t.on("drop",(function(i){var r,o;if(o=Et(t,i),!i.isDefaultPrevented()&&!n.get()){r=e.getDataTransferItems(i.dataTransfer);var s,a=e.hasContentType(r,I());if((e.hasHtmlOrText(r)&&(!(s=r["text/plain"])||0!==s.indexOf("file://"))||!e.pasteImageData(i,o))&&o&&f(t)){var l=r["mce-internal"]||r["text/html"]||r["text/plain"];l&&(i.preventDefault(),T.setEditorTimeout(t,(function(){t.undoManager.transact((function(){r["mce-internal"]&&t.execCommand("Delete"),Dt(t,o),l=q.trimHtml(l),r["text/html"]?e.pasteHtml(l,a):e.pasteText(l)}))})))}}})),t.on("dragstart",(function(t){n.set(!0)})),t.on("dragover dragend",(function(e){c(t)&&!1===n.get()&&(e.preventDefault(),Dt(t,Et(t,e))),"dragend"===e.type&&n.set(!1)}))},At=function(t){var e=t.plugins.paste,n=d(t);n&&t.on("PastePreProcess",(function(t){n.call(e,e,t)}));var i=h(t);i&&t.on("PastePostProcess",(function(t){i.call(e,e,t)}))};function Pt(t,e){t.on("PastePreProcess",(function(n){n.content=e(t,n.content,n.internal,n.wordContent)}))}function Ot(t,e){if(!X.isWordContent(e))return e;var n=[];E.each(t.schema.getBlockElements(),(function(t,e){n.push(e)}));var i=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=q.filter(e,[[i,"$1"]]),e=q.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function It(t,e,n,i){if(i||n)return e;var r,o=p(t);if(!1===m(t)||"all"===o)return e;if(o&&(r=o.split(/[, ]/)),r){var s=t.dom,a=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,(function(t,e,n,i){var o=s.parseStyle(s.decode(n)),l={};if("none"===r)return e+i;for(var u=0;u<r.length;u++){var c=o[r[u]],f=s.getStyle(a,r[u],!0);/color/.test(r[u])&&(c=s.toHex(c),f=s.toHex(f)),f!==c&&(l[r[u]]=c)}return(l=s.serializeStyle(l,"span"))?e+' style="'+l+'"'+i:e+i}))}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,(function(t,e,n,i){return e+' style="'+n+'"'+i}))}function Mt(t,e){t.$("a",e).find("font,u").each((function(e,n){t.dom.remove(n,!0)}))}var Bt=function(t){S.webkit&&Pt(t,It),S.ie&&(Pt(t,Ot),function(t,e){t.on("PastePostProcess",(function(n){e(t,n.node)}))}(t,Mt))},Rt=function(t){return function(){return t}},Lt=(Rt(!1),Rt(!0),function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=new Array(arguments.length-1),r=1;r<arguments.length;r++)i[r-1]=arguments[r];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=new Array(arguments.length),o=0;o<r.length;o++)r[o]=arguments[o];var s=i.concat(r);return t.apply(null,s)}}),Ft=function(t,e,n){var i=n.control;i.active("text"===e.pasteFormat.get()),t.on("PastePlainTextToggle",(function(t){i.active(t.state)}))},Ht=function(t,e){var n=Lt(Ft,t,e);t.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:n}),t.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:e.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:n})};e.add("paste",(function(e){if(!1===n(e)){var r=t(!1),o=t(!1),s=t(y(e)?"text":"html"),a=bt(e,s),l=Bt(e);return Ht(e,a),k(e,a,r),At(e),St(e),Nt(e,a,o),i(a,l)}}))}()}).call(window)},function(t,e){(function(){!function(){"use strict";var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=tinymce.util.Tools.resolve("tinymce.util.VK"),n=function(t){return t.target_list},i=function(t){return t.rel_list},r=function(t){return t.link_class_list},o=function(t){return"boolean"==typeof t.link_assume_external_targets&&t.link_assume_external_targets},s=function(t){return"boolean"==typeof t.link_context_toolbar&&t.link_context_toolbar},a=function(t){return t.link_list},l=function(t){return"string"==typeof t.default_link_target},u=function(t){return t.default_link_target},c=n,f=function(t,e){t.settings.target_list=e},d=function(t){return!1!==n(t)},h=i,p=function(t){return void 0!==i(t)},m=r,g=function(t){return void 0!==r(t)},v=function(t){return!1!==t.link_title},y=function(t){return"boolean"==typeof t.allow_unsafe_link_target&&t.allow_unsafe_link_target},b=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),x=tinymce.util.Tools.resolve("tinymce.Env"),w=function(t){if(!x.ie||x.ie>10){var e=document.createElement("a");e.target="_blank",e.href=t,e.rel="noreferrer noopener";var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),function(t,e){document.body.appendChild(t),t.dispatchEvent(e),document.body.removeChild(t)}(e,n)}else{var i=window.open("","_blank");if(i){i.opener=null;var r=i.document;r.open(),r.write('<meta http-equiv="refresh" content="0; url='+b.DOM.encode(t)+'">'),r.close()}}},_=tinymce.util.Tools.resolve("tinymce.util.Tools"),C=function(t,e){var n=["noopener"],i=t?t.split(/\s+/):[],r=function(t){return t.filter((function(t){return-1===_.inArray(n,t)}))};return(i=e?function(t){return(t=r(t)).length?t.concat(n):n}(i):r(i)).length?function(t){return _.trim(t.sort().join(" "))}(i):null},k=function(t,e){return e=e||t.selection.getNode(),T(e)?t.dom.select("a[href]",e)[0]:t.dom.getParent(e,"a[href]")},S=function(t){return t&&"A"===t.nodeName&&t.href},T=function(t){return t&&"FIGURE"===t.nodeName&&/\bimage\b/i.test(t.className)},E=function(t,e){var n,i;(i=t.dom.select("img",e)[0])&&(n=t.dom.getParents(i,"a[href]",e)[0])&&(n.parentNode.insertBefore(i,n),t.dom.remove(n))},D=function(t,e,n){var i,r;(r=t.dom.select("img",e)[0])&&(i=t.dom.create("a",n),r.parentNode.insertBefore(i,r),i.appendChild(r))},N=function(t,e){return function(n){t.undoManager.transact((function(){var i=t.selection.getNode(),r=k(t,i),o={href:n.href,target:n.target?n.target:null,rel:n.rel?n.rel:null,class:n.class?n.class:null,title:n.title?n.title:null};p(t.settings)||!1!==y(t.settings)||(o.rel=C(o.rel,"_blank"===o.target)),n.href===e.href&&(e.attach(),e={}),r?(t.focus(),n.hasOwnProperty("text")&&("innerText"in r?r.innerText=n.text:r.textContent=n.text),t.dom.setAttribs(r,o),t.selection.select(r),t.undoManager.add()):T(i)?D(t,i,o):n.hasOwnProperty("text")?t.insertContent(t.dom.createHTML("a",o,t.dom.encode(n.text))):t.execCommand("mceInsertLink",!1,o)}))}},A=function(t){return function(){t.undoManager.transact((function(){var e=t.selection.getNode();T(e)?E(t,e):t.execCommand("unlink")}))}},P=S,O=function(t){return _.grep(t,S).length>0},I=function(t){return!(/</.test(t)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(t)||-1===t.indexOf("href=")))},M=k,B=function(t,e){return function(t){return t.replace(/\uFEFF/g,"")}(e?e.innerText||e.textContent:t.getContent({format:"text"}))},R=C,L=tinymce.util.Tools.resolve("tinymce.util.Delay"),F=tinymce.util.Tools.resolve("tinymce.util.XHR"),H={},z=function(t,e,n){var i=function(t,n){return n=n||[],_.each(t,(function(t){var r={text:t.text||t.title};t.menu?r.menu=i(t.menu):(r.value=t.value,e&&e(r)),n.push(r)})),n};return i(t,n||[])},j=function(t,e,n){var i=t.selection.getRng();L.setEditorTimeout(t,(function(){t.windowManager.confirm(e,(function(e){t.selection.setRng(i),n(e)}))}))},W=function(t,e){var n,i,r,s,a,b,x,w,C,k,S,T={},E=t.selection,D=t.dom,P=function(t){var e=r.find("#text");(!e.value()||t.lastControl&&e.value()===t.lastControl.text())&&e.value(t.control.text()),r.find("#href").value(t.control.value())},O=function(){i||!s||T.text||this.parent().parent().find("#text")[0].value(this.value())};s=I(E.getContent()),n=M(t),T.text=i=B(t.selection,n),T.href=n?D.getAttrib(n,"href"):"",n?T.target=D.getAttrib(n,"target"):l(t.settings)&&(T.target=u(t.settings)),(S=D.getAttrib(n,"rel"))&&(T.rel=S),(S=D.getAttrib(n,"class"))&&(T.class=S),(S=D.getAttrib(n,"title"))&&(T.title=S),s&&(a={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){T.text=this.value()}}),e&&(b={type:"listbox",label:"Link list",values:z(e,(function(e){e.value=t.convertURL(e.value||e.url,"href")}),[{text:"None",value:""}]),onselect:P,value:t.convertURL(T.href,"href"),onPostRender:function(){b=this}}),d(t.settings)&&(void 0===c(t.settings)&&f(t,[{text:"None",value:""},{text:"New window",value:"_blank"}]),w={name:"target",type:"listbox",label:"Target",values:z(c(t.settings))}),p(t.settings)&&(x={name:"rel",type:"listbox",label:"Rel",values:z(h(t.settings),(function(e){!1===y(t.settings)&&(e.value=R(e.value,"_blank"===T.target))}))}),g(t.settings)&&(C={name:"class",type:"listbox",label:"Class",values:z(m(t.settings),(function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({inline:"a",classes:[e.value]})})}))}),v(t.settings)&&(k={name:"title",type:"textbox",label:"Title",value:T.title}),r=t.windowManager.open({title:"Insert link",data:T,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:function(e){var n=e.meta||{};b&&b.value(t.convertURL(this.value(),"href")),_.each(e.meta,(function(t,e){var n=r.find("#"+e);"text"===e?0===i.length&&(n.value(t),T.text=t):n.value(t)})),n.attach&&(H={href:this.value(),attach:n.attach}),n.text||O.call(this)},onkeyup:O,onpaste:O,onbeforecall:function(t){t.meta=r.toJSON()}},a,k,function(e){var n=[];if(_.each(t.dom.select("a:not([href])"),(function(t){var i=t.name||t.id;i&&n.push({text:i,value:"#"+i,selected:-1!==e.indexOf("#"+i)})})),n.length)return n.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:n,onselect:P}}(T.href),b,x,w,C],onSubmit:function(e){var n=o(t.settings),r=N(t,H),a=A(t),l=_.extend({},T,e.data),u=l.href;u?(s&&l.text!==i||delete l.text,u.indexOf("@")>0&&-1===u.indexOf("//")&&-1===u.indexOf("mailto:")?j(t,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",(function(t){t&&(l.href="mailto:"+u),r(l)})):!0===n&&!/^\w+:/i.test(u)||!1===n&&/^\s*www[\.|\d\.]/i.test(u)?j(t,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",(function(t){t&&(l.href="http://"+u),r(l)})):r(l)):a()}})},$=function(t){!function(t,e){var n=a(t.settings);"string"==typeof n?F.send({url:n,success:function(n){e(t,JSON.parse(n))}}):"function"==typeof n?n((function(n){e(t,n)})):e(t,n)}(t,W)},q=function(t,e){return t.dom.getParent(e,"a[href]")},U=function(t){return q(t,t.selection.getStart())},V=function(t,e){if(e){var n=function(t){var e=t.getAttribute("data-mce-href");return e||t.getAttribute("href")}(e);if(/^#/.test(n)){var i=t.$(n);i.length&&t.selection.scrollIntoView(i[0],!0)}else w(e.href)}},Y=function(t){return function(){$(t)}},X=function(t){return function(){V(t,U(t))}},G=function(t){return function(e){var n,i,r;return!!(s(t.settings)&&!function(t){var e=t.plugins.contextmenu;return!!e&&e.isContextMenuVisible()}(t)&&P(e)&&3===(r=(i=(n=t.selection).getRng()).startContainer).nodeType&&n.isCollapsed()&&i.startOffset>0&&i.startOffset<r.data.length)}},K=function(t){t.on("click",(function(n){var i=q(t,n.target);i&&e.metaKeyPressed(n)&&(n.preventDefault(),V(t,i))})),t.on("keydown",(function(e){var n=U(t);n&&13===e.keyCode&&function(t){return!0===t.altKey&&!1===t.shiftKey&&!1===t.ctrlKey&&!1===t.metaKey}(e)&&(e.preventDefault(),V(t,n))}))},J=function(t){return function(){var e=this;t.on("nodechange",(function(n){e.active(!t.readonly&&!!M(t,n.element))}))}},Q=function(t){return function(){var e=this,n=function(t){O(t.parents)?e.show():e.hide()};O(t.dom.getParents(t.selection.getStart()))||e.hide(),t.on("nodechange",n),e.on("remove",(function(){t.off("nodechange",n)}))}},Z=function(t){t.addCommand("mceLink",Y(t))},tt=function(t){t.addShortcut("Meta+K","",Y(t))},et=function(t){t.addButton("link",{active:!1,icon:"link",tooltip:"Insert/edit link",onclick:Y(t),onpostrender:J(t)}),t.addButton("unlink",{active:!1,icon:"unlink",tooltip:"Remove link",onclick:A(t),onpostrender:J(t)}),t.addContextToolbar&&t.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:X(t)})},nt=function(t){t.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:X(t),onPostRender:Q(t),prependToContext:!0}),t.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:Y(t),stateSelector:"a[href]",context:"insert",prependToContext:!0}),t.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onclick:A(t),stateSelector:"a[href]"})},it=function(t){t.addContextToolbar&&t.addContextToolbar(G(t),"openlink | link unlink")};t.add("link",(function(t){et(t),nt(t),it(t),K(t),Z(t),tt(t)}))}()}).call(window)},function(t,e){(function(){!function(){"use strict";var t=function(e){var n=e,i=function(){return n};return{get:i,set:function(t){n=t},clone:function(){return t(i())}}},e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Delay"),r=function(t){return parseInt(t.getParam("autoresize_min_height",t.getElement().offsetHeight),10)},o=function(t){return parseInt(t.getParam("autoresize_max_height",0),10)},s=function(t){return t.getParam("autoresize_overflow_padding",1)},a=function(t){return t.getParam("autoresize_bottom_margin",50)},l=function(t){return t.getParam("autoresize_on_init",!0)},u=function(t,e,n,r,o){i.setEditorTimeout(t,(function(){f(t,e),n--?u(t,e,n,r,o):o&&o()}),r)},c=function(t,e){var n=t.getBody();n&&(n.style.overflowY=e?"":"hidden",e||(n.scrollTop=0))},f=function(t,e){var i,s,a,l,u,d,h,p,m,g,v,y=t.dom;if(s=t.getDoc())if(function(t){return t.plugins.fullscreen&&t.plugins.fullscreen.isFullscreen()}(t))c(t,!0);else{a=s.body,l=r(t),d=y.getStyle(a,"margin-top",!0),h=y.getStyle(a,"margin-bottom",!0),p=y.getStyle(a,"padding-top",!0),m=y.getStyle(a,"padding-bottom",!0),g=y.getStyle(a,"border-top-width",!0),v=y.getStyle(a,"border-bottom-width",!0),u=a.offsetHeight+parseInt(d,10)+parseInt(h,10)+parseInt(p,10)+parseInt(m,10)+parseInt(g,10)+parseInt(v,10),(isNaN(u)||u<=0)&&(u=n.ie?a.scrollHeight:n.webkit&&0===a.clientHeight?0:a.offsetHeight),u>r(t)&&(l=u);var b=o(t);b&&u>b?(l=b,c(t,!0)):c(t,!1),l!==e.get()&&(i=l-e.get(),y.setStyle(t.iframeElement,"height",l+"px"),e.set(l),n.webkit&&i<0&&f(t,e))}},d={setup:function(t,e){t.on("init",(function(){var e,n,i=t.dom;e=s(t),n=a(t),!1!==e&&i.setStyles(t.getBody(),{paddingLeft:e,paddingRight:e}),!1!==n&&i.setStyles(t.getBody(),{paddingBottom:n})})),t.on("nodechange setcontent keyup FullscreenStateChanged",(function(n){f(t,e)})),l(t)&&t.on("init",(function(){u(t,e,20,100,(function(){u(t,e,5,1e3)}))}))},resize:f},h=function(t,e){t.addCommand("mceAutoResize",(function(){d.resize(t,e)}))};e.add("autoresize",(function(e){if(!e.inline){var n=t(0);h(e,n),d.setup(e,n)}}))}()}).call(window)},function(t,e,n){(function(t,e){var n;t(document).ready((function(){t('#page-contacts [data-action="contact-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:contactTranslations.js_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/contacts/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/contacts")}))})),!1}))})),(n=e)("#page-events-edit .start-time, #page-events-edit .end-time").datetimepicker({format:"d-m-Y H:i"}),n('#page-events-edit [data-action="remove-image"]').on("click",(function(){var t=n(this).attr("data-id");return n.getJSON(settings.base_url+"/administrator/events/json/image-remove/"+t,(function(t){"ok"===t.status&&(n("#page-events-edit .image .inner").html(""),n('#page-events-edit .image [data-action="remove-image"]').addClass("d-none"))})),!1})),n("#page-events-edit .image .input-cover-image").fileupload({dataType:"json",done:function(t,e){"ok"===e.result.status&&(n("#page-events-edit .image .inner").html('<img src="'+settings.base_url+"/upload/events/"+e.result.filename+'" alt="">'),n('#page-events-edit .image [data-action="remove-image"]').removeClass("d-none"))}}),function(t){t('#page-events [data-action="event-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:EventsTranslations.js_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/events/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/events")}))})),!1}))}(e),t(document).ready((function(){t('#page-menus-item-edit select[name="type"]').change((function(){var e=t(this).val();return t("#page-menus-item-edit .shortcut-button").html(""),t.getJSON(settings.base_url+"/administrator/menus/json/page-shortcut/"+e,(function(e){if("ok"===e.status){var n=t("<a>").html(e.shortcut.name).addClass("btn btn-success").css({color:"#fff"}).attr("href",e.shortcut.url).attr("target","_blank");t("#page-menus-item-edit .shortcut-button").html(n)}})),!1})),t('#page-menus-item-edit select[name="type"]').trigger("change"),t("#page-menus-item-edit .input-intro-image").fileupload({dataType:"json",done:function(e,n){"ok"===n.result.status&&(t("#page-menus-item-edit .intro-image .inner").html('<img src="'+settings.base_url+"/upload/menus/"+n.result.filename+'" alt="">'),t("#page-menus-item-edit .upload-intro-image").addClass("d-none"),t("#page-menus-item-edit .upload-intro-video").addClass("d-none"),t("#page-menus-item-edit .intro-image").removeClass("d-none"))}}),t("#page-menus-item-edit .remove-intro-image").click((function(){var e=t(this).attr("data-id");return t.getJSON(settings.base_url+"/administrator/menus/json/item-remove-intro-image/"+e,(function(e){"ok"===e.status&&(t("#page-menus-item-edit .intro-image").addClass("d-none"),t("#page-menus-item-edit .intro-image .inner").html(""),t("#page-menus-item-edit .upload-intro-image").removeClass("d-none"),t("#page-menus-item-edit .upload-intro-video").removeClass("d-none"))})),!1}))})),t(document).ready((function(){t("#page-menus-items .move-up").click((function(){var e=t(this).attr("data-id"),n=t(this).attr("data-menu");return t(this).closest("tr"),t.getJSON(settings.base_url+"/administrator/menus/items/"+n+"/json/move/up/"+e,(function(t){"ok"===t.status&&window.location.reload()})),!1})),t("#page-menus-items .move-down").click((function(){var e=t(this).attr("data-id"),n=t(this).attr("data-menu");return t(this).closest("tr"),t.getJSON(settings.base_url+"/administrator/menus/items/"+n+"/json/move/down/"+e,(function(t){"ok"===t.status&&window.location.reload()})),!1})),t("#page-menus-items .remove-menu-item").click((function(){var e=t(this).attr("data-id"),n=t(this).attr("data-menu");return swal({title:"",text:MenusTranslations.js_items_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/menus/items/"+n+"/json/remove/"+e,(function(t){"ok"===t.status&&window.location.reload()}))})),!1}))})),t(document).ready((function(){t("#page-menus .remove-menu").click((function(){var e=t(this).attr("data-id");return swal({title:"",text:MenusTranslations.js_menus_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/menus/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/menus")}))})),!1}))})),t(document).ready((function(){function e(e){t("#multimedia-"+e+"-modal :input").attr("disabled","disabled")}function n(e){t("#multimedia-"+e+"-modal :input").removeAttr("disabled")}function i(e){t("#multimedia-"+e+"-modal .work-indicator").removeClass("d-none")}function r(e){t("#multimedia-"+e+"-modal .work-indicator").addClass("d-none")}function o(){return t("#page-multimedia .multimedia-item").length||t("#page-multimedia .album").length}function s(e){e?t(".multimedia-empty").removeClass("d-none"):t(".multimedia-empty").addClass("d-none")}t(".items-list").sortable({tolerance:"pointer",update:function(e,n){var i=t(this).sortable("toArray",{attribute:"data-id"});t.getJSON(settings.base_url+"/administrator/multimedia/json/order",{ids:i},(function(t){}))}}),t("#multimedia-add-modal").on("show.bs.modal",(function(e){t("#multimedia-add-modal .nav-tabs-types a:first").trigger("click");var n=t("#multimedia-add-modal").attr("data-album")||0;t('#multimedia-add-modal select[name="album"]').val(n),t("#multimedia-add-modal .alert").addClass("d-none"),t("#multimedia-add-modal .has-error").removeClass("has-error"),t('#multimedia-add-modal input[type="text"]').val(""),t("#multimedia-add-modal textarea").val(""),t('#multimedia-add-modal input[name="image-filename"]').val(""),t("#multimedia-add-modal .image-preview").html("").addClass("d-none")})),t("#multimedia-album-add-modal").on("show.bs.modal",(function(e){t('#multimedia-album-add-modal input[type="text"]').val(""),t('#multimedia-album-add-modal select[name="album"]').val(0);var n=t("#multimedia-album-add-modal").attr("data-album")||0;t('#multimedia-album-add-modal select[name="parent"]').val(n)})),t('#multimedia-add-modal .nav-tabs-types a[data-toggle="tab"]').on("shown.bs.tab",(function(e){t('#multimedia-add-modal input[name="type"]').val(t(e.target).attr("href").split("-")[1])})),t("#multimedia-add-modal .fileupload").fileupload({dataType:"json",done:function(e,i){"ok"===i.result.status?(t(".image-preview").html('<img src="'+settings.base_url+"/upload/tmp/"+i.result.filename+'" alt="">').removeClass("d-none"),t('input[name="image-filename"]').val(i.result.filename)):"err"===i.result.status&&(t(".image-preview").html("").addClass("d-none"),t(".image-upload").addClass("has-error"),t(".image-upload .alert").removeClass("d-none").text(i.result.errors.image),t('input[name="image-filename"]').val("")),r("add"),n("add")},add:function(n,r){t(".image-upload").removeClass("has-error"),t(".image-upload .alert").addClass("d-none").text(""),i("add"),r.submit(),e("add")}}),t("#multimedia-add-modal form").submit((function(){t("#multimedia-add-modal .alert").addClass("d-none"),t("#multimedia-add-modal .has-error").removeClass("has-error");var a=t("#multimedia-add-modal").attr("data-album")||0,l=t('#multimedia-add-modal select[name="album"]').val(),u=t("#multimedia-add-modal form").serialize();return i("add"),e("add"),t.post(settings.base_url+"/administrator/multimedia/json/add",u,(function(e){if(r("add"),n("add"),"ok"===e.status)a==l?(t("#page-multimedia .items-list").append(e.view),t("html, body").animate({scrollTop:t("#item-"+e.item_id).offset().top},2e3)):swal(MultimediaTranslations.js_added),t("#multimedia-add-modal").modal("hide"),s(!o());else if("err"===e.status)for(var i in t("#multimedia-add-modal .alert").removeClass("d-none"),e.errors)t('#multimedia-add-modal [name="'+i+'"]').closest(".form-group").addClass("has-error")})),!1})),t("#multimedia-album-add-modal form").submit((function(){t("#multimedia-album-add-modal .alert").addClass("d-none"),t("#multimedia-album-add-modal .has-error").removeClass("has-error");var e=t("#multimedia-album-add-modal").attr("data-album")||0,n=t('#multimedia-album-add-modal select[name="parent"]').val(),i=t("#multimedia-album-add-modal form").serialize();return t.post(settings.base_url+"/administrator/multimedia/json/album-add",i,(function(i){if("ok"===i.status)e==n?t("#page-multimedia .albums-list").append(i.view):swal(MultimediaTranslations.js_album_added),t("#multimedia-album-add-modal").modal("hide"),s(!o());else if("err"===i.status)for(var r in t("#multimedia-album-add-modal .alert").removeClass("d-none"),i.errors)t('#multimedia-album-add-modal [name="'+r+'"]').closest(".form-group").addClass("has-error")})),!1})),t("#page-multimedia").on("click",'[data-action="album-edit"]',(function(){var e=t(this).attr("data-id");t.getJSON(settings.base_url+"/administrator/multimedia/json/album/"+e,{},(function(n){if("ok"===n.status){for(var i in t('#multimedia-album-edit-modal input[name="album_id"]').val(e),n.album)t('#multimedia-album-edit-modal :input[name="'+i+'"]').val(n.album[i]);t("#multimedia-album-edit-modal").modal("show")}}))})),t("#multimedia-album-edit-modal form").submit((function(){t("#multimedia-album-edit-modal .alert").addClass("d-none"),t("#multimedia-album-edit-modal .has-error").removeClass("has-error");var e=t("#multimedia-album-edit-modal").attr("data-album")||0,n=t('#multimedia-album-edit-modal select[name="parent"]').val(),i=t('#multimedia-album-edit-modal input[name="album_id"]').val(),r=t("#multimedia-album-edit-modal form").serialize();return t.post(settings.base_url+"/administrator/multimedia/json/album-edit/"+i,r,(function(r){if("ok"===r.status)e==n?t('#page-multimedia .album[data-id="'+i+'"]').replaceWith(r.view):t('#page-multimedia .album[data-id="'+i+'"]').fadeOut(200,(function(){t(this).remove()})),t("#multimedia-album-edit-modal").modal("hide");else if("err"===r.status)for(var o in t("#multimedia-album-edit-modal .alert").removeClass("d-none"),r.errors)t('#multimedia-album-edit-modal [name="'+o+'"]').closest(".form-group").addClass("has-error")})),!1})),t("#page-multimedia").on("click",'[data-action="item-edit"]',(function(){var e=t(this).attr("data-id");t.getJSON(settings.base_url+"/administrator/multimedia/json/multimedia/"+e,{},(function(n){if("ok"===n.status){for(var i in t('#multimedia-edit-modal input[name="multimedia_id"]').val(e),n.multimedia)t('#multimedia-edit-modal :input[name="'+i+'"]').val(n.multimedia[i]);t("#multimedia-edit-modal").modal("show")}}))})),t("#multimedia-edit-modal form").submit((function(){t("#multimedia-edit-modal .alert").addClass("d-none"),t("#multimedia-edit-modal .has-error").removeClass("has-error");var o=t("#multimedia-edit-modal").attr("data-album")||0,s=t('#multimedia-edit-modal select[name="album"]').val(),a=t('#multimedia-edit-modal input[name="multimedia_id"]').val(),l=t("#multimedia-edit-modal form").serialize();return i("edit"),e("edit"),t.post(settings.base_url+"/administrator/multimedia/json/edit/"+a,l,(function(e){if(r("edit"),n("edit"),"ok"===e.status)o==s?(t('#page-multimedia .multimedia-item[data-id="'+a+'"]').replaceWith(e.view),t("html, body").animate({scrollTop:t("#item-"+e.item_id).offset().top},2e3)):t('#page-multimedia .multimedia-item[data-id="'+a+'"]').fadeOut(200,(function(){t(this).remove()})),t("#multimedia-edit-modal").modal("hide");else if("err"===e.status)for(var i in t("#multimedia-edit-modal .alert").removeClass("d-none"),e.errors)t('#multimedia-edit-modal [name="'+i+'"]').closest(".form-group").addClass("has-error")})),!1})),t("#page-multimedia").on("click",'[data-action="multimedia-remove"]',(function(){var e=t(this).attr("data-id");return swal({title:"",text:MultimediaTranslations.js_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/multimedia/json/multimedia-remove/"+e,(function(n){"ok"===n.status&&t('#page-multimedia .multimedia-item[data-id="'+e+'"]').fadeOut(200,(function(){t(this).remove(),s(!o())}))}))})),!1})),t("#page-multimedia").on("click",'[data-action="album-remove"]',(function(){var e=t(this).attr("data-id");return swal({title:"",text:MultimediaTranslations.js_album_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/multimedia/json/album-remove/"+e,(function(n){"ok"===n.status&&t('#page-multimedia .album[data-id="'+e+'"]').fadeOut(200,(function(){t(this).remove(),s(!o())}))}))})),!1}))})),function(t){t('#page-news-categories [data-action="category-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:NewsTranslations.js_categories_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/news/categories/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/news/categories")}))})),!1}))}(e),function(t){t("#page-news-edit .news-date").datetimepicker({format:"d-m-Y H:i:s"}),t("#page-news-edit .input-news-image").fileupload({dataType:"json",progressInterval:10,done:function(e,n){t("#news-cover-progressbar").addClass("d-none"),"ok"===n.result.status?(t("#page-news-edit .news-image .image").html('<img src="'+settings.base_url+"/upload/news/s/"+n.result.filename+'" alt="">'),t("#page-news-edit .news-image .image").removeClass("d-none"),t("#page-news-edit .news-image .remove-image").removeClass("d-none"),t("#page-news-edit .news-image .upload-news-image").addClass("d-none")):"err"===n.result.status&&swal("Sorry, we could't process your image.")},add:function(e,n){n.submit(),t("#news-cover-progressbar div").width(0),t("#news-cover-progressbar").removeClass("d-none")},progressall:function(e,n){var i=parseInt(n.loaded/n.total*100,10);t("#news-cover-progressbar div").text(i+"%").width(i+"%")}}),t("#page-news-edit .remove-image").click((function(){var e=t(this).attr("data-id");return t.getJSON(settings.base_url+"/administrator/news/json/image-remove/"+e,(function(e){"ok"===e.status&&(t("#page-news-edit .news-image .remove-image").addClass("d-none"),t("#page-news-edit .news-image .upload-news-image").removeClass("d-none"),t("#page-news-edit .news-image .image").addClass("d-none"))})),!1}))}(e),function(t){t('#page-news [data-action="news-remove"]').click((function(){var e=t(this).attr("data-id");swal({title:"",text:NewsTranslations.js_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/news/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/news")}))}))}))}(e),function(t){t('#page-newsletter [data-action="newsletter-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:NewsletterTranslations.js_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/newsletter/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/newsletter")}))})),!1}))}(e),function(t){t('#page-newsletter-groups [data-action="group-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:NewsletterTranslations.js_group_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/newsletter/json/group-remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/newsletter/groups")}))})),!1}))}(e),function(t){t('#page-newsletter-send-greetings select[name="type"]').change((function(){var e=t(this).val();"users"===e?(t("#page-newsletter-send-greetings .groups-list").slideUp(100),t("#page-newsletter-send-greetings .users-list").slideDown(100)):"groups"===e&&(t("#page-newsletter-send-greetings .groups-list").slideDown(100),t("#page-newsletter-send-greetings .users-list").slideUp(100))})),t('#page-newsletter-send-greetings select[name="type"]').trigger("change")}(e),function(t){t("#newsletter-sortable1, #newsletter-sortable2, #newsletter-sortable3").sortable({connectWith:"ul.elements",stop:function(e,n){t("#newsletter_elements_count").html(t("#newsletter-sortable1 li").length),t("#news_elements_count").html(t("#newsletter-sortable2 li:not(.hidden)").length),t("#events_elements_count").html(t("#newsletter-sortable3 li:not(.hidden)").length)},change:function(e,n){t("#page-newsletter-send-content .drag-info").remove()}}).disableSelection(),t('#page-newsletter-send-content input[name="search"]').val(""),t('#page-newsletter-send-content input[name="search"]').keyup((function(){var e=t(this).val(),n=new RegExp(e,"i");return t("#newsletter-sortable2 li, #newsletter-sortable3 li").each((function(){var e=t(this).children("h4").text();n.test(e)?t(this).removeClass("hidden"):t(this).addClass("hidden")})),t("#news_elements_count").html(t("#newsletter-sortable2 li:not(.hidden)").length),t("#events_elements_count").html(t("#newsletter-sortable3 li:not(.hidden)").length),!1})),t("#page-newsletter-send-content form.step1").submit((function(){var e=[];return t("#newsletter-sortable1 li").each((function(){var n=t(this).attr("data-type"),i=t(this).attr("data-id");e.push({type:n,id:i})})),e.length<1?bootbox.alert("Sorry, you need to select at least one element."):t.getJSON(settings.base_url+"/administrator/newsletter/send/json/content-elements",{elements:e},(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/newsletter/send/content")})),!1})),t('#page-newsletter-send-content select[name="type"]').change((function(){var e=t(this).val();"users"===e?(t("#page-newsletter-send-content .groups-list").slideUp(100),t("#page-newsletter-send-content .users-list").slideDown(100)):"groups"===e&&(t("#page-newsletter-send-content .groups-list").slideDown(100),t("#page-newsletter-send-content .users-list").slideUp(100))})),t('#page-newsletter-send-content select[name="type"]').trigger("change")}(e),function(t){t('#page-newsletter-send-empty select[name="type"]').change((function(){var e=t(this).val();"users"===e?(t("#page-newsletter-send-empty .groups-list").slideUp(100),t("#page-newsletter-send-empty .users-list").slideDown(100)):"groups"===e&&(t("#page-newsletter-send-empty .groups-list").slideDown(100),t("#page-newsletter-send-empty .users-list").slideUp(100))})),t('#page-newsletter-send-empty select[name="type"]').trigger("change")}(e),function(t){t('#page-newsletter-send select[name="type"]').change((function(){var e=t(this).val();t("#page-newsletter-send .recipients").addClass("hidden"),"users"===e?t("#page-newsletter-send .users-list").removeClass("hidden"):"groups"===e&&t("#page-newsletter-send .groups-list").removeClass("hidden")})),t('#page-newsletter-send select[name="type"]').trigger("change"),t('#page-newsletter-send select[name="template"]').change((function(){var e=t(this).val();e>0&&(t("#page-newsletter-send .additional").html(""),t.getJSON(settings.base_url+"/administrator/newsletter/json/template/"+e,(function(e){"ok"===e.status&&(tinyMCE.get("newsletter-message").setContent(e.content),t("#page-newsletter-send .additional").html(e.html))})))})),t('#page-newsletter-send select[name="template"]').trigger("change")}(e),function(t){t('#page-partners [data-action="move-up"]').click((function(){var e=t(this).attr("data-id");return t(this).closest("tr"),t.getJSON(settings.base_url+"/administrator/partners/json/move/up/"+e,(function(t){"ok"===t.status&&window.location.reload()})),!1})),t('#page-partners [data-action="move-down"]').click((function(){var e=t(this).attr("data-id");return t(this).closest("tr"),t.getJSON(settings.base_url+"/administrator/partners/json/move/down/"+e,(function(t){"ok"===t.status&&window.location.reload()})),!1})),t('#page-partners [data-action="partner-remove"]').click((function(){var e=t(this).attr("data-id");swal({title:"",text:PartnersTranslations.js_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/partners/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/partners")}))}))}))}(e),function(t){t("#page-partner-edit .partner-image").fileupload({dataType:"json",done:function(e,n){"ok"===n.result.status&&(t("#page-partner-edit .partner-image-preview").html('<img src="'+settings.base_url+"/upload/partners/"+n.result.filename+'" alt="">').removeClass("d-none"),t("#page-partner-edit .upload-partner-image").addClass("d-none"),t("#page-partner-edit .remove-partner-image").removeClass("d-none"))}}),t(document).on("click","#page-partner-edit .remove-partner-image",(function(){var e=t(this).attr("data-id");return swal({title:"",text:"Are you sure you want to remove image?",showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/partners/json/image-remove/"+e,(function(e){"ok"===e.status&&(t("#page-partner-edit .partner-image-preview").html("").addClass("d-none"),t("#page-partner-edit .upload-partner-image").removeClass("d-none"),t("#page-partner-edit .remove-partner-image").addClass("d-none"))}))})),!1}))}(e),function(t){t('#page-projects [data-action="project-remove"]').click((function(){var e=t(this).attr("data-id");swal({title:"",text:ProjectsTranslations.js_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/projects/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/projects")}))}))}))}(e),function(t){t('#page-project-edit [data-action="image-remove"]').click((function(){var e=t(this).attr("data-id");return t.getJSON(settings.base_url+"/administrator/projects/json/cover-remove/"+e,(function(e){"ok"===e.status&&(t("#page-project-edit .image .inner").html(""),t('#page-project-edit [data-action="image-remove"]').addClass("d-none"))})),!1})),t("#page-project-edit .image .input-cover-image").fileupload({dataType:"json",done:function(e,n){"ok"===n.result.status&&(t("#page-project-edit .image .inner").html('<img src="'+settings.base_url+"/upload/projects/covers/"+n.result.filename+'" alt="">'),t('#page-project-edit .image [data-action="image-remove"]').removeClass("d-none"))}}),t("#page-project-edit .input-image").fileupload({dataType:"json",done:function(e,n){"ok"===n.result.status&&(t("#page-project-edit .project-images").append('<div class="project-image" data-id="'+n.result.image_id+'"><a href="'+settings.base_url+"/upload/projects/"+n.result.filename+'" target="_blank" class="preview"><img src="'+settings.base_url+"/upload/projects/"+n.result.filename+'" alt=""></a><a href="#" class="remove"><i class="fas fa-times-circle"></i></a></div>'),t("#page-project-edit .project-images").removeClass("d-none"))}}),t(document).on("click","#page-project-edit .project-image .remove",(function(){var e=t(this).parent().attr("data-id");return swal({title:"",text:ProjectsTranslations.js_image_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/projects/json/image-remove/"+e,(function(n){"ok"===n.status&&t('#page-project-edit .project-image[data-id="'+e+'"]').remove()}))})),!1}))}(e),function(t){t('#page-projects-tags [data-action="tag-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:ProjectsTranslations.js_tag_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!0},(function(){t.getJSON(settings.base_url+"/administrator/projects/tags/json/remove/"+e,(function(t){"ok"===t.status&&(window.location.href=settings.base_url+"/administrator/projects/tags")}))})),!1}))}(e),function(t){t('#page-sliders-slide-add [name="start_date"], #page-sliders-slide-add [name="end_date"]').datetimepicker({format:"d-m-Y H:i:s"}),t('#page-sliders-slide-add input[type="file"]').change((function(){var e=t(this).attr("name");t('input[type="file"]').not('[name="'+e+'"]').attr("disabled",!0),t('input[type="file"]').not('[name="'+e+'"]').parent().addClass("disabled")})),t('#page-sliders-slide-add input[name="url"]').keyup((function(){t(this).val()?t("#page-sliders-slide-add .slide-url").removeClass("d-none"):(t("#page-sliders-slide-add .slide-url").addClass("d-none"),t('#page-sliders-slide-add .slide-url [type="text"]').val(""))})),t('#page-sliders-slide-add input[name="url"]').trigger("keyup"),t('#page-sliders-slide-add select[name="available_date"]').change((function(){1==t(this).val()?t("#page-sliders-slide-add .available-date").removeClass("d-none"):t("#page-sliders-slide-add .available-date").addClass("d-none")})),t('#page-sliders-slide-add select[name="available_date"]').trigger("change"),t('#page-sliders-slide-add input[name="tmp"]').fileupload({dataType:"json",progressInterval:50,done:function(e,n){t("#page-sliders-slide-add :input").attr("disabled",!1),t("#page-sliders-slide-add .progress-bar").width("0%"),"ok"===n.result.status&&(t("#page-sliders-slide-add .slide-preview img").attr("src",settings.base_url+"/upload/tmp/"+n.result.filename),t('#page-sliders-slide-add input[name="image"]').val(n.result.filename))},add:function(e,n){n.submit(),t("#page-sliders-slide-add :input").attr("disabled",!0)},progressall:function(e,n){var i=parseInt(n.loaded/n.total*100,10);t("#page-sliders-slide-add .progress-bar").width(i+"%")}})}(e),function(t){t('#page-sliders-slide-edit [name="start_date"], #page-sliders-slide-edit [name="end_date"]').datetimepicker({format:"d-m-Y H:i:s"}),t('#page-sliders-slide-edit input[name="url"]').keyup((function(){t(this).val()?t("#page-sliders-slide-edit .slide-url").removeClass("d-none"):(t("#page-sliders-slide-edit .slide-url").addClass("d-none"),t('#page-sliders-slide-edit .slide-url [type="text"]').val(""))})),t('#page-sliders-slide-edit input[name="url"]').trigger("keyup"),t('#page-sliders-slide-edit select[name="available_date"]').change((function(){1==t(this).val()?t("#page-sliders-slide-edit .available-date").removeClass("d-none"):t("#page-sliders-slide-edit .available-date").addClass("d-none")})),t('#page-sliders-slide-edit select[name="available_date"]').trigger("change"),t('#page-sliders-slide-edit input[name="image"]').fileupload({dataType:"json",progressInterval:50,done:function(e,n){t("#page-sliders-slide-edit :input").attr("disabled",!1),t("#page-sliders-slide-edit .progress-bar").width("0%"),"ok"===n.result.status&&t("#page-sliders-slide-edit .slide-preview img").attr("src",settings.base_url+"/upload/slides/"+n.result.filename)},add:function(e,n){n.submit(),t("#page-sliders-slide-edit :input").attr("disabled",!0)},progressall:function(e,n){var i=parseInt(n.loaded/n.total*100,10);t("#page-sliders-slide-edit .progress-bar").width(i+"%")}})}(e),function(t){t('#page-sliders [data-action="slider-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:SlidersTranslations.js_slider_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/sliders/json/remove/"+e,(function(t){"ok"===t.status&&window.location.reload()}))})),!1})),t('#page-sliders [data-action="slide-remove"]').click((function(){var e=t(this).attr("data-id");return swal({title:"",text:SlidersTranslations.js_slide_remove,showCancelButton:!0,confirmButtonClass:"btn-danger",confirmButtonText:"Yes, remove",closeOnConfirm:!1},(function(){t.getJSON(settings.base_url+"/administrator/sliders/json/slide-remove/"+e,(function(t){"ok"===t.status&&window.location.reload()}))})),!1})),t('#page-sliders [data-action="move-up"]').click((function(){var e=t(this).attr("data-id");return t.getJSON(settings.base_url+"/administrator/sliders/json/slide-move/up/"+e,(function(t){"ok"===t.status&&window.location.reload()})),!1})),t('#page-sliders [data-action="move-down"]').click((function(){var e=t(this).attr("data-id");return t.getJSON(settings.base_url+"/administrator/sliders/json/slide-move/down/"+e,(function(t){"ok"===t.status&&window.location.reload()})),!1}))}(e)}).call(this,n(0),n(0))},function(t,e){}]);